!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n}function i(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function o(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function c(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],i=0}finally{a=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,i,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function u(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function h(e,t,n){function r(e){u[e]&&(c[e]=function(t){return new Promise(function(n,r){d.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{i(u[e](t))}catch(e){l(d[0][3],e)}}function i(e){e.value instanceof m?Promise.resolve(e.value.v).then(o,s):l(d[0][2],e)}function o(e){a("next",e)}function s(e){a("throw",e)}function l(e,t){e(t),d.shift(),d.length&&a(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=n.apply(e,t||[]),d=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function g(e){function t(t,a){e[t]&&(n[t]=function(n){return(r=!r)?{value:m(e[t](n)),done:"return"===t}:a?a(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof d?d(e):e[Symbol.iterator]()}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return v}),t.__rest=a,t.__decorate=i,t.__param=o,t.__metadata=s,t.__awaiter=l,t.__generator=c,t.__exportStar=u,t.__values=d,t.__read=p,t.__spread=f,t.__await=m,t.__asyncGenerator=h,t.__asyncDelegator=g,t.__asyncValues=y,t.__makeTemplateObject=b;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(13),i=n(14),o=n(6),s=n(15),l=function(){function e(){}return e.timeInS_rollDice=function(){return this._timeInS_rollDice},e.timeInS_choose_bool_func=function(){return this._timeInS_choose_bool_func},e.timeInS_goto=function(){return this._timeInS_goto},e.timeInS_set_var=function(){return this._timeInS_set_var},e.timeInS_advancePlayer=function(){return this._timeInS_advancePlayer},e.timeInS_rollback=function(){return this._timeInS_rollback},e.timeInS_var_decl=function(){return this._timeInS_var_decl},e.timeInS_expr_primary_leftSteps=function(){return this._timeInS_expr_primary_leftSteps},e.timeInS_expr_primary_constant=function(){return this._timeInS_expr_primary_constant},e.timeInS_expr_primary_ident=function(){return this._timeInS_expr_primary_ident},e.timeInS_expr_primary_incrementOrDecrement=function(){return this._timeInS_expr_primary_incrementOrDecrement},e.timeInS_expr_disjunction=function(){return this._timeInS_expr_disjunction},e.timeInS_expr_conjunction=function(){return this._timeInS_expr_conjunction},e.timeInS_expr_comparison=function(){return this._timeInS_expr_comparison},e.timeInS_expr_relation=function(){return this._timeInS_expr_relation},e.timeInS_expr_sum=function(){return this._timeInS_expr_sum},e.timeInS_expr_term=function(){return this._timeInS_expr_term},e.timeInS_expr_factor=function(){return this._timeInS_expr_factor},e.timeInS_rollDice_default=2,e.timeInS_choose_bool_func_default=.3,e.timeInS_goto_default=.5,e.timeInS_set_var_default=3,e.timeInS_advancePlayer_default=1,e.timeInS_rollback_default=2,e.timeInS_var_decl_default=3,e.timeInS_expr_primary_leftSteps_default=2,e.timeInS_expr_primary_constant_default=.5,e.timeInS_expr_primary_ident_default=1,e.timeInS_expr_primary_incrementOrDecrement_default=1,e.timeInS_expr_disjunction_default=1,e.timeInS_expr_conjunction_default=1,e.timeInS_expr_comparison_default=1,e.timeInS_expr_relation_default=1,e.timeInS_expr_sum_default=1,e.timeInS_expr_term_default=1,e.timeInS_expr_factor_default=1,e._timeInS_rollDice=e.timeInS_rollDice_default,e._timeInS_choose_bool_func=e.timeInS_choose_bool_func_default,e._timeInS_goto=e.timeInS_goto_default,e._timeInS_set_var=e.timeInS_set_var_default,e._timeInS_advancePlayer=e.timeInS_advancePlayer_default,e._timeInS_rollback=e.timeInS_rollback_default,e._timeInS_var_decl=e.timeInS_var_decl_default,e._timeInS_expr_primary_leftSteps=e.timeInS_expr_primary_leftSteps_default,e._timeInS_expr_primary_constant=e.timeInS_expr_primary_constant_default,e._timeInS_expr_primary_ident=e.timeInS_expr_primary_ident_default,e._timeInS_expr_primary_incrementOrDecrement=e.timeInS_expr_primary_incrementOrDecrement_default,e._timeInS_expr_disjunction=e.timeInS_expr_disjunction_default,e._timeInS_expr_conjunction=e.timeInS_expr_conjunction_default,e._timeInS_expr_comparison=e.timeInS_expr_comparison_default,e._timeInS_expr_relation=e.timeInS_expr_relation_default,e._timeInS_expr_sum=e.timeInS_expr_sum_default,e._timeInS_expr_term=e.timeInS_expr_term_default,e._timeInS_expr_factor=e.timeInS_expr_factor_default,e}();t.SimulationTimes=l,t.playerColors=["#00dd0a","#0089dd","#dd0011","#f1f300","#f300b5"];var c=s(),u=function(){function e(){}return e.createNewMachineState=function(){return{globalDefTable:{},currentPlayerIndex:0,nextPlayerIndex:0,previousPlayerIndex:0,currentPlayerActiveTokenIndex:0,players:[{tokens:[],defTable:{},suspendCounter:0,color:"",name:"default player",id:-1,localDefTables:[{isScopeLimited:!1,defTable:{}}],lastReturnedValue:void 0}],rolledDiceValue:0,leftDiceValue:0,maxDiceValue:0,gameEndCondition:null,rollbackState:null,wasStateRolledBack:!1,elapsedTimeInS:0,winnersIds:[]}},e.setSeed=function(e){c=s(null===e?null:e.toString())},e.rollDice=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=6),{state:r.__assign({},e,{elapsedTimeInS:e.elapsedTimeInS+l.timeInS_rollDice()}),diceValue:Math.floor(c.quick()*n+t)}},e.advancePlayerIndex=function(e){var t=(e.currentPlayerIndex+1)%e.players.length;return r.__assign({},e,{currentPlayerIndex:t,nextPlayerIndex:(t+1)%e.players.length,previousPlayerIndex:t-1<0?e.players.length-1:t-1,elapsedTimeInS:e.elapsedTimeInS+l.timeInS_advancePlayer()})},e.executeAllGameDefinitionStatements=function(e,t){for(var n=t,r=0;r<e.length;r++){var a=e[r];n=this.executeGameDefinitionStatement(a,n)}return n},e.executeGameDefinitionStatement=function(e,t){switch(e.type){case"game_vars":var n=this.execGameDef(e,t);return n;case"players_def":var n=this.execPlayerDef(e,t);return n;default:o.notExhaustive(e)}},e.execPlayerDef=function(e,n){n.players.length>0&&-1!==n.players[0].id&&this.makeError("players def can only be defined once"),e.numTokensPerPlayer<=0&&this.makeError("a player needs at least 1 token --\x3e set numTokensPerPlayer to >= 1");for(var a=r.__assign({},n,{players:[]}),i=0;i<e.numPlayers;i++){for(var o=t.playerColors[i],s=[],l=0;l<e.numTokensPerPlayer;l++){var c={color:o,fieldId:null,tileGuid:null,name:"player"+i+"_token"+l,previousPositions:[]};s.push(c)}var u={id:i,color:o,name:"player"+i,defTable:{},localDefTables:[{isScopeLimited:!1,defTable:{}}],tokens:s,suspendCounter:0,lastReturnedValue:void 0};a=r.__assign({},a,{players:a.players.concat(u),currentPlayerIndex:i});a=this.execPlayerVars(e.vars,a,i)}return a=r.__assign({},a,{currentPlayerIndex:0,nextPlayerIndex:1%a.players.length,previousPlayerIndex:a.players.length-1})},e.execPlayerVars=function(e,t,n){for(var i=this,o=t,s=this,l=0;l<e.length;l++)!function(l){var c=e[l];void 0===t.players[n]&&s.makeError("player with index "+n+" was not found (execPlayerVars)"),o.players[n].defTable[c.ident]&&s.makeError("player var "+c.ident+" is already defined");var u=s.execExpression(c.expr,o);o=u.state,c.var_type===a.VarType.int?(null!==u.boolVal&&s.makeError("player var "+c.ident+" is of type int but expression is of type bool"),o=r.__assign({},o,{players:o.players.map(function(e,t){return n!==t?e:r.__assign({},e,{defTable:r.__assign({},e.defTable,(a={},a[c.ident]={val:i.circularArithmeticVal(u.val,c.maxVal+1,c.maxVal),ident:c.ident,maxVal:c.maxVal},a))});var a})})):c.var_type===a.VarType.bool&&(null!==u.val&&s.makeError("player var "+c.ident+" is of type bool but expression is of type int"),o=r.__assign({},o,{players:o.players.map(function(e,t){return n!==t?e:r.__assign({},e,{defTable:r.__assign({},e.defTable,(a={},a[c.ident]={boolVal:u.boolVal,ident:c.ident},a))});var a})}))}(l);return o},e.execPlayerVarAssign=function(e,t){var n=this.getSomePlayerIndex(e.player,t,"primary_player_var_ident unknown player"),r=t.players[n].defTable[e.ident];r||this.makeError("player var assign unknown var "+e.ident+" for player");var a=this.execExpression(e.expr,t);return t=a.state,this._execPlayerVarAssign(r,n,a,t)},e._execPlayerVarAssign=function(e,t,n,a){if(null!==n.val&&(i.isBoolVar(e)&&this.makeError("player var assign var "+e.ident+" is of type bool but epxr is of type int"),i.isIntVar(e))){var o=r.__assign({},n.state,{players:a.players.map(function(a,i){return i!==t?a:r.__assign({},a,{defTable:r.__assign({},a.defTable,(o={},o[e.ident]={val:n.val,maxVal:e.maxVal,ident:e.ident},o))});var o}),elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_set_var()});return{val:n.val,boolVal:null,state:o}}if(null!==n.boolVal&&(i.isIntVar(e)&&this.makeError("player var assign var "+e.ident+" is of type int but epxr is of type bool"),i.isBoolVar(e))){var o=r.__assign({},n.state,{players:a.players.map(function(a,i){return i!==t?a:r.__assign({},a,{defTable:r.__assign({},a.defTable,(o={},o[e.ident]={boolVal:n.boolVal,ident:e.ident},o))});var o}),elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_set_var()});return{val:null,boolVal:n.boolVal,state:o}}return this.makeError("player var assign var "+e.ident+" unknown val/type"),null},e.execGameDef=function(e,t){var n=this.execGameVars(e.vars,t);return r.__assign({},n,{maxDiceValue:e.maxDiceValue,gameEndCondition:e.endCondition})},e.execGameVars=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];t.globalDefTable[i.ident]&&this.makeError("global var "+i.ident+" is already defined");var o=this.execExpression(i.expr,t);t=o.state,i.var_type===a.VarType.int?(null!==o.boolVal&&this.makeError("global var "+i.ident+" is of type int but expression is of type bool"),t=r.__assign({},t,{globalDefTable:r.__assign({},t.globalDefTable,(s={},s[i.ident]={val:this.circularArithmeticVal(o.val,i.maxVal+1,i.maxVal),ident:i.ident,maxVal:i.maxVal},s))})):i.var_type===a.VarType.bool&&(null!==o.val&&this.makeError("global var "+i.ident+" is of type bool but expression is of type int"),t=r.__assign({},t,{globalDefTable:r.__assign({},t.globalDefTable,(l={},l[i.ident]={boolVal:o.boolVal,ident:i.ident},l))}))}return t;var s,l},e.executeAll=function(e,t){for(var n=t,r=0;r<e.length;r++){var a=e[r];n=this.executeStatement(a,n)}return n},e.executeStatement=function(e,t){switch(e.type){case"var_decl":var n=this.execVarDecl(e,t);return n;case"expression":var n=this.execExpression(e,t);return n.state;case"log":var n=this.execExpression(e.expr,t);return this.builtIn_log(n.val),t;case"if":var n=this.execIf(e,t);return n;case"ifElse":var n=this.execIfElse(e,t);return n;case"goto":var n=this.execGoto(e,t);return n;case"start":var n=this.execStart(e,t);return n;case"end":var n=this.execEnd(e,t);return n;case"force":return t;case"control_goto":var n=this.execControlGoto(e,t);return n;case"control_ifElse":var n=this.execControlIfElse(e,t);return n;case"move_func":var n=this.execMoveFunc(e,t);return n;case"rollback_func":var n=this.execRollbackFunc(e,t);return n;case"sleep_func":var n=this.execSleepFunc(e,t);return n;case"begin_scope":var n=this.execBeginScope(e,t);return n;case"set_return_result":var n=this.execSetReturnResultUnit(e,t);return n;case"end_scope":var n=this.execEndScope(e,t);return n;case"limit_scope":var n=this.execLimitScope(e,t);return n;default:o.notExhaustive(e)}},e.execControlIfElse=function(e,t){var n=this.execExpression(e.conditionExpr,t);null===n.boolVal&&this.makeError("if condition must be of type bool");var a=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex];return r.__assign({},t,{players:t.players.map(function(i,o){return o!==t.currentPlayerIndex?i:r.__assign({},i,{tokens:i.tokens.map(function(i,o){return o!==t.currentPlayerActiveTokenIndex?i:r.__assign({},i,{fieldId:!0===n.boolVal?e.trueTargetId:e.falseTargetId,previousPositions:a.previousPositions.concat({tileGuid:a.tileGuid,fieldId:a.fieldId})})})})}),leftDiceValue:t.leftDiceValue-1,elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_goto()})},e.execControlGoto=function(e,t){var n=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex];return r.__assign({},t,{players:t.players.map(function(a,i){return i!==t.currentPlayerIndex?a:r.__assign({},a,{tokens:a.tokens.map(function(a,i){return i!==t.currentPlayerActiveTokenIndex?a:r.__assign({},a,{fieldId:e.targetId,previousPositions:n.previousPositions.concat({tileGuid:n.tileGuid,fieldId:n.fieldId})})})})}),leftDiceValue:t.leftDiceValue-1,elapsedTimeInS:t.elapsedTimeInS+l.timeInS_goto()})},e.execBeginScope=function(e,t){return r.__assign({},t,{players:t.players.map(function(e,n){return n!==t.currentPlayerIndex?e:r.__assign({},e,{localDefTables:e.localDefTables.concat({isScopeLimited:!1,defTable:{}})})})})},e.execEndScope=function(e,t){return 1===t.players[t.currentPlayerIndex].localDefTables.length&&this.makeError("the initial scope cannot be closed/ended"),r.__assign({},t,{players:t.players.map(function(e,n){return n!==t.currentPlayerIndex?e:r.__assign({},e,{localDefTables:e.localDefTables.filter(function(t,n){return n<e.localDefTables.length-1})})})})},e.execLimitScope=function(e,t){return r.__assign({},t,{players:t.players.map(function(e,n){return n!==t.currentPlayerIndex?e:r.__assign({},e,{localDefTables:e.localDefTables.map(function(t,n){return n!==e.localDefTables.length-1?t:r.__assign({},t,{isScopeLimited:!0})})})})})},e.execSetReturnResultUnit=function(e,t){var n=this.execExpression(e.expr,t);return t=n.state,null===n.val&&null===n.boolVal&&this.makeError("assigning return result expression did not give a result"),r.__assign({},t,{players:t.players.map(function(e,a){return a!==t.currentPlayerIndex?e:r.__assign({},e,{lastReturnedValue:null!==n.val?n.val:n.boolVal})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_set_var()})},e.execSleepFunc=function(e,t){var n=this.execExpression(e.roundsExpr,t);t=n.state,null===n.val&&this.makeError("sleep function rounds arg needs to be of type int");var i=this.getSomePlayerIndex(e.player,t,"unknown player for sleep function");return r.__assign({},t,{players:t.players.map(function(e,t){return t!==i?e:r.__assign({},e,{suspendCounter:Math.max(e.suspendCounter+n.val,0)})}),leftDiceValue:e.player===a.SomePlayer.currentPlayer?0:t.leftDiceValue})},e.execMoveFunc=function(e,t){var n=this.execExpression(e.numStepsExpr,t);return null===n.val&&this.makeError("move argument must return an int"),t=n.state,r.__assign({},t,{leftDiceValue:t.leftDiceValue+n.val})},e.execRollbackFunc=function(e,t){return null===t.rollbackState?t:r.__assign({},t.rollbackState,{leftDiceValue:0,wasStateRolledBack:!0,elapsedTimeInS:t.elapsedTimeInS+l.timeInS_rollback()})},e.execStart=function(e,t){if(null===e.startCondition)return t;var n=this.execExpression(e.startCondition,t);return null===n.boolVal&&this.makeError("start condition must be of type bool"),r.__assign({},t,{elapsedTimeInS:n.state.elapsedTimeInS})},e.execEnd=function(e,t){var n=t.players[t.currentPlayerIndex];return r.__assign({},t,{winnersIds:t.winnersIds.concat(n.id)})},e.execGoto=function(e,t){return r.__assign({},t,{players:t.players.map(function(n,a){return a!==t.currentPlayerIndex?n:r.__assign({},n,{tokens:n.tokens.map(function(n,a){return a!==t.currentPlayerActiveTokenIndex?n:r.__assign({},n,{fieldId:e.targetId})})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_goto()})},e.execIf=function(e,t){var n=this.execExpression(e.conditionExpr,t);if(null===n.boolVal&&this.makeError("if condition must be of type bool"),!1===n.boolVal)return n.state;for(var r=n.state,a=0;a<e.trueUnits.length;a++){var i=e.trueUnits[a];r=this.executeStatement(i,r)}return r},e.execIfElse=function(e,t){var n=this.execExpression(e.conditionExpr,t);null===n.boolVal&&this.makeError("if else condition must be of type bool");var r=n.state;if(!1===n.boolVal){for(var a=0;a<e.falseUnits.length;a++){var i=e.falseUnits[a];r=this.executeStatement(i,r)}return r}for(var a=0;a<e.trueUnits.length;a++){var i=e.trueUnits[a];r=this.executeStatement(i,r)}return r},e.execVarDecl=function(e,t){var n=this,i=t.players[t.currentPlayerIndex].localDefTables,o=i.length-1;i[o].defTable[e.ident]&&this.makeError("var "+e.ident+" is already defined in current local vars scope");var s=this.execExpression(e.expr,t);t=s.state;return e.var_type===a.VarType.int?(null!==s.boolVal&&this.makeError("var "+e.ident+" is of type int but expression is of type bool"),r.__assign({},t,{players:t.players.map(function(a,i){return i!==t.currentPlayerIndex?a:r.__assign({},a,{localDefTables:a.localDefTables.map(function(t,a){return a!==o?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(i={},i[e.ident]={ident:e.ident,val:n.circularArithmeticVal(s.val,e.maxVal+1,e.maxVal),maxVal:e.maxVal},i))});var i})})}),elapsedTimeInS:s.state.elapsedTimeInS+l.timeInS_var_decl()})):e.var_type===a.VarType.bool?(null!==s.val&&this.makeError("var "+e.ident+" is of type bool but expression is of type int"),r.__assign({},t,{players:t.players.map(function(n,a){return a!==t.currentPlayerIndex?n:r.__assign({},n,{localDefTables:n.localDefTables.map(function(t,n){return n!==o?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(a={},a[e.ident]={ident:e.ident,boolVal:s.boolVal},a))});var a})})}),elapsedTimeInS:s.state.elapsedTimeInS+l.timeInS_var_decl()})):void this.makeError("var type for var "+e.ident+" is unknown")},e.execExpression=function(e,t){switch(e.right.type){case"assignment":var n=this.execAssign(e.right,t);return n;case"ternary_expression":var n=this.execTernaryExpr(e.right,t);return n;case"player_var_assign":var n=this.execPlayerVarAssign(e.right,t);return n;default:o.notExhaustive(e.right)}},e.execAssign=function(e,t){var n=this,a=this.execExpression(e.expr,t);if(t=a.state,t.players[t.currentPlayerIndex].localDefTables.length>0)for(var o=t.players[t.currentPlayerIndex].localDefTables.length-1,s=this;o>=0;){var c=function(){var c=t.players[t.currentPlayerIndex].localDefTables[o];if(c.isScopeLimited)return"break";var u=c.defTable[e.ident];return void 0===u?(o--,"continue"):i.isBoolVar(u)?(null===a.boolVal&&s.makeError("assignment error: tried to assign a not bool value to the bool variable "+e.ident),{value:{val:null,boolVal:a.boolVal,state:r.__assign({},t,{players:t.players.map(function(n,i){return i!==t.currentPlayerIndex?n:r.__assign({},n,{localDefTables:n.localDefTables.map(function(t,n){return n!==o?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(i={},i[e.ident]={ident:e.ident,boolVal:a.boolVal},i))});var i})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_set_var()})}}):i.isIntVar(u)?(null===a.val&&s.makeError("assignment error: tried to assign a not int value to the int variable "+e.ident),{value:{val:a.val,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(i,s){return s!==t.currentPlayerIndex?i:r.__assign({},i,{localDefTables:i.localDefTables.map(function(t,i){return i!==o?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(s={},s[e.ident]={ident:e.ident,maxVal:u.maxVal,val:n.circularArithmeticVal(a.val,u.maxVal+1,u.maxVal)},s))});var s})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_set_var()})}}):void 0}();if("object"==typeof c)return c.value;if("break"===c)break}if(void 0!==t.players[t.currentPlayerIndex].defTable[e.ident]){var u=t.players[t.currentPlayerIndex].defTable[e.ident];return this._execPlayerVarAssign(u,t.currentPlayerIndex,a,t)}var d=t.globalDefTable[e.ident];if(d||this.makeError("var "+e.ident+" is not defined"),i.isBoolVar(d)){null===a.boolVal&&this.makeError("global var "+e.ident+" assing: cannot assign not bool expr to bool var");var p={val:null,boolVal:a.boolVal,state:r.__assign({},a.state,{globalDefTable:r.__assign({},a.state.globalDefTable,(m={},m[e.ident]={ident:e.ident,boolVal:a.boolVal},m)),elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_set_var()})};return p}if(i.isIntVar(d)){null===a.val&&this.makeError("global var "+e.ident+" assing: cannot assign not int expr to int var");var f=this.circularArithmeticVal(a.val,d.maxVal+1,d.maxVal),p={val:f,boolVal:null,state:r.__assign({},a.state,{globalDefTable:r.__assign({},a.state.globalDefTable,(h={},h[e.ident]={ident:e.ident,val:f,maxVal:d.maxVal},h)),elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_set_var()})};return p}return this.makeError("global var "+e.ident+" assing: unknown variable type"),{state:t,val:null,boolVal:null};var m,h},e.execTernaryExpr=function(e,t){if(null!==e.disjunction){return this.execDisjunction(e.disjunction,t)}null===e.condition&&this.makeError("ternary expression has no condition"),null===e.trueExpression&&this.makeError("ternary expression has no true expression (left)"),null===e.falseExpression&&this.makeError("ternary expression has no false expression (right)");var n=this.execDisjunction(e.condition,t);t=n.state,null===n.boolVal&&this.makeError("ternary expression condition didn't evaluate to a bool");var a=r.__assign({},t),i=r.__assign({},t),o=this.execExpression(e.trueExpression,a),s=this.execExpression(e.falseExpression,i);return null!==o.val&&null!==s.val||null!==o.boolVal&&null!==s.boolVal||this.makeError("ternary expression both values must be of the same type"),n.boolVal?o:s},e.execDisjunction=function(e,t){if(null===e.left){return this.execConjunction(e.right,t)}var n=this.execDisjunction(e.left,t),a=this.execConjunction(e.right,n.state);return null===n.boolVal&&this.makeError("disjunction (or) left op must be of type bool"),null===a.boolVal&&this.makeError("disjunction (or) right op must be of type bool"),{state:r.__assign({},a.state,{elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_expr_disjunction()}),val:null,boolVal:n.boolVal||a.boolVal}},e.execConjunction=function(e,t){if(null===e.left){return this.execComparison(e.right,t)}var n=this.execConjunction(e.left,t),a=this.execComparison(e.right,n.state);return null===n.boolVal&&this.makeError("conjunction (and) left op must be of type bool"),null===a.boolVal&&this.makeError("conjunction (and) right op must be of type bool"),{state:r.__assign({},a.state,{elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_expr_conjunction()}),val:null,boolVal:n.boolVal&&a.boolVal}},e.execComparison=function(e,t){if(null===e.left){return this.execRelation(e.right,t)}null===e.op&&this.makeError("comarison op was null, must be one of ==, !==");var n=this.execRelation(e.left,t),a=this.execRelation(e.right,n.state);return null!==n.val&&null!==a.val?{state:r.__assign({},a.state,{elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_expr_comparison()}),val:null,boolVal:"=="===e.op?n.val===a.val:"!="===e.op?n.val!==a.val:this.makeError("unknown comarison op, must be one of ==, !==")}:null!==n.boolVal&&null!==a.boolVal?{state:r.__assign({},a.state,{elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_expr_comparison()}),val:null,boolVal:"=="===e.op?n.boolVal===a.boolVal:"!="===e.op?n.boolVal!==a.boolVal:this.makeError("unknown comarison op, must be one of ==, !==")}:(this.makeError("comparison operands must be of same type"),{val:null,state:a.state,boolVal:null})},e.execRelation=function(e,t){if(null===e.left){return this.execSum(e.right,t)}if(null===e.op)return this.makeError("no op for relation, expected one of <, >, <=, >="),{val:null,state:t,boolVal:null};var n=this.execSum(e.left,t),a=this.execSum(e.right,n.state);return null!==n.boolVal?(this.makeError("relation left type is bool but need to be int"),{val:null,state:a.state,boolVal:null}):null!==a.boolVal?(this.makeError("relation right type is bool but need to be int"),{val:null,state:a.state,boolVal:null}):null!==n.val&&null!==a.val?{state:r.__assign({},a.state,{elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_expr_relation()}),val:null,boolVal:"<"===e.op?n.val<a.val:">"===e.op?n.val>a.val:">="===e.op?n.val>=a.val:"<="===e.op?n.val<=a.val:this.makeError("unknown sum op")}:(this.makeError("internal error on relation"),{val:42,state:a.state,boolVal:null})},e.execSum=function(e,t){if(null===e.left){return this.execTerm(e.right,t)}var n=this.execSum(e.left,t),a=this.execTerm(e.right,n.state);return null===e.op?(this.makeError("no op for sum, expected on of +, -"),{val:42,state:a.state,boolVal:null}):null!==n.boolVal?(this.makeError("sum (+,-) ops cannot have bool args"),{val:null,boolVal:null,state:a.state}):null!==a.boolVal?(this.makeError("sum (+,-) ops cannot have bool args"),{val:null,boolVal:null,state:a.state}):{state:r.__assign({},a.state,{elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_expr_sum()}),boolVal:null,val:"+"===e.op?n.val+a.val:"-"===e.op?n.val-a.val:this.makeError("unknown sum op")}},e.execTerm=function(e,t){if(null===e.left){return this.execFactor(e.right,t)}if(null===e.op)return this.makeError("no op for term"),{val:null,boolVal:null,state:t};var n=this.execTerm(e.left,t);if(null!==n.boolVal)return this.makeError("mul (*,/,%) ops cannot have bool args"),{val:null,boolVal:null,state:n.state};var a=this.execFactor(e.right,n.state);return null!==a.boolVal?(this.makeError("mul (*,/,%) ops cannot have bool args"),{val:null,boolVal:null,state:t}):{state:r.__assign({},a.state,{elapsedTimeInS:a.state.elapsedTimeInS+l.timeInS_expr_term()}),boolVal:null,val:"*"===e.op?this.forceIntVal(n.val*a.val):"/"===e.op?this.forceIntVal(n.val/a.val):"%"===e.op?this.forceIntVal(n.val%a.val):this.makeError("unknown op for term")}},e.execFactor=function(e,t){if(null===e.left){return this.execPrimary(e.right,t)}var n=this.execFactor(e.left,t);return null!==n.boolVal?{state:r.__assign({},n.state,{elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_expr_factor()}),val:null,boolVal:"not"===e.unOp?!n.boolVal:n.boolVal}:{state:r.__assign({},n.state,{elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_expr_factor()}),boolVal:null,val:"+"===e.unOp?n.val:-n.val}},e.execPrimary=function(e,t){switch(e.primary.type){case"expression":return this.execExpression(e.primary,t);case"primary_ident_leftSteps":return{val:t.leftDiceValue,boolVal:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_leftSteps()})};case"primary_roll_dice_func":var n=t.maxDiceValue;if(null!==e.primary.maxValExpr){var a=this.execExpression(e.primary.maxValExpr,t);null===a.val&&this.makeError("roll dice argument must return an int"),n=a.val,t=a.state}var i=this.rollDice(t,1,n);return{state:r.__assign({},i.state),boolVal:null,val:i.diceValue};case"primary_choose_bool_func":var s=this.rollDice(t,0,1);return{state:r.__assign({},s.state,{elapsedTimeInS:s.state.elapsedTimeInS-l.timeInS_rollDice()+l.timeInS_choose_bool_func()}),val:null,boolVal:1===s.diceValue};case"primary_constant":return null!==e.primary.intValue?{val:e.primary.intValue,boolVal:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_constant()})}:null!==e.primary.boolVal?{val:null,boolVal:e.primary.boolVal,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_constant()})}:(this.makeError("constant is no int, bool"),{boolVal:null,val:null,state:t});case"primary_decrement":case"primary_increment":return this.execPrimary_inc_or_decrement(e.primary,t);case"primary_ident":return this.execPrimary_ident(e.primary,t);case"primary_player_var_ident":return this.execPrimary_player_var(e.primary,t);case"primary_ident_last_result":var c=t.players[t.currentPlayerIndex].lastReturnedValue;return void 0===c&&this.makeError("last result value was not set yet"),{boolVal:"boolean"==typeof c?c:null,val:"number"==typeof c?c:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l._timeInS_expr_primary_ident})};default:o.notExhaustive(e.primary)}},e.execPrimary_inc_or_decrement=function(e,t){var n=this,a="primary_increment"===e.type;if(null!==e.player){var o=this.getSomePlayerIndex(e.player,t,"primary_increment invalid player"),s=t.players[o].defTable[e.ident];if(void 0===s)return this.makeError("def tab entry for player ident "+e.ident+" not found"),{state:t,val:null,boolVal:null};if(i.isBoolVar(s))return this.makeError("bool var player ident "+e.ident+" cannot be increment (only ints)"),{val:null,boolVal:null,state:t};var c=s.val+(a?1:-1);return{val:e.isPost?s.val:c,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(t,a){return a!==o?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(i={},i[e.ident]={val:n.circularArithmeticVal(c,s.maxVal+1,s.maxVal),maxVal:s.maxVal,ident:e.ident},i))});var i}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})}}if(t.players[t.currentPlayerIndex].localDefTables.length>0)for(var u=t.players[t.currentPlayerIndex].localDefTables.length-1,d=this;u>=0;){var p=function(){var o=t.players[t.currentPlayerIndex].localDefTables[u];if(o.isScopeLimited)return"break";var s=o.defTable[e.ident];if(void 0===s)return u--,"continue";if(i.isBoolVar(s))return d.makeError("bool local ident "+e.ident+" cannot be increment (only ints)"),{value:{val:null,boolVal:null,state:t}};var c=s.val+(a?1:-1);return{value:{val:e.isPost?s.val:c,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(a,i){return i!==t.currentPlayerIndex?a:r.__assign({},a,{localDefTables:a.localDefTables.map(function(t,a){return a!==u?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(i={},i[e.ident]={val:n.circularArithmeticVal(c,s.maxVal+1,s.maxVal),maxVal:s.maxVal,ident:e.ident},i))});var i})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})}}}();if("object"==typeof p)return p.value;if("break"===p)break}var f=t.players[t.currentPlayerIndex].defTable[e.ident];if(void 0!==f){if(i.isBoolVar(f))return this.makeError("bool var player ident "+e.ident+" cannot be increment (only ints)"),{val:null,boolVal:null,state:t};var m=f.val+(a?1:-1);return{val:e.isPost?f.val:m,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(a,i){return i!==t.currentPlayerIndex?a:r.__assign({},a,{defTable:r.__assign({},a.defTable,(o={},o[e.ident]={val:n.circularArithmeticVal(m,f.maxVal+1,f.maxVal),maxVal:f.maxVal,ident:e.ident},o))});var o}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})}}var h=t.globalDefTable[e.ident];if(!h)return this.makeError("global def tab entry for ident "+e.ident+" not found"),{state:t,val:null,boolVal:null};if(i.isBoolVar(h))return this.makeError("global bool var ident "+e.ident+" cannot be increment (only ints)"),{val:null,boolVal:null,state:t};var g=h.val+(a?1:-1);return{val:e.isPost?h.val:g,boolVal:null,state:r.__assign({},t,{globalDefTable:r.__assign({},t.globalDefTable,(y={},y[e.ident]={ident:e.ident,val:this.circularArithmeticVal(g,h.maxVal+1,h.maxVal),maxVal:h.maxVal},y)),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})};var y},e.execPrimary_player_var=function(e,t){var n=this.getSomePlayerIndex(e.player,t,"primary_player_var_ident unknown player"),r=t.players[n].defTable[e.ident];return r||this.makeError("primary_player_var_ident unknown var "+e.ident+" for player"),this.getDefTableVariable(r,t,"primary_player_var_ident unknown var "+e.ident+" unknown type??")},e.execPrimary_ident=function(e,t){if(t.players[t.currentPlayerIndex].localDefTables.length>0)for(var n=t.players[t.currentPlayerIndex].localDefTables.length-1;n>=0;){var r=t.players[t.currentPlayerIndex].localDefTables[n];if(r.isScopeLimited)break;var a=r.defTable[e.ident];{if(void 0!==a)return this.getDefTableVariable(a,t,"no type found for ident "+e.ident);n--}}if(t.players[t.currentPlayerIndex].defTable[e.ident])return this.execPrimary_player_var({player:t.currentPlayerIndex,ident:e.ident,type:"primary_player_var_ident"},t);var i=t.globalDefTable[e.ident];return i||this.makeError("variable "+e.ident+" was not found (searched all scopes)"),this.getDefTableVariable(i,t,"no type found for ident "+e.ident)},e.getDefTableVariable=function(e,t,n){if(i.isIntVar(e)){var a=e.val;return{val:a,boolVal:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_ident()})}}if(i.isBoolVar(e)){var a=e.boolVal;return{val:null,boolVal:a,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_ident()})}}this.makeError(n)},e.getSomePlayerIndex=function(e,t,n){return e===a.SomePlayer.currentPlayer?t.currentPlayerIndex:e===a.SomePlayer.nextPlayer?t.nextPlayerIndex:e===a.SomePlayer.previousPlayer?t.previousPlayerIndex:this.makeError(n)},e.circularArithmeticVal=function(e,t,n){var r=t+n+1,a=-t;if(a===e)return e;return e<=0?(e+a)%r-a:(e-a)%r+a},e.forceIntVal=function(e){return Math.floor(e)},e.makeError=function(e){throw Error(e)},e.builtIn_log=function(e){console.log(e)},e}();t.AbstractMachine=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=function(){function e(e,t){void 0===t&&(t=!1);var n=this;this.isErrorRecoveryEnabled=!1,this.parser=e,this.isErrorRecoveryEnabled=t,this.parser.yy={ExecutionUnitBuilder:r.ExecutionUnitBuilder,convertNumber:r.convertNumber,parseError:function(e,t){if(!n.isErrorRecoveryEnabled)throw e;console.error(e)}}}return e.prototype.preProcessInput=function(e){return"\n"!=e[e.length-1]&&(e+="\n"),e},e.prototype.tokenize=function(e){e=this.preProcessInput(e);var t=[];this.parser.lexer.setInput(e);for(var n=0;!this.parser.lexer.done;)n=this.parser.lexer.lex(),n in this.parser.terminals_&&(n=this.parser.terminals_[n]),t.push({token:n,text:this.parser.lexer.yytext});return t},e.prototype.parse=function(e){return this.parser.parse(e)},e}();t.Compiler=a},function(e,t,n){"use strict";function r(e){}Object.defineProperty(t,"__esModule",{value:!0}),t.notExhaustive=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),a=function(){function e(){}return e.log=function(e,t){if(void 0===t&&(t=void 0),void 0===t)return void console.log(e);console.log(e,t)},e.message=function(e,t){void 0===t&&(t="Message"),r.default(t,e,"info")},e.success=function(e,t){void 0===t&&(t="Message"),r.default(t,e,"success")},e.fatal=function(e,t){throw r.default(t||"Error",e,"error"),new Error(e)},e}();t.Logger=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.init=0]="init",e[e.running=1]="running",e[e.paused=2]="paused",e[e.finished=3]="finished",e[e.running_many=4]="running_many",e[e.running_many_paused=5]="running_many_paused"}(t.SimulationStatus||(t.SimulationStatus={}))},function(e,t,n){var r=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[1,7],r=[1,18],a=[1,19],i=[1,30],o=[1,14],s=[1,20],l=[1,57],c=[1,21],u=[1,22],d=[1,23],p=[1,25],f=[1,26],m=[1,27],h=[1,28],g=[1,29],y=[1,36],b=[1,33],w=[1,39],v=[1,34],_=[1,64],x=[1,65],k=[1,66],S=[1,53],I=[1,54],E=[1,55],V=[1,56],T=[1,62],P=[1,63],U=[1,67],C=[1,68],B=[1,35],A=[1,13],D=[1,42],j=[1,43],O=[1,44],L=[1,71],$=[5,12],G=[2,2],M=[5,8,12,20,21,23,24,25,26,28,29,30,32,33,34,35,36,39,40,41,43,45,70,71,79,80,81,82,83,88,89,90,91,92,94,95,98,99,100,103,104,105,106],R=[5,8,12],N=[5,94,95],z=[5,8,94,95],F=[2,77],q=[1,79],W=[1,85],H=[5,8,27,43,53,93,94,95],Y=[5,8,27,43,52,53,55,57,60,61,64,65,66,67,70,71,74,75,76,93,94,95],Z=[2,90],X=[1,99],K=[1,100],Q=[5,8,27,43,44,52,53,55,57,60,61,64,65,66,67,70,71,74,75,76,90,91,93,94,95],J=[38,49],ee=[5,8,27,43,52,53,55,93,94,95],te=[1,104],ne=[5,8,27,43,52,53,55,57,93,94,95],re=[5,8,27,43,52,53,55,57,60,61,93,94,95],ae=[1,114],ie=[1,115],oe=[5,8,27,43,52,53,55,57,60,61,64,65,66,67,70,71,93,94,95],se=[1,117],le=[1,118],ce=[1,119],ue=[24,26,41,70,71,79,80,81,82,83,88,89,90,91,104,105,106],de=[2,107],pe=[8,43],fe=[5,8,43,94,95],me={trace:function(){},yy:{},symbols_:{error:2,start:3,game_def_statements_nor_none:4,EOF:5,noNLS:6,NLS:7,CMD_SEPARATOR:8,no_game_def_statements:9,game_def_statements:10,maybe_nls:11,"---":12,pre_statements:13,game_def_statement:14,statements:15,statement:16,expression:17,var_decl:18,clause:19,force:20,control:21,control_clause:22,goto:23,NUMBER:24,begin_scope:25,"(":26,")":27,return:28,end_scope:29,limit_scope:30,logStmt:31,game_start:32,game_end:33,move:34,rollback:35,sleep:36,some_player:37,",":38,log:39,int:40,IDENT:41,"{":42,"}":43,"=":44,bool:45,assignment:46,non_assignment_expression:47,qualified_name:48,".":49,ternary_expression:50,disjunction:51,"?":52,":":53,conjunction:54,or:55,comparison:56,and:57,relation:58,eqOp:59,"==":60,"!=":61,sum:62,relOp:63,"<":64,">":65,"<=":66,">=":67,term:68,plusOp:69,"+":70,"-":71,factor:72,malOp:73,"*":74,"/":75,"%":76,primary:77,unOp:78,not:79,true:80,false:81,$leftSteps:82,$result:83,inc_expr:84,inc_post_expr:85,dec_expr:86,dec_post_expr:87,roll:88,choose_bool:89,"++":90,"--":91,if:92,then:93,end:94,else:95,game_vars:96,player_vars:97,game:98,maxDiceValue:99,endCondition:100,var_decls:101,players:102,numTokens:103,cp:104,np:105,pp:106,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"CMD_SEPARATOR",12:"---",20:"force",21:"control",23:"goto",24:"NUMBER",25:"begin_scope",26:"(",27:")",28:"return",29:"end_scope",30:"limit_scope",32:"game_start",33:"game_end",34:"move",35:"rollback",36:"sleep",38:",",39:"log",40:"int",41:"IDENT",42:"{",43:"}",44:"=",45:"bool",49:".",52:"?",53:":",55:"or",57:"and",60:"==",61:"!=",64:"<",65:">",66:"<=",67:">=",70:"+",71:"-",74:"*",75:"/",76:"%",79:"not",80:"true",81:"false",82:"$leftSteps",83:"$result",88:"roll",89:"choose_bool",90:"++",91:"--",92:"if",93:"then",94:"end",95:"else",98:"game",99:"maxDiceValue",100:"endCondition",102:"players",103:"numTokens",104:"cp",105:"np",106:"pp"},productions_:[0,[3,2],[6,0],[7,1],[7,2],[9,0],[4,1],[4,3],[4,2],[4,5],[4,4],[4,1],[10,1],[10,3],[13,2],[13,2],[13,2],[13,3],[15,1],[15,3],[16,1],[16,1],[16,1],[16,1],[16,2],[16,3],[16,3],[16,2],[16,3],[16,3],[16,1],[16,3],[16,4],[16,3],[16,4],[16,3],[16,6],[16,2],[31,4],[18,7],[18,4],[17,1],[17,1],[48,1],[48,3],[46,3],[47,1],[50,1],[50,5],[51,1],[51,3],[54,1],[54,3],[56,1],[56,3],[59,1],[59,1],[58,1],[58,3],[63,1],[63,1],[63,1],[63,1],[62,1],[62,3],[69,1],[69,1],[68,1],[68,3],[73,1],[73,1],[73,1],[72,1],[72,2],[78,1],[78,1],[78,1],[77,1],[77,1],[77,1],[77,1],[77,1],[77,3],[77,1],[77,1],[77,1],[77,1],[77,3],[77,4],[77,3],[77,1],[84,2],[85,2],[86,2],[87,2],[19,5],[19,7],[22,13],[14,1],[14,1],[96,7],[96,7],[96,10],[96,9],[96,6],[96,12],[11,1],[11,1],[101,1],[101,3],[97,5],[97,8],[97,7],[97,10],[37,1],[37,1],[37,1]],performAction:function(e,t,n,r,a,i,o){var s=i.length-1;switch(a){case 1:return i[s-1];case 6:this.$=r.ExecutionUnitBuilder.buildGameUnit([],[]);break;case 7:case 8:this.$=r.ExecutionUnitBuilder.buildGameUnit(i[s-1],[]);break;case 9:case 10:this.$=r.ExecutionUnitBuilder.buildGameUnit(i[s-3],i[s]);break;case 11:this.$=r.ExecutionUnitBuilder.buildGameUnit([],i[s]);break;case 12:case 18:case 108:this.$=[i[s]];break;case 13:this.$=i[s-2].concat(i[s]);break;case 14:case 15:case 17:case 38:case 82:this.$=i[s-1];break;case 16:case 24:case 46:this.$=i[s];break;case 19:case 109:this.$=i[s-2].concat(i[s]);break;case 23:this.$=r.ExecutionUnitBuilder.forceUnit();break;case 25:this.$=r.ExecutionUnitBuilder.controlGotoUnit(r.convertNumber(i[s]));break;case 26:this.$=r.ExecutionUnitBuilder.beginScope();break;case 27:this.$=r.ExecutionUnitBuilder.setReturnResult(i[s]);break;case 28:this.$=r.ExecutionUnitBuilder.endScope();break;case 29:this.$=r.ExecutionUnitBuilder.limitScope();break;case 30:this.$=r.ExecutionUnitBuilder.buildLogUnit(i[s]);break;case 31:this.$=r.ExecutionUnitBuilder.buildStartUnit(null);break;case 32:this.$=r.ExecutionUnitBuilder.buildStartUnit(i[s-1]);break;case 33:this.$=r.ExecutionUnitBuilder.buildEndUnit();break;case 34:this.$=r.ExecutionUnitBuilder.moveFunc(i[s-1]);break;case 35:this.$=r.ExecutionUnitBuilder.rollbackFunc();break;case 36:this.$=r.ExecutionUnitBuilder.sleepFunc(i[s-3],i[s-1]);break;case 37:this.$=r.ExecutionUnitBuilder.gotoUnit(r.convertNumber(i[s]));break;case 39:this.$=r.ExecutionUnitBuilder.varDeclUnit(i[s-5],0,r.convertNumber(i[s-3]),i[s]);break;case 40:this.$=r.ExecutionUnitBuilder.varDeclUnit(i[s-2],1,null,i[s]);break;case 41:case 42:this.$=r.ExecutionUnitBuilder.expressionUnit(i[s]);break;case 43:this.$={ident:i[s],player:null};break;case 44:this.$={ident:i[s],player:i[s-2]};break;case 45:this.$=null===i[s-2].player?r.ExecutionUnitBuilder.assignmentUnit(i[s-2].ident,i[s]):this.$=r.ExecutionUnitBuilder.playerVarAssignUnit(i[s-2].player,i[s-2].ident,i[s]);break;case 47:this.$=r.ExecutionUnitBuilder.ternaryExpressionUnit(i[s],null,null,null);break;case 48:this.$=r.ExecutionUnitBuilder.ternaryExpressionUnit(null,i[s-4],i[s-2],i[s]);break;case 49:this.$=r.ExecutionUnitBuilder.disjunctionUnit(null,i[s]);break;case 50:this.$=r.ExecutionUnitBuilder.disjunctionUnit(i[s-2],i[s]);break;case 51:this.$=r.ExecutionUnitBuilder.conjunctionUnit(null,i[s]);break;case 52:this.$=r.ExecutionUnitBuilder.conjunctionUnit(i[s-2],i[s]);break;case 53:this.$=r.ExecutionUnitBuilder.comparisonUnit(null,i[s],null);break;case 54:this.$=r.ExecutionUnitBuilder.comparisonUnit(i[s-2],i[s],i[s-1]);break;case 55:this.$="==";break;case 56:this.$="!=";break;case 57:this.$=r.ExecutionUnitBuilder.relationUnit(null,i[s],null);break;case 58:this.$=r.ExecutionUnitBuilder.relationUnit(i[s-2],i[s],i[s-1]);break;case 59:this.$="<";break;case 60:this.$=">";break;case 61:this.$="<=";break;case 62:this.$=">=";break;case 63:this.$=r.ExecutionUnitBuilder.sumUnit(null,i[s],null);break;case 64:this.$=r.ExecutionUnitBuilder.sumUnit(i[s-2],i[s],i[s-1]);break;case 65:case 74:this.$="+";break;case 66:case 75:this.$="-";break;case 67:this.$=r.ExecutionUnitBuilder.termUnit(null,i[s],null);break;case 68:this.$=r.ExecutionUnitBuilder.termUnit(i[s-2],i[s],i[s-1]);break;case 69:this.$="*";break;case 70:this.$="/";break;case 71:this.$="%";break;case 72:this.$=r.ExecutionUnitBuilder.factorUnit(null,r.ExecutionUnitBuilder.primaryUnit(i[s]),null);break;case 73:this.$=r.ExecutionUnitBuilder.factorUnit(i[s],null,i[s-1]);break;case 76:this.$="not";break;case 77:this.$=r.ExecutionUnitBuilder.primaryConstantUnit_int(r.convertNumber(i[s]));break;case 78:this.$=r.ExecutionUnitBuilder.primaryConstantUnit_bool(!0);break;case 79:this.$=r.ExecutionUnitBuilder.primaryConstantUnit_bool(!1);break;case 80:this.$=r.ExecutionUnitBuilder.primaryIdentLeftStepsUnit();break;case 81:this.$=r.ExecutionUnitBuilder.primaryIdentLastResult();break;case 87:this.$=r.ExecutionUnitBuilder.primaryRollDiceFunc(null);break;case 88:this.$=r.ExecutionUnitBuilder.primaryRollDiceFunc(i[s-1]);break;case 89:this.$=r.ExecutionUnitBuilder.primaryChooseBoolFunc();break;case 90:this.$=null===i[s].player?r.ExecutionUnitBuilder.primaryIdentUnit(i[s].ident):r.ExecutionUnitBuilder.primaryPlayerVarIdentUnit(i[s].player,i[s].ident);break;case 91:this.$=r.ExecutionUnitBuilder.primaryIncrementUnit(i[s-1].ident,!0,i[s-1].player);break;case 92:this.$=r.ExecutionUnitBuilder.primaryIncrementUnit(i[s].ident,!1,i[s].player);break;case 93:this.$=r.ExecutionUnitBuilder.primaryDecrementUnit(i[s-1].ident,!0,i[s-1].player);break;case 94:this.$=r.ExecutionUnitBuilder.primaryDecrementUnit(i[s].ident,!1,i[s].player);break;case 95:this.$=r.ExecutionUnitBuilder.ifUnit(i[s-3],i[s-1]);break;case 96:this.$=r.ExecutionUnitBuilder.ifElseUnit(i[s-5],i[s-3],i[s-1]);break;case 97:this.$=r.ExecutionUnitBuilder.controlIfElseUnit(i[s-11],r.convertNumber(i[s-7]),r.convertNumber(i[s-2]));break;case 100:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(i[s-2]),null,[]);break;case 101:this.$=r.ExecutionUnitBuilder.gameVarsUnit(null,i[s-2],[]);break;case 102:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(i[s-5]),i[s-2],[]);break;case 103:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(i[s-4]),null,i[s-2]);break;case 104:this.$=r.ExecutionUnitBuilder.gameVarsUnit(null,null,i[s-2]);break;case 105:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(i[s-7]),i[s-4],i[s-2]);break;case 110:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(i[s-4]),1,[]);break;case 111:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(i[s-7]),r.convertNumber(i[s-2]),[]);break;case 112:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(i[s-6]),1,i[s-2]);break;case 113:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(i[s-9]),r.convertNumber(i[s-4]),i[s-2]);break;case 114:this.$=0;break;case 115:this.$=1;break;case 116:this.$=2}},table:[{3:1,4:2,5:[2,5],7:4,8:n,9:3,10:5,13:6,14:8,15:9,16:12,17:15,18:16,19:17,20:r,21:a,23:i,24:o,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:b,41:w,45:v,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,92:B,96:10,97:11,98:A,104:D,105:j,106:O},{1:[3]},{5:[1,69]},{5:[2,6]},{8:L,10:70,14:8,15:72,16:12,17:15,18:16,19:17,20:r,21:a,23:i,24:o,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:b,41:w,45:v,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,92:B,96:10,97:11,98:A,104:D,105:j,106:O},t($,G,{11:73,7:74,6:75,8:n}),{5:[2,11]},t(M,[2,3]),t(R,[2,12]),t(N,G,{6:76,7:77,8:n}),t(R,[2,98]),t(R,[2,99]),t(z,[2,18]),{42:[1,78]},t([5,8,52,55,57,60,61,64,65,66,67,70,71,74,75,76],F,{102:q}),t(z,[2,20]),t(z,[2,21]),t(z,[2,22]),t(z,[2,23]),{22:80,23:[1,81],92:[1,82]},{26:[1,83]},{17:84,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{26:[1,86]},{26:[1,87]},t(z,[2,30]),{26:[1,88]},{26:[1,89]},{26:[1,90]},{26:[1,91]},{26:[1,92]},{24:[1,93]},t(H,[2,41]),t(H,[2,42]),{41:[1,94]},{41:[1,95]},{17:96,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{26:[1,97]},t(Y,Z,{44:[1,98],90:X,91:K}),t(H,[2,46]),t(Q,[2,43]),{49:[1,101]},t(H,[2,47],{52:[1,102],55:[1,103]}),t(J,[2,114]),t(J,[2,115]),t(J,[2,116]),t(ee,[2,49],{57:te}),t(ne,[2,51]),t(ne,[2,53],{59:105,60:[1,106],61:[1,107]}),t(re,[2,57],{63:108,69:109,64:[1,110],65:[1,111],66:[1,112],67:[1,113],70:ae,71:ie}),t(oe,[2,63],{73:116,74:se,75:le,76:ce}),t(Y,[2,67]),t(Y,[2,72]),{24:W,26:l,37:40,41:w,48:121,70:_,71:x,72:120,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},t(Y,[2,78]),t(Y,[2,79]),t(Y,[2,80]),t(Y,[2,81]),{17:122,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},t(Y,[2,83]),t(Y,[2,84]),t(Y,[2,85]),t(Y,[2,86]),{26:[1,123]},{26:[1,124]},t(ue,[2,74]),t(ue,[2,75]),t(ue,[2,76]),{37:40,41:w,48:125,104:D,105:j,106:O},{37:40,41:w,48:126,104:D,105:j,106:O},{1:[2,1]},t($,G,{7:74,6:75,11:127,8:n}),t(M,[2,4]),t(N,[2,16],{7:128,8:n}),{5:[2,8],12:[1,129]},t($,de,{96:10,97:11,14:130,8:L,24:[1,131],98:A}),t([5,12,23,40,43,45,94,95,99,100,103],[2,106]),t(N,[2,14]),t(N,[2,15],{17:15,18:16,19:17,31:24,46:31,47:32,48:37,50:38,37:40,51:41,54:45,56:46,58:47,62:48,68:49,72:50,77:51,78:52,84:58,85:59,86:60,87:61,16:132,8:L,20:r,21:a,23:i,24:W,25:s,26:l,28:c,29:u,30:d,32:p,33:f,34:m,35:h,36:g,39:y,40:b,41:w,45:v,70:_,71:x,79:k,80:S,81:I,82:E,83:V,88:T,89:P,90:U,91:C,92:B,104:D,105:j,106:O}),t([40,45,99,100],G,{6:75,11:133,7:134,8:n}),{42:[1,135]},t(z,[2,24]),{24:[1,136]},{17:137,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{27:[1,138]},t(z,[2,27]),t(Y,F),{27:[1,139]},{27:[1,140]},{17:142,24:W,26:l,27:[1,141],37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{27:[1,143]},{17:144,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{27:[1,145]},{37:146,104:D,105:j,106:O},t(z,[2,37]),{42:[1,147]},{44:[1,148]},{93:[1,149]},{17:150,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{17:151,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},t(Y,[2,91]),t(Y,[2,93]),{41:[1,152]},{17:153,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{24:W,26:l,37:40,41:w,48:121,54:154,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{24:W,26:l,37:40,41:w,48:121,56:155,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{24:W,26:l,37:40,41:w,48:121,58:156,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},t(ue,[2,55]),t(ue,[2,56]),{24:W,26:l,37:40,41:w,48:121,62:157,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{24:W,26:l,37:40,41:w,48:121,68:158,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},t(ue,[2,59]),t(ue,[2,60]),t(ue,[2,61]),t(ue,[2,62]),t(ue,[2,65]),t(ue,[2,66]),{24:W,26:l,37:40,41:w,48:121,70:_,71:x,72:159,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},t(ue,[2,69]),t(ue,[2,70]),t(ue,[2,71]),t(Y,[2,73]),t(Y,Z,{90:X,91:K}),{27:[1,160]},{17:162,24:W,26:l,27:[1,161],37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{27:[1,163]},t(Y,[2,92]),t(Y,[2,94]),{5:[2,7],12:[1,164]},t(N,[2,17],{17:15,18:16,19:17,31:24,46:31,47:32,48:37,50:38,37:40,51:41,54:45,56:46,58:47,62:48,68:49,72:50,77:51,78:52,84:58,85:59,86:60,87:61,16:132,8:L,20:r,21:a,23:i,24:W,25:s,26:l,28:c,29:u,30:d,32:p,33:f,34:m,35:h,36:g,39:y,40:b,41:w,45:v,70:_,71:x,79:k,80:S,81:I,82:E,83:V,88:T,89:P,90:U,91:C,92:B,104:D,105:j,106:O}),{7:166,8:n,13:165,15:9,16:12,17:15,18:16,19:17,20:r,21:a,23:i,24:W,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:b,41:w,45:v,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,92:B,104:D,105:j,106:O},t(R,[2,13]),{102:q},t(z,[2,19]),{18:170,40:b,45:v,99:[1,167],100:[1,168],101:169},t([23,40,43,45,94,95,99,100,103],de,{8:L}),t([40,43,45,103],G,{6:75,7:134,11:171,8:n}),t(z,[2,25]),{93:[1,172]},t(z,[2,26]),t(z,[2,28]),t(z,[2,29]),t(z,[2,31]),{27:[1,173]},t(z,[2,33]),{27:[1,174]},t(z,[2,35]),{38:[1,175]},{24:[1,176]},{17:177,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{7:166,8:n,13:178,15:9,16:12,17:15,18:16,19:17,20:r,21:a,23:i,24:W,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:b,41:w,45:v,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,92:B,104:D,105:j,106:O},{27:[1,179]},t(H,[2,45]),t(Q,[2,44]),{53:[1,180]},t(ee,[2,50],{57:te}),t(ne,[2,52]),t(ne,[2,54]),t(re,[2,58],{69:109,70:ae,71:ie}),t(oe,[2,64],{73:116,74:se,75:le,76:ce}),t(Y,[2,68]),t(Y,[2,82]),t(Y,[2,87]),{27:[1,181]},t(Y,[2,89]),{7:166,8:n,13:182,15:9,16:12,17:15,18:16,19:17,20:r,21:a,23:i,24:W,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:b,41:w,45:v,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,92:B,104:D,105:j,106:O},{5:[2,10]},{8:L,15:72,16:12,17:15,18:16,19:17,20:r,21:a,23:i,24:W,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:b,41:w,45:v,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,92:B,104:D,105:j,106:O},{24:[1,183]},{17:184,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{6:75,7:186,8:n,11:185,43:G},t(pe,[2,108]),{18:170,40:b,43:[1,187],45:v,101:189,103:[1,188]},{6:75,7:134,8:n,11:190,23:G},t(z,[2,32]),t(z,[2,34]),{17:191,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{43:[1,192]},t(fe,[2,40]),{94:[1,193],95:[1,194]},t(z,[2,38]),{17:195,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},t(Y,[2,88]),{5:[2,9]},{6:75,7:197,8:n,11:196,43:G},{6:75,7:134,8:n,11:198,43:G},{43:[1,199]},{8:L,18:200,40:b,43:de,45:v},t(R,[2,110]),{24:[1,201]},{6:75,7:186,8:n,11:202,43:G},{23:[1,203]},{27:[1,204]},{44:[1,205]},t(z,[2,95]),{7:166,8:n,13:206,15:9,16:12,17:15,18:16,19:17,20:r,21:a,23:i,24:W,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:b,41:w,45:v,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,92:B,104:D,105:j,106:O},t(H,[2,48]),{43:[1,207]},{8:L,18:170,40:b,43:de,45:v,100:[1,208],101:209},{43:[1,210]},t(R,[2,104]),t(pe,[2,109]),{6:75,7:212,8:n,11:211,43:G},{43:[1,213]},{24:[1,214]},t(z,[2,36]),{17:215,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{94:[1,216]},t(R,[2,100]),{17:217,24:W,26:l,37:40,41:w,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:_,71:x,72:50,77:51,78:52,79:k,80:S,81:I,82:E,83:V,84:58,85:59,86:60,87:61,88:T,89:P,90:U,91:C,104:D,105:j,106:O},{6:75,7:186,8:n,11:218,43:G},t(R,[2,101]),{43:[1,219]},{8:L,18:170,40:b,43:de,45:v,101:220},t(R,[2,112]),{6:75,7:134,8:n,11:221,95:G},t(fe,[2,39]),t(z,[2,96]),{6:75,7:223,8:n,11:222,43:G},{43:[1,224]},t(R,[2,111]),{6:75,7:186,8:n,11:225,43:G},{95:[1,226]},{43:[1,227]},{8:L,18:170,40:b,43:de,45:v,101:228},t(R,[2,103]),{43:[1,229]},{6:75,7:134,8:n,11:230,23:G},t(R,[2,102]),{6:75,7:186,8:n,11:231,43:G},t(R,[2,113]),{23:[1,232]},{43:[1,233]},{24:[1,234]},t(R,[2,105]),{6:75,7:134,8:n,11:235,94:G},{94:[1,236]},t(z,[2,97])],defaultActions:{3:[2,6],6:[2,11],69:[2,1],165:[2,10],182:[2,9]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],a=[],i=this.table,o="",s=0,l=0,c=0,u=a.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(p.yy[f]=this.yy[f]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var m=d.yylloc;a.push(m);var h=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,y,b,w,v,_,x,k,S,I=function(){var e;return e=d.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e},E={};;){if(b=n[n.length-1],this.defaultActions[b]?w=this.defaultActions[b]:(null!==g&&void 0!==g||(g=I()),w=i[b]&&i[b][g]),void 0===w||!w.length||!w[0]){var V="";S=[];for(_ in i[b])this.terminals_[_]&&_>2&&S.push("'"+this.terminals_[_]+"'");V=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(V,{text:d.match,token:this.terminals_[g]||g,line:d.yylineno,loc:m,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(w[0]){case 1:n.push(g),r.push(d.yytext),a.push(d.yylloc),n.push(w[1]),g=null,y?(g=y,y=null):(l=d.yyleng,o=d.yytext,s=d.yylineno,m=d.yylloc,c>0&&c--);break;case 2:if(x=this.productions_[w[1]][1],E.$=r[r.length-x],E._$={first_line:a[a.length-(x||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(x||1)].first_column,last_column:a[a.length-1].last_column},h&&(E._$.range=[a[a.length-(x||1)].range[0],a[a.length-1].range[1]]),void 0!==(v=this.performAction.apply(E,[o,l,s,p.yy,w[1],r,a].concat(u))))return v;x&&(n=n.slice(0,-1*x*2),r=r.slice(0,-1*x),a=a.slice(0,-1*x)),n.push(this.productions_[w[1]][0]),r.push(E.$),a.push(E._$),k=i[n[n.length-2]][n[n.length-1]],n.push(k);break;case 3:return!0}}return!0}},he=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in a)this[i]=a[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),i=0;i<a.length;i++)if((n=this._input.match(this.rules[a[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,a[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,a[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return 5;case 1:break;case 2:return 8;case 3:this.begin("inMultiLineComment");break;case 4:this.begin("INITIAL");break;case 5:case 6:break;case 7:return 24;case 8:return 94;case 9:return 23;case 10:return 104;case 11:return 105;case 12:return 106;case 13:return 80;case 14:return 81;case 15:return 12;case 16:return 82;case 17:return 83;case 18:return 89;case 19:return 36;case 20:return 88;case 21:return 39;case 22:return 34;case 23:return 35;case 24:return 33;case 25:return 32;case 26:return 21;case 27:return 20;case 28:return 25;case 29:return 30;case 30:return 28;case 31:return 29;case 32:return 100;case 33:return 49;case 34:return 38;case 35:return 53;case 36:return 52;case 37:return 92;case 38:return 93;case 39:return 95;case 40:return 94;case 41:return 26;case 42:return 27;case 43:return 42;case 44:return 43;case 45:return 55;case 46:return 57;case 47:return 90;case 48:return 91;case 49:return 70;case 50:return 71;case 51:return 74;case 52:return 75;case 53:return 76;case 54:return 61;case 55:return 60;case 56:return 66;case 57:return 67;case 58:return 64;case 59:return 65;case 60:return 79;case 61:return 44;case 62:return 40;case 63:return 45;case 64:return 103;case 65:return 102;case 66:return 98;case 67:return 99;case 68:return 41}},rules:[/^(?:$)/,/^(?:[\ \t]+)/,/^(?:([\n]+|;))/,/^(?:\/\*)/,/^(?:\*\/)/,/^(?:\n)/,/^(?:[^\n])/,/^(?:[\d]+)/,/^(?:end\b)/,/^(?:goto\b)/,/^(?:(cp|current_player))/,/^(?:(np|next_player))/,/^(?:(pp|previous_player))/,/^(?:true\b)/,/^(?:false\b)/,/^(?:---)/,/^(?:\$leftSteps\b)/,/^(?:\$result|\$return\b)/,/^(?:choose_bool\b)/,/^(?:sleep\b)/,/^(?:roll\b)/,/^(?:log\b)/,/^(?:move\b)/,/^(?:rollback\b)/,/^(?:game_end\b)/,/^(?:game_start\b)/,/^(?:control\b)/,/^(?:force\b)/,/^(?:begin_scope\b)/,/^(?:(limit_scope|scope_limit|scope_fence))/,/^(?:(return|result))/,/^(?:end_scope\b)/,/^(?:endCondition\b)/,/^(?:\.)/,/^(?:,)/,/^(?::)/,/^(?:\?)/,/^(?:if\b)/,/^(?:then\b)/,/^(?:else\b)/,/^(?:end\b)/,/^(?:\()/,/^(?:\))/,/^(?:\{)/,/^(?:\})/,/^(?:or|\|\|)/,/^(?:and|&&)/,/^(?:\+\+)/,/^(?:--)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:!=|<>)/,/^(?:==)/,/^(?:<=)/,/^(?:>=)/,/^(?:<)/,/^(?:>)/,/^(?:not|!)/,/^(?:=)/,/^(?:int\b)/,/^(?:bool\b)/,/^(?:numTokens\b)/,/^(?:players\b)/,/^(?:game\b)/,/^(?:maxDiceValue\b)/,/^(?:([a-zA-Z_][\w]*))/],conditions:{inSingleLineComment:{rules:[],inclusive:!1},inMultiLineComment:{rules:[4,5,6],inclusive:!1},INITIAL:{rules:[0,1,2,3,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0}}}}();return me.lexer=he,e.prototype=me,me.Parser=e,new e}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)}},function(e,t,n){"use strict";function r(e){return a.__awaiter(this,void 0,void 0,function(){var t,n;return a.__generator(this,function(r){switch(r.label){case 0:t=e.runNumber,n=[],s.AbstractMachine.setSeed(e.randomSeed),r.label=1;case 1:return t<e.numOfSimulationsToRun?[4,i.Simulator.runSimulationTillEnd(e.tiles,e.tileSurrogates,e.startState,e.maxMovesPerSimulation,e.startPos,!1,e.isSingleTileSimulation,void 0,function(e,t){return t===o.SimulationStatus.finished?{shouldContinue:!1,simulationSpeedInDelayInMsBetweenSteps:0}:{shouldContinue:!0,simulationSpeedInDelayInMsBetweenSteps:0}}).then(function(r){t++;var a={runNumber:t,state:r,error:null};n.push(a),n.length===e.numOfResultsToSendAtOnce&&(postMessage(n),n=[])}).catch(function(r){t++;var a={runNumber:t,state:null,error:r.message};n.push(a),n.length===e.numOfResultsToSendAtOnce&&(postMessage(n),n=[])})]:[3,3];case 2:return r.sent(),[3,1];case 3:return n.length>0&&postMessage(n),close(),[2]}})})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(11),o=n(8),s=n(4);addEventListener("message",function(e){r(e.data)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(5),i=n(4),o=n(7),s=n(8),l=n(25),c=n(9).parser,u=function(){function e(){}return e.parseAllFields=function(e,t,n,r,a,i){if(e)try{this.compiler.parse(e)}catch(e){return void o.Logger.fatal("game init code has parse errors: "+e)}for(var s,l=!1,c=!1,u=[],d=[],p=0;p<t.length;p++)for(var f=t[p],m=0;m<f.fieldShapes.length;m++){var h=f.fieldShapes[m];if(null!==h.cmdText){try{s=this.compiler.parse(h.cmdText)}catch(e){return void o.Logger.fatal("field "+h.id+" on tile "+f.guid+" has parse errors: "+e)}var g=this.hasGameEndStatementRecursive(s.statements,{fieldId:h.id,tileGuid:f.guid},null),y=s.statements.some(function(e){return"start"===e.type});g&&(l=!0,d.push({fieldId:h.id,tileGuid:f.guid})),y&&c&&o.Logger.fatal("the game has more than 1 start field! 1.: "+u[0].fieldId+" on tile "+u[0].tileGuid+", 2.: "+h.id+" on tile "+f.guid),y&&(c=!0,u.push({fieldId:h.id,tileGuid:f.guid}));var b=this.getNormalStatements(s.statements),w=b.some(function(e){return"force"===e.type}),v=b.length>0&&"force"===b[0].type;if(w&&!v)return void(b.some(function(e){return"force"===e.type})&&o.Logger.fatal("field "+h.id+" on tile "+f.guid+": force statements need to be the first statement"));var _=this.getControlStatements(s.statements);if(0===_.length&&!1===g&&o.Logger.fatal("field "+h.id+" on tile "+f.guid+": cannot find next field"),_.length>1&&o.Logger.fatal("field "+h.id+" on tile "+f.guid+" has more than 1 control statement"),_.length>0){var x=_[0];this.checkIfControlStatementGotoItself(x,{tileGuid:f.guid,fieldId:h.id})}}}if(!1===c&&n){!1===a&&o.Logger.fatal("the game has no start field!");for(var k=0,S=t;k<S.length;k++)for(var f=S[k],I=0,E=f.fieldShapes;I<E.length;I++){var h=E[I];-1!==f.simulationStartFieldIds.indexOf(h.id)&&(c=!0,u.push({fieldId:h.id,tileGuid:f.guid}))}!1===c&&o.Logger.fatal("the game has no start field!")}if(!1===l&&r){!1===i&&o.Logger.fatal("the game has no end field!");for(var V=0,T=t;V<T.length;V++)for(var f=T[V],P=0,U=f.fieldShapes;P<U.length;P++){var h=U[P];-1!==f.simulationEndFieldIds.indexOf(h.id)&&(l=!0,d.push({fieldId:h.id,tileGuid:f.guid}))}!1===l&&o.Logger.fatal("the game has no end field!")}o.Logger.log("found "+d.length+" end fields")},e.checkAllVarsDefined=function(e,t){var n=l.LangHelper.getAllVarDefiningStatements(e,t),r=null;try{r=this.compiler.parse(e)}catch(e){return void o.Logger.fatal("game init code has parse errors: "+e)}for(var a={globalVars:n.globalVars,playerVars:n.playerVars,isScopeLimit:!1,currentScopeIndex:0,localVars:[]},i=0,s=r.statements;i<s.length;i++){var c=s[i];l.LangHelper.checkAllVarUsagesInStatement(a,c,{tileGuid:"game setup code",fieldId:-1})}for(var u,d=0;d<t.length;d++)for(var p=t[d],f=0;f<p.fieldShapes.length;f++){var m=p.fieldShapes[f];if(null!==m.cmdText){try{u=this.compiler.parse(m.cmdText)}catch(e){return void o.Logger.fatal("field "+m.id+" on tile "+p.guid+" has parse errors: "+e)}for(var h=0,g=u.statements;h<g.length;h++){var c=g[h];l.LangHelper.checkAllVarUsagesInStatement(a,c,{fieldId:m.id,tileGuid:p.guid})}}}},e.hasGameEndStatementRecursive=function(e,t,n){var r=e.length>0&&"force"===e[0].type;if(!1===r&&null===n){var a=e.some(function(e){return"end"===e.type});return a&&o.Logger.fatal("game end statement must be on a field with force command else the game could have no end.game end found on field "+t.fieldId+" on tile "+t.tileGuid),a}for(var i=0,s=e;i<s.length;i++){var l=s[i];if("end"===l.type)return!0;if("if"===l.type){if(this.hasGameEndStatementRecursive(l.trueUnits,t,null===n?r:n))return!0}else if("ifElse"===l.type){var c=this.hasGameEndStatementRecursive(l.trueUnits,t,null===n?r:n);if(c)return!0;var u=this.hasGameEndStatementRecursive(l.falseUnits,t,null===n?r:n);if(u)return!0}}return!1},e.getStartFieldPosition=function(e,t){for(var n=0,r=e;n<r.length;n++){for(var a=r[n],i=0,o=a.fieldShapes;i<o.length;i++){var s=o[i];if(null!==s.cmdText)for(var l=this.compiler.parse(s.cmdText),c=0,u=l.statements;c<u.length;c++){var d=u[c];if("start"===d.type)return{tileGuid:a.guid,fieldId:s.id}}}if(t&&a.simulationStartFieldIds.length>0)return{tileGuid:a.guid,fieldId:a.simulationStartFieldIds[0]}}return null},e.getEndFieldPositions=function(e){for(var t=[],n=0,r=e;n<r.length;n++)for(var a=r[n],i=0,o=a.fieldShapes;i<o.length;i++){var s=o[i];if(null!==s.cmdText)for(var l=this.compiler.parse(s.cmdText),c=0,u=l.statements;c<u.length;c++){var d=u[c];"end"===d.type&&t.push({tileGuid:a.guid,fieldId:s.id})}}return t},e.initNew=function(e,t,n){var a=i.AbstractMachine.createNewMachineState();if(n){for(var o=this.compiler.parse(n),s=0,l=o.game_def_stats;s<l.length;s++){var c=l[s];a=i.AbstractMachine.executeGameDefinitionStatement(c,a)}for(var u=0,d=o.statements;u<d.length;u++){var c=d[u];a=i.AbstractMachine.executeStatement(c,a)}}a=t?r.__assign({},a,{players:a.players.map(function(e,t){return r.__assign({},e,{tokens:e.tokens.map(function(e){return r.__assign({},e,{fieldId:null,tileGuid:null})})})})}):r.__assign({},a,{players:a.players.map(function(t,n){return r.__assign({},t,{tokens:t.tokens.map(function(t){return r.__assign({},t,{fieldId:e.fieldId,tileGuid:e.tileGuid})})})})}),a.gameEndCondition;return a=r.__assign({},a,{currentPlayerIndex:0,nextPlayerIndex:1%a.players.length,previousPlayerIndex:Math.abs(-1%a.players.length)})},e.startNextRound=function(e){if(e.players[e.currentPlayerIndex].suspendCounter>0)return e=r.__assign({},e,{players:e.players.map(function(t,n){return n!==e.currentPlayerIndex?t:r.__assign({},t,{suspendCounter:e.players[e.currentPlayerIndex].suspendCounter-1})})}),{state:e,currentPlayerSuspended:!0};var t=i.AbstractMachine.rollDice(e,1,e.maxDiceValue);return e=t.state,e=r.__assign({},e,{rolledDiceValue:t.diceValue,leftDiceValue:t.diceValue}),e=r.__assign({},e,{rollbackState:r.__assign({},e)}),{state:e,currentPlayerSuspended:!1}},e.endRound=function(e){return e=i.AbstractMachine.advancePlayerIndex(e),e=r.__assign({},e,{rollbackState:null,wasStateRolledBack:!1})},e.getCurrentCmdText=function(e,t,n){var r=e.find(function(e){return e.guid===t});r||o.Logger.fatal("current tile "+t+" not found");var a=r.fieldShapes.find(function(e){return e.id===n});return a||o.Logger.fatal("current field "+n+" on tile "+t+" not found"),null!==a.cmdText&&""===a.cmdText.trim()?null:a.cmdText},e.moveToken=function(t,n,a,s){var l=a.players[a.currentPlayerIndex].tokens[a.currentPlayerActiveTokenIndex];if(null===l.tileGuid&&null===l.fieldId)return a=r.__assign({},a,{players:a.players.map(function(e,t){return t!==a.currentPlayerIndex?e:r.__assign({},e,{tokens:e.tokens.map(function(e){return r.__assign({},e,{fieldId:s.fieldId,tileGuid:s.tileGuid})})})}),leftDiceValue:a.leftDiceValue-1}),{state:a,hasCurrentPlayerWon:!1};var c=this.getCurrentCmdText(t,l.tileGuid,l.fieldId);c||o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+" has no command");var u;try{u=this.compiler.parse(c)}catch(e){var d=this.compiler.tokenize(c);o.Logger.log("tokens before error:"),o.Logger.log("",d),o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+" has errors: "+e)}var p=u.statements;if(a.leftDiceValue<0){0===l.previousPositions.length&&o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+": we try to move back but we don't know the previous field.Make sure you don't have some crazy negative move functions [move(-x)]");var f=l.previousPositions[l.previousPositions.length-1];return{state:r.__assign({},a,{players:a.players.map(function(e,t){return t!==a.currentPlayerIndex?e:r.__assign({},e,{tokens:e.tokens.map(function(e,t){return t!==a.currentPlayerActiveTokenIndex?e:r.__assign({},e,{fieldId:f.fieldId,tileGuid:f.tileGuid,previousPositions:l.previousPositions.slice(0,l.previousPositions.length-1)})})})}),leftDiceValue:a.leftDiceValue+1,elapsedTimeInS:a.elapsedTimeInS+i.SimulationTimes.timeInS_goto()}),hasCurrentPlayerWon:!1}}var m=this.getControlStatements(p);0===m.length&&o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+": cannot find next field"),m.length>1&&o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+" has more than 1 control statement");var h=m[0];if("control_goto"===h.type&&h.targetId===l.fieldId&&o.Logger.fatal("field "+l.fieldId+" on tile "+l.tileGuid+": control goto itself --\x3e infinite loop"),this.checkIfControlStatementGotoItself(h,{tileGuid:l.tileGuid,fieldId:l.fieldId}),a=i.AbstractMachine.executeStatement(h,a),null===n)return{state:a,hasCurrentPlayerWon:!1};var g=a.players[a.currentPlayerIndex].tokens[a.currentPlayerActiveTokenIndex],y=t.find(function(e){return e.guid===g.tileGuid}),b=n.find(function(e){return e.tileGuid===y.guid});if(y||o.Logger.fatal("tile transition from tile "+g.tileGuid+": tile not found?"),b||o.Logger.fatal("tile transition from tile "+g.tileGuid+": tile position not found?"),y.fieldShapes.find(function(e){return e.id===g.fieldId}))return{state:a,hasCurrentPlayerWon:!1};var w=null,v=null,_=y.botBorderPoints.find(function(e){return e.id===g.fieldId});if(_){var x=this.getNextTileAndField(_,y,t,n,function(e){return e.x===b.x&&e.y===b.y+1},function(e){return e.topBorderPoints}),k=x._nextTile,S=x._nextField;w=k,v=S}var I=y.topBorderPoints.find(function(e){return e.id===g.fieldId});if(I){var E=this.getNextTileAndField(I,y,t,n,function(e){return e.x===b.x&&e.y===b.y-1},function(e){return e.botBorderPoints}),k=E._nextTile,S=E._nextField;w=k,v=S}var V=y.leftBorderPoints.find(function(e){return e.id===g.fieldId});if(V){var T=this.getNextTileAndField(V,y,t,n,function(e){return e.x===b.x-1&&e.y===b.y},function(e){return e.rightBorderPoint}),k=T._nextTile,S=T._nextField;w=k,v=S}var P=y.rightBorderPoint.find(function(e){return e.id===g.fieldId});if(P){var U=this.getNextTileAndField(P,y,t,n,function(e){return e.x===b.x+1&&e.y===b.y},function(e){return e.leftBorderPoints}),k=U._nextTile,S=U._nextField;w=k,v=S}return a=e.doTileTransition(l.tileGuid,l.fieldId,w,v,a),{state:a,hasCurrentPlayerWon:!1}},e.getNextTileAndField=function(e,t,n,r,a,i){var s=r.find(function(e){return a(e)});s||o.Logger.fatal("tile transition: cannot find next position for current tile "+t.guid);var l=n.find(function(e){return e.guid===s.tileGuid});l||o.Logger.fatal("tile transition: cannot find next tile from position x: "+s.x+", y: "+s.y+", current tile: "+t.guid);var c=i(l).find(function(t){return t.val===e.val});c||o.Logger.fatal("tile transition: cannot find transition from tile "+t.guid+" to tile "+l.guid+" because top border point not found"),null===c.nextFieldId&&o.Logger.fatal("tile transition: cannot find transition from tile "+t.guid+" to tile "+l.guid+" because top border point has no next field");var u=l.fieldShapes.find(function(e){return e.id===c.nextFieldId});return null===u&&o.Logger.fatal("tile transition: cannot find next field "+c.nextFieldId+" on tile "+l.guid),{_nextTile:l,_nextField:u}},e.checkIfControlStatementGotoItself=function(e,t){"control_goto"===e.type&&e.targetId===t.fieldId&&o.Logger.fatal("field "+t.fieldId+" on tile "+t.tileGuid+": control goto itself --\x3e infinite loop"),"control_ifElse"!==e.type||e.trueTargetId!==t.fieldId&&e.falseTargetId!==t.fieldId||o.Logger.fatal("field "+t.fieldId+" on tile "+t.tileGuid+": control if else some branch goto itself --\x3e infinite loop")},e.executeForceStatements=function(e,t,n){var r=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex],a=this.getCurrentCmdText(e,r.tileGuid,r.fieldId);a||o.Logger.fatal("field "+r.fieldId+" on tile "+r.tileGuid+" has no commands");var s;try{s=this.compiler.parse(a)}catch(e){var l=this.compiler.tokenize(a);o.Logger.log("tokens before error:"),o.Logger.log("",l),o.Logger.fatal("field "+r.fieldId+" on tile "+r.tileGuid+": has errors: "+e)}var c=this.getNormalStatements(s.statements),u=c.some(function(e){return"force"===e.type}),d=c.length>0&&"force"===c[0].type;if(u&&!d)return void(c.some(function(e){return"force"===e.type})&&o.Logger.fatal("field "+r.fieldId+" on tile "+r.tileGuid+": force statements need to be the first statement"));var p=t.winnersIds.length,f=0,m=!1,h=this.getImplicitForcedStatements(s.statements).length>0;if(d||h)for(var g=0,y=c;g<y.length;g++){var b=y[g];t=i.AbstractMachine.executeStatement(b,t),f=t.winnersIds.length,f>p&&(m=!0)}if(n){var w=e.find(function(e){return e.guid===r.tileGuid});if(w||o.Logger.fatal("current tile "+r.tileGuid+" not found"),-1!==w.simulationEndFieldIds.indexOf(r.fieldId))return{state:t,hasCurrentPlayerWon:!0}}return{state:t,hasCurrentPlayerWon:m}},e.getControlStatements=function(e){return e.filter(function(e){return"control_ifElse"===e.type||"control_goto"===e.type})},e.getNormalStatements=function(e){return e.filter(function(e){return!("control_ifElse"===e.type||"control_goto"===e.type)})},e.getImplicitForcedStatements=function(e){return e.filter(function(e){return"begin_scope"===e.type||"end_scope"===e.type||"limit_scope"===e.type})},e.doTileTransition=function(e,t,n,a,i){return r.__assign({},i,{players:i.players.map(function(o,s){return s!==i.currentPlayerIndex?o:r.__assign({},o,{tokens:o.tokens.map(function(i){return r.__assign({},i,{fieldId:a.id,tileGuid:n.guid,previousPositions:i.previousPositions.filter(function(e,t){return t!==i.previousPositions.length-1}).concat({tileGuid:e,fieldId:t})})})})})})},e.currentPlayerHasWon=function(e){return!1},e.executeCodeOnCurrentField=function(e,t){var n=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex],r=this.getCurrentCmdText(e,n.tileGuid,n.fieldId);if(!r)return console.error("current field has no commands!TODO"),t;var a;try{a=this.compiler.parse(r)}catch(e){var o=this.compiler.tokenize(r);throw console.log("tokens before error:"),console.log(o),e}var s=this.getNormalStatements(a.statements);if(s.length>0&&"force"===s[0].type)return t;for(var l=0;l<s.length;l++){var c=s[l];t=i.AbstractMachine.executeStatement(c,t)}return t},e.runSimulationTillEnd=function(t,n,a,l,c,u,d,p,f){var m=this;return new Promise(function(h,g){return r.__awaiter(m,void 0,void 0,function(){var m,y,b,w,v,_,x;return r.__generator(this,function(r){switch(r.label){case 0:m=0,b=0,void 0!==p&&i.AbstractMachine.setSeed(p),r.label=1;case 1:r.trys.push([1,6,,7]),r.label=2;case 2:if(!(m<l))return[3,5];if(0===a.leftDiceValue&&(w=e.startNextRound(a),a=w.state,b++,w.currentPlayerSuspended))return o.Logger.log("player "+a.currentPlayerIndex+" suspends"),a=e.endRound(a),[2];if(v=e.moveToken(t,n,a,c),a=v.state,v.hasCurrentPlayerWon||e.currentPlayerHasWon(a))return u&&o.Logger.message("player "+a.currentPlayerIndex+" has won!","Game over"),f(a,s.SimulationStatus.finished),h(a),[2];if(_=e.executeForceStatements(t,a,d),a=_.state,_.hasCurrentPlayerWon||e.currentPlayerHasWon(a))return u&&o.Logger.message("player "+a.currentPlayerIndex+" has won!","Game over"),f(a,s.SimulationStatus.finished),h(a),[2];if(0===a.leftDiceValue)if(!0===a.wasStateRolledBack)a=e.endRound(a);else{if(a=e.executeCodeOnCurrentField(t,a),e.currentPlayerHasWon(a))return u&&o.Logger.message("player "+a.currentPlayerIndex+" has won!","Game over"),f(a,s.SimulationStatus.finished),h(a),[2];0===a.leftDiceValue&&(a=e.endRound(a))}return m++,y=f(a,s.SimulationStatus.running),y.shouldContinue?y.simulationSpeedInDelayInMsBetweenSteps>0?[4,this.delay(y.simulationSpeedInDelayInMsBetweenSteps)]:[3,4]:(h(a),[2]);case 3:r.sent(),r.label=4;case 4:return[3,2];case 5:return[3,7];case 6:return x=r.sent(),g(x),[2];case 7:return u?o.Logger.fatal("the game took more than "+l+" steps, probably an infinite loop","Timeout"):o.Logger.log("the game took more than "+l+" steps, probably an infinite loop"),g(new Error("the game took more than "+l+" steps, probably an infinite loop")),[2]}})})})},e.delay=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},e.compiler=new a.Compiler(c),e}();t.Simulator=u},function(e,t,n){"use strict";function r(e){var t=parseFloat(e);return isNaN(t)?null:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.buildGameUnit=function(e,t){return{type:"game",game_def_stats:e,statements:t}},e.buildStartUnit=function(e){return{type:"start",startCondition:e}},e.buildEndUnit=function(){return{type:"end"}},e.buildLogUnit=function(e){return{type:"log",expr:e}},e.gotoUnit=function(e){return{type:"goto",targetId:e}},e.expressionUnit=function(e){return{type:"expression",right:e}},e.assignmentUnit=function(e,t){return{type:"assignment",ident:e,expr:t}},e.playerVarAssignUnit=function(e,t,n){return{type:"player_var_assign",ident:t,player:e,expr:n}},e.varDeclUnit=function(e,t,n,r){return{type:"var_decl",expr:r,ident:e,var_type:t,maxVal:n}},e.ternaryExpressionUnit=function(e,t,n,r){return{type:"ternary_expression",disjunction:e,condition:t,trueExpression:n,falseExpression:r}},e.disjunctionUnit=function(e,t){return{type:"disjunction",left:e,right:t}},e.conjunctionUnit=function(e,t){return{type:"conjunction",left:e,right:t}},e.comparisonUnit=function(e,t,n){return{type:"comparison",left:e,right:t,op:n}},e.relationUnit=function(e,t,n){return{type:"relation",left:e,right:t,op:n}},e.sumUnit=function(e,t,n){return{type:"sum",left:e,right:t,op:n}},e.termUnit=function(e,t,n){return{type:"term",left:e,right:t,op:n}},e.factorUnit=function(e,t,n){return{type:"factor",left:e,right:t,unOp:n}},e.primaryUnit=function(e){return{type:"primary",primary:e}},e.primaryConstantUnit_int=function(e){return{type:"primary_constant",intValue:e,boolVal:null}},e.primaryConstantUnit_bool=function(e){return{type:"primary_constant",intValue:null,boolVal:e}},e.primaryIdentUnit=function(e){return{type:"primary_ident",ident:e}},e.primaryIdentLeftStepsUnit=function(){return{type:"primary_ident_leftSteps"}},e.primaryIdentLastResult=function(){return{type:"primary_ident_last_result"}},e.primaryRollDiceFunc=function(e){return{type:"primary_roll_dice_func",maxValExpr:e}},e.primaryChooseBoolFunc=function(){return{type:"primary_choose_bool_func"}},e.primaryIncrementUnit=function(e,t,n){return{type:"primary_increment",ident:e,isPost:t,player:n}},e.primaryDecrementUnit=function(e,t,n){return{type:"primary_decrement",ident:e,isPost:t,player:n}},e.primaryPlayerVarIdentUnit=function(e,t){return{type:"primary_player_var_ident",ident:t,player:e}},e.ifUnit=function(e,t){return{type:"if",trueUnits:t,conditionExpr:e}},e.ifElseUnit=function(e,t,n){return{type:"ifElse",trueUnits:t,falseUnits:n,conditionExpr:e}},e.forceUnit=function(){return{type:"force"}},e.controlIfElseUnit=function(e,t,n){return{type:"control_ifElse",conditionExpr:e,falseTargetId:n,trueTargetId:t}},e.controlGotoUnit=function(e){return{type:"control_goto",targetId:e}},e.moveFunc=function(e){return{type:"move_func",numStepsExpr:e}},e.rollbackFunc=function(){return{type:"rollback_func"}},e.sleepFunc=function(e,t){return{type:"sleep_func",player:e,roundsExpr:t}},e.beginScope=function(){return{type:"begin_scope"}},e.setReturnResult=function(e){return{type:"set_return_result",expr:e}},e.limitScope=function(){return{type:"limit_scope"}},e.endScope=function(){return{type:"end_scope"}},e.playersDefUnit=function(e,t,n){return{type:"players_def",vars:n,numPlayers:e,numTokensPerPlayer:t}},e.gameVarsUnit=function(e,t,n){return{type:"game_vars",maxDiceValue:null===e?6:e,endCondition:t,vars:n}},e}();t.ExecutionUnitBuilder=a,t.convertNumber=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.currentPlayer=0]="currentPlayer",e[e.nextPlayer=1]="nextPlayer",e[e.previousPlayer=2]="previousPlayer"}(t.SomePlayer||(t.SomePlayer={}));!function(e){e[e.int=0]="int",e[e.bool=1]="bool"}(t.VarType||(t.VarType={}))},function(e,t,n){"use strict";function r(e){return void 0!==e.val}function a(e){return void 0!==e.boolVal}Object.defineProperty(t,"__esModule",{value:!0}),t.isIntVar=r,t.isBoolVar=a},function(e,t,n){var r=n(16),a=n(17),i=n(18),o=n(19),s=n(20),l=n(21),c=n(22);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=o,c.xor4096=s,c.tychei=l,e.exports=c},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n=c();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}function c(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)}}a&&a.exports?a.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,a))&&(a.exports=r):this.alea=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,a))&&(a.exports=r):this.xor128=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,a))&&(a.exports=r):this.xorwow=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],e^=e>>>7,n=e^e<<24,e=r[a+1&7],n^=e^e>>>10,e=r[a+3&7],n^=e^e>>>3,e=r[a+4&7],n^=e^e<<7,e=r[a+7&7],e^=e<<13,n^=e^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,a))&&(a.exports=r):this.xorshift7=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,n=s[127&i]^=r+o,a=0==n?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,a))&&(a.exports=r):this.xor4096=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,a))&&(a.exports=r):this.tychei=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){var r;!function(a,i){function o(e,t,n){var r=[];t=1==t?{entropy:!0}:t||{};var o=u(c(t.entropy?[e,p(a)]:null==e?d():e,3),r),f=new s(r),m=function(){for(var e=f.g(g),t=b,n=0;e<w;)e=(e+n)*h,t*=h,n=f.g(1);for(;e>=v;)e/=2,t/=2,n>>>=1;return(e+n)/t};return m.int32=function(){return 0|f.g(4)},m.quick=function(){return f.g(4)/4294967296},m.double=m,u(p(f.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&l(r,f),e.state=function(){return l(f,{})}),n?(i[y]=e,t):e})(m,o,"global"in t?t.global:this==i,t.state)}function s(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<h;)o[a]=a++;for(a=0;a<h;a++)o[a]=o[i=_&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=_&a+1],n=n*h+o[_&(o[a]=o[i=_&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(h)}function l(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function c(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(c(e[n],t-1))}catch(e){}return r.length?r:"string"==a?e:e+"\0"}function u(e,t){for(var n,r=e+"",a=0;a<r.length;)t[_&a]=_&(n^=19*t[_&a])+r.charCodeAt(a++);return p(t)}function d(){try{var e;return f&&(e=f.randomBytes)?e=e(h):(e=new Uint8Array(h),(m.crypto||m.msCrypto).getRandomValues(e)),p(e)}catch(e){var t=m.navigator,n=t&&t.plugins;return[+new Date,m,n,m.screen,p(a)]}}function p(e){return String.fromCharCode.apply(0,e)}var f,m=this,h=256,g=6,y="random",b=i.pow(h,g),w=i.pow(2,52),v=2*w,_=h-1;if(i["seed"+y]=o,u(i.random(),a),"object"==typeof e&&e.exports){e.exports=o;try{f=n(23)}catch(e){}}else void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}([],Math)},function(e,t){},function(e,t,n){/*!
* sweetalert2 v7.20.6
* Released under the MIT License.
*/
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[null].concat(n)));Object.getPrototypeOf(e).apply(this,n)};return t.prototype=w(Object.create(e.prototype),{constructor:t}),"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}function t(t){var n=this;return e(function(e){function n(){return y(this,n),x(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _(n,e),b(n,[{key:"_main",value:function(e){return v(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_main",this).call(this,w({},t,e))}}]),n}(n))}function n(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))}function r(){var e=We.innerParams.get(this),t=We.domCache.get(this);e.showConfirmButton||(W(t.confirmButton),e.showCancelButton||W(t.actions)),z([t.popup,t.actions],O.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}function a(e){var t=We.innerParams.get(this),n=We.domCache.get(this);if(!(e=e||t.input))return null;switch(e){case"select":case"textarea":case"file":return F(n.content,O[e]);case"checkbox":return n.popup.querySelector("."+O.checkbox+" input");case"radio":return n.popup.querySelector("."+O.radio+" input:checked")||n.popup.querySelector("."+O.radio+" input:first-child");case"range":return n.popup.querySelector("."+O.range+" input");default:return F(n.content,O.input)}}function i(){var e=We.domCache.get(this);e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}function o(){var e=We.domCache.get(this);e.confirmButton.disabled=!0,e.cancelButton.disabled=!0}function s(){We.domCache.get(this).confirmButton.disabled=!1}function l(){We.domCache.get(this).confirmButton.disabled=!0}function c(){var e=this.getInput();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=!1;else e.disabled=!1}function u(){var e=this.getInput();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=!0;else e.disabled=!0}function d(e){var t=We.domCache.get(this);t.validationError.innerHTML=e;var n=window.getComputedStyle(t.popup);t.validationError.style.marginLeft="-"+n.getPropertyValue("padding-left"),t.validationError.style.marginRight="-"+n.getPropertyValue("padding-right"),q(t.validationError);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",O.validationerror),M(r),N(r,O.inputerror))}function p(){var e=We.domCache.get(this);e.validationError&&W(e.validationError);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),z(t,O.inputerror))}function f(e){e.inputValidator||Object.keys(He).forEach(function(t){e.input===t&&(e.inputValidator=e.expectRejections?He[t]:Ke.adaptInputValidator(He[t]))}),(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(E('Target parameter is not valid, defaulting to "body"'),e.target="body");var t=void 0,n=Q(),r="string"==typeof e.target?document.querySelector(e.target):e.target;t=n&&r&&n.parentNode!==r.parentNode?ye(e):n||ye(e),e.width&&(t.style.width="number"==typeof e.width?e.width+"px":e.width),e.padding&&(t.style.padding="number"==typeof e.padding?e.padding+"px":e.padding),e.background&&(t.style.background=e.background);for(var a=window.getComputedStyle(t).getPropertyValue("background-color"),i=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),o=0;o<i.length;o++)i[o].style.backgroundColor=a;var s=X(),l=ee(),c=te().querySelector("#"+O.content),u=le(),d=ie(),p=oe(),f=ue(),m=ce();if(e.titleText?l.innerText=e.titleText:e.title&&(l.innerHTML=e.title.split("\n").join("<br />")),"string"==typeof e.backdrop?X().style.background=e.backdrop:e.backdrop||N([document.documentElement,document.body],O["no-backdrop"]),e.html?be(e.html,c):e.text?(c.textContent=e.text,q(c)):W(c),e.position in O?N(s,O[e.position]):(E('The "position" parameter is not valid, defaulting to "center"'),N(s,O.center)),e.grow&&"string"==typeof e.grow){var h="grow-"+e.grow;h in O&&N(s,O[h])}"function"==typeof e.animation&&(e.animation=e.animation.call()),e.showCloseButton?(f.setAttribute("aria-label",e.closeButtonAriaLabel),q(f)):W(f),t.className=O.popup,e.toast?(N([document.documentElement,document.body],O["toast-shown"]),N(t,O.toast)):N(t,O.modal),e.customClass&&N(t,e.customClass);var g=re(),y=parseInt(null===e.currentProgressStep?Ke.getQueueStep():e.currentProgressStep,10);e.progressSteps&&e.progressSteps.length?(q(g),H(g),y>=e.progressSteps.length&&E("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,n){var r=document.createElement("li");if(N(r,O.progresscircle),r.innerHTML=t,n===y&&N(r,O.activeprogressstep),g.appendChild(r),n!==e.progressSteps.length-1){var a=document.createElement("li");N(a,O.progressline),e.progressStepsDistance&&(a.style.width=e.progressStepsDistance),g.appendChild(a)}})):W(g);for(var b=J(),w=0;w<b.length;w++)W(b[w]);if(e.type){var v=!1;for(var _ in L)if(e.type===_){v=!0;break}if(!v)return V("Unknown alert type: "+e.type),!1;var x=t.querySelector("."+O.icon+"."+L[e.type]);q(x),e.animation&&N(x,"swal2-animate-"+e.type+"-icon")}var k=ne();if(e.imageUrl?(k.setAttribute("src",e.imageUrl),k.setAttribute("alt",e.imageAlt),q(k),e.imageWidth?k.setAttribute("width",e.imageWidth):k.removeAttribute("width"),e.imageHeight?k.setAttribute("height",e.imageHeight):k.removeAttribute("height"),k.className=O.image,e.imageClass&&N(k,e.imageClass)):W(k),e.showCancelButton?p.style.display="inline-block":W(p),e.showConfirmButton?Z(d,"display"):W(d),e.showConfirmButton||e.showCancelButton?q(u):W(u),d.innerHTML=e.confirmButtonText,p.innerHTML=e.cancelButtonText,d.setAttribute("aria-label",e.confirmButtonAriaLabel),p.setAttribute("aria-label",e.cancelButtonAriaLabel),d.className=O.confirm,N(d,e.confirmButtonClass),p.className=O.cancel,N(p,e.cancelButtonClass),e.buttonsStyling){N([d,p],O.styled),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor),e.cancelButtonColor&&(p.style.backgroundColor=e.cancelButtonColor);var S=window.getComputedStyle(d).getPropertyValue("background-color");d.style.borderLeftColor=S,d.style.borderRightColor=S}else z([d,p],O.styled),d.style.backgroundColor=d.style.borderLeftColor=d.style.borderRightColor="",p.style.backgroundColor=p.style.borderLeftColor=p.style.borderRightColor="";be(e.footer,m),!0===e.animation?z(t,O.noanimation):N(t,O.noanimation),e.showLoaderOnConfirm&&!e.preConfirm&&E("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request")}function m(e){var t=this;je(e);var n=w({},Ce,e);f(n),Object.freeze(n),We.innerParams.set(this,n),clearTimeout(Ie.timeout);var r={popup:Q(),container:X(),content:te(),actions:le(),confirmButton:ie(),cancelButton:oe(),closeButton:ue(),validationError:ae(),progressSteps:re()};We.domCache.set(this,r);var a=this.constructor;return new Promise(function(e,i){var o=function(t){a.closePopup(n.onClose,n.onAfterClose),e(n.useRejections?t:{value:t})},s=function(t){a.closePopup(n.onClose,n.onAfterClose),n.useRejections?i(t):e({dismiss:t})},l=function(e){a.closePopup(n.onClose,n.onAfterClose),i(e)};n.timer&&(Ie.timeout=setTimeout(function(){return s("timer")},n.timer));var c=function(){var e=t.getInput();if(!e)return null;switch(n.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return n.inputAutoTrim?e.value.trim():e.value}};n.input&&setTimeout(function(){var e=t.getInput();e&&M(e)},0);for(var u=function(e){if(n.showLoaderOnConfirm&&a.showLoading(),n.preConfirm){t.resetValidationError();var i=Promise.resolve().then(function(){return n.preConfirm(e,n.extraParams)});n.expectRejections?i.then(function(t){return o(t||e)},function(e){t.hideLoading(),e&&t.showValidationError(e)}):i.then(function(n){Y(r.validationError)||!1===n?t.hideLoading():o(n||e)},function(e){return l(e)})}else o(e)},d=function(e){var i=e||window.event,o=i.target||i.srcElement,d=r.confirmButton,p=r.cancelButton,f=d&&(d===o||d.contains(o)),m=p&&(p===o||p.contains(o));switch(i.type){case"click":if(f&&a.isVisible())if(t.disableButtons(),n.input){var h=c();if(n.inputValidator){t.disableInput();var g=Promise.resolve().then(function(){return n.inputValidator(h,n.extraParams)});n.expectRejections?g.then(function(){t.enableButtons(),t.enableInput(),u(h)},function(e){t.enableButtons(),t.enableInput(),e&&t.showValidationError(e)}):g.then(function(e){t.enableButtons(),t.enableInput(),e?t.showValidationError(e):u(h)},function(e){return l(e)})}else u(h)}else u(!0);else m&&a.isVisible()&&(t.disableButtons(),s(a.DismissReason.cancel))}},p=r.popup.querySelectorAll("button"),f=0;f<p.length;f++)p[f].onclick=d,p[f].onmouseover=d,p[f].onmouseout=d,p[f].onmousedown=d;if(r.closeButton.onclick=function(){s(a.DismissReason.close)},n.toast)r.popup.onclick=function(e){n.showConfirmButton||n.showCancelButton||n.showCloseButton||n.input||(a.closePopup(n.onClose,n.onAfterClose),s(a.DismissReason.close))};else{var m=!1;r.popup.onmousedown=function(){r.container.onmouseup=function(e){r.container.onmouseup=void 0,e.target===r.container&&(m=!0)}},r.container.onmousedown=function(){r.popup.onmouseup=function(e){r.popup.onmouseup=void 0,(e.target===r.popup||r.popup.contains(e.target))&&(m=!0)}},r.container.onclick=function(e){if(m)return void(m=!1);e.target===r.container&&U(n.allowOutsideClick)&&s(a.DismissReason.backdrop)}}n.reverseButtons?r.confirmButton.parentNode.insertBefore(r.cancelButton,r.confirmButton):r.confirmButton.parentNode.insertBefore(r.confirmButton,r.cancelButton);var h=function(e,t){for(var a=de(n.focusCancel),i=0;i<a.length;i++){e+=t,e===a.length?e=0:-1===e&&(e=a.length-1);var o=a[e];if(Y(o))return o.focus()}r.popup.focus()},y=function(e){var i=e||window.event,o=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"];if("Enter"!==i.key||i.isComposing)if("Tab"===i.key){for(var l=i.target||i.srcElement,c=de(n.focusCancel),u=-1,d=0;d<c.length;d++)if(l===c[d]){u=d;break}i.shiftKey?h(u,-1):h(u,1),i.stopPropagation(),i.preventDefault()}else-1!==o.indexOf(i.key)?document.activeElement===r.confirmButton&&Y(r.cancelButton)?r.cancelButton.focus():document.activeElement===r.cancelButton&&Y(r.confirmButton)&&r.confirmButton.focus():"Escape"!==i.key&&"Esc"!==i.key||!0!==U(n.allowEscapeKey)||s(a.DismissReason.esc);else if(i.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;a.clickConfirm(),i.preventDefault()}};n.toast&&Ie.windowOnkeydownOverridden&&(window.onkeydown=Ie.previousWindowKeyDown,Ie.windowOnkeydownOverridden=!1),n.toast||Ie.windowOnkeydownOverridden||(Ie.previousWindowKeyDown=window.onkeydown,Ie.windowOnkeydownOverridden=!0,window.onkeydown=y),t.enableButtons(),t.hideLoading(),t.resetValidationError(),n.input&&N(document.body,O["has-input"]);for(var b=["input","file","range","select","radio","checkbox","textarea"],w=void 0,v=0;v<b.length;v++){var _=O[b[v]],x=F(r.content,_);if(w=t.getInput(b[v])){for(var S in w.attributes)if(w.attributes.hasOwnProperty(S)){var E=w.attributes[S].name;"type"!==E&&"value"!==E&&w.removeAttribute(E)}for(var T in n.inputAttributes)w.setAttribute(T,n.inputAttributes[T])}x.className=_,n.inputClass&&N(x,n.inputClass),W(x)}var P=void 0;switch(n.input){case"text":case"email":case"password":case"number":case"tel":case"url":w=F(r.content,O.input),w.value=n.inputValue,w.placeholder=n.inputPlaceholder,w.type=n.input,q(w);break;case"file":w=F(r.content,O.file),w.placeholder=n.inputPlaceholder,w.type=n.input,q(w);break;case"range":var B=F(r.content,O.range),A=B.querySelector("input"),D=B.querySelector("output");A.value=n.inputValue,A.type=n.input,D.value=n.inputValue,q(B);break;case"select":var j=F(r.content,O.select);if(j.innerHTML="",n.inputPlaceholder){var L=document.createElement("option");L.innerHTML=n.inputPlaceholder,L.value="",L.disabled=!0,L.selected=!0,j.appendChild(L)}P=function(e){e.forEach(function(e){var t=k(e,2),r=t[0],a=t[1],i=document.createElement("option");i.value=r,i.innerHTML=a,n.inputValue.toString()===r.toString()&&(i.selected=!0),j.appendChild(i)}),q(j),j.focus()};break;case"radio":var $=F(r.content,O.radio);$.innerHTML="",P=function(e){e.forEach(function(e){var t=k(e,2),r=t[0],a=t[1],i=document.createElement("input"),o=document.createElement("label");i.type="radio",i.name=O.radio,i.value=r,n.inputValue.toString()===r.toString()&&(i.checked=!0),o.innerHTML=a,o.insertBefore(i,o.firstChild),$.appendChild(o)}),q($);var t=$.querySelectorAll("input");t.length&&t[0].focus()};break;case"checkbox":var G=F(r.content,O.checkbox),R=t.getInput("checkbox");R.type="checkbox",R.value=1,R.id=O.checkbox,R.checked=Boolean(n.inputValue);var z=G.getElementsByTagName("span");z.length&&G.removeChild(z[0]),z=document.createElement("span"),z.innerHTML=n.inputPlaceholder,G.appendChild(z),q(G);break;case"textarea":var H=F(r.content,O.textarea);H.value=n.inputValue,H.placeholder=n.inputPlaceholder,q(H);break;case null:break;default:V('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+n.input+'"')}if("select"===n.input||"radio"===n.input){var Z=function(e){return P(I(e))};C(n.inputOptions)?(a.showLoading(),n.inputOptions.then(function(e){t.hideLoading(),Z(e)})):"object"===g(n.inputOptions)?Z(n.inputOptions):V("Unexpected type of inputOptions! Expected object, Map or Promise, got "+g(n.inputOptions))}else-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&C(n.inputValue)&&(a.showLoading(),W(w),n.inputValue.then(function(e){w.value="number"===n.input?parseFloat(e)||0:e+"",q(w),t.hideLoading()}).catch(function(e){V("Error in inputValue promise: "+e),w.value="",q(w),t.hideLoading()}));Ye(n.animation,n.onBeforeOpen,n.onOpen),n.toast||(U(n.allowEnterKey)?n.focusCancel&&Y(r.cancelButton)?r.cancelButton.focus():n.focusConfirm&&Y(r.confirmButton)?r.confirmButton.focus():h(-1,1):document.activeElement&&document.activeElement.blur()),r.container.scrollTop=0})}function h(){if("undefined"!=typeof window){"undefined"==typeof Promise&&V("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(void 0===t[0])return V("SweetAlert2 expects at least 1 attribute!"),!1;Xe=this;var r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0}});var a=this._main(this.params);We.promise.set(this,a)}}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(r)},_=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},k=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},I=function(e){var t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(function(e,n){t.push([n,e])}):Object.keys(e).forEach(function(n){t.push([n,e[n]])}),t},E=function(e){console.warn("SweetAlert2: "+e)},V=function(e){console.error("SweetAlert2: "+e)},T=[],P=function(e){-1===T.indexOf(e)&&(T.push(e),E(e))},U=function(e){return"function"==typeof e?e():e},C=function(e){return"object"===(void 0===e?"undefined":g(e))&&"function"==typeof e.then},B=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"}),A=function(e){var t={};switch(g(e[0])){case"string":["title","html","type"].forEach(function(n,r){switch(g(e[r])){case"string":t[n]=e[r];break;case"undefined":break;default:V("Unexpected type of "+n+'! Expected "string", got '+g(e[r]))}});break;case"object":w(t,e[0]);break;default:return V('Unexpected type of argument! Expected "string" or "object", got '+g(e[0])),!1}return t},D=function(e){return function(t,n){return e.call(this,t,n).then(function(){},function(e){return e})}},j=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},O=j(["container","shown","iosfix","popup","modal","no-backdrop","toast","toast-shown","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","has-input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen"]),L=j(["success","warning","info","question","error"]),$={previousBodyPadding:null},G=function(e,t){return!!e.classList&&e.classList.contains(t)},M=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},R=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(function(t){e.forEach?e.forEach(function(e){n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},N=function(e,t){R(e,t,!0)},z=function(e,t){R(e,t,!1)},F=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(G(e.childNodes[n],t))return e.childNodes[n]},q=function(e){e.style.opacity="",e.style.display=e.id===O.content?"block":"flex"},W=function(e){e.style.opacity="",e.style.display="none"},H=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},Y=function(e){return e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Z=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},X=function(){return document.body.querySelector("."+O.container)},K=function(e){var t=X();return t?t.querySelector("."+e):null},Q=function(){return K(O.popup)},J=function(){return Q().querySelectorAll("."+O.icon)},ee=function(){return K(O.title)},te=function(){return K(O.content)},ne=function(){return K(O.image)},re=function(){return K(O.progresssteps)},ae=function(){return K(O.validationerror)},ie=function(){return K(O.confirm)},oe=function(){return K(O.cancel)},se=function(){return P("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"),K(O.actions)},le=function(){return K(O.actions)},ce=function(){return K(O.footer)},ue=function(){return K(O.close)},de=function(){var e=Array.prototype.slice.call(Q().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(e,t){return e=parseInt(e.getAttribute("tabindex")),t=parseInt(t.getAttribute("tabindex")),e>t?1:e<t?-1:0}),t=Array.prototype.slice.call(Q().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]'));return S(e.concat(t))},pe=function(){return!document.body.classList.contains(O["toast-shown"])},fe=function(){return document.body.classList.contains(O["toast-shown"])},me=function(){return Q().hasAttribute("data-loading")},he=function(){return"undefined"==typeof window||"undefined"==typeof document},ge=('\n <div aria-labelledby="'+O.title+'" aria-describedby="'+O.content+'" class="'+O.popup+'" tabindex="-1">\n   <div class="'+O.header+'">\n     <ul class="'+O.progresssteps+'"></ul>\n     <div class="'+O.icon+" "+L.error+'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="'+O.icon+" "+L.question+'">\n       <span class="'+O["icon-text"]+'">?</span>\n      </div>\n     <div class="'+O.icon+" "+L.warning+'">\n       <span class="'+O["icon-text"]+'">!</span>\n      </div>\n     <div class="'+O.icon+" "+L.info+'">\n       <span class="'+O["icon-text"]+'">i</span>\n      </div>\n     <div class="'+O.icon+" "+L.success+'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="'+O.image+'" />\n     <h2 class="'+O.title+'" id="'+O.title+'"></h2>\n     <button type="button" class="'+O.close+'"></button>\n   </div>\n   <div class="'+O.content+'">\n     <div id="'+O.content+'"></div>\n     <input class="'+O.input+'" />\n     <input type="file" class="'+O.file+'" />\n     <div class="'+O.range+'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="'+O.select+'"></select>\n     <div class="'+O.radio+'"></div>\n     <label for="'+O.checkbox+'" class="'+O.checkbox+'">\n       <input type="checkbox" />\n     </label>\n     <textarea class="'+O.textarea+'"></textarea>\n     <div class="'+O.validationerror+'" id="'+O.validationerror+'"></div>\n   </div>\n   <div class="'+O.actions+'">\n     <button type="button" class="'+O.confirm+'">OK</button>\n     <button type="button" class="'+O.cancel+'">Cancel</button>\n   </div>\n   <div class="'+O.footer+'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ye=function(e){var t=X();if(t&&(t.parentNode.removeChild(t),z([document.documentElement,document.body],[O["no-backdrop"],O["has-input"],O["toast-shown"]])),he())return void V("SweetAlert2 requires document to initialize");var n=document.createElement("div");n.className=O.container,n.innerHTML=ge,("string"==typeof e.target?document.querySelector(e.target):e.target).appendChild(n);var r=Q(),a=te(),i=F(a,O.input),o=F(a,O.file),s=a.querySelector("."+O.range+" input"),l=a.querySelector("."+O.range+" output"),c=F(a,O.select),u=a.querySelector("."+O.checkbox+" input"),d=F(a,O.textarea);r.setAttribute("role",e.toast?"alert":"dialog"),r.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||r.setAttribute("aria-modal","true");var p=function(){Ke.isVisible()&&Ke.resetValidationError()};return i.oninput=p,o.onchange=p,c.onchange=p,u.onchange=p,d.oninput=p,s.oninput=function(){p(),l.value=s.value},s.onchange=function(){p(),s.nextSibling.value=s.value},r},be=function(e,t){if(!e)return W(t);if("object"===(void 0===e?"undefined":g(e)))if(t.innerHTML="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0));else e&&(t.innerHTML=e);q(t)},we=function(){if(he())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),ve=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},_e=function(){null===$.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&($.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=$.previousBodyPadding+ve()+"px")},xe=function(){null!==$.previousBodyPadding&&(document.body.style.paddingRight=$.previousBodyPadding,$.previousBodyPadding=null)},ke=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!G(document.body,O.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",N(document.body,O.iosfix)}},Se=function(){if(G(document.body,O.iosfix)){var e=parseInt(document.body.style.top,10);z(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Ie={},Ee=function(){if(Ie.previousActiveElement&&Ie.previousActiveElement.focus){var e=Ie.previousActiveElement;Ie.previousActiveElement=null;var t=window.scrollX,n=window.scrollY;setTimeout(function(){e.focus&&e.focus()},100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)}},Ve=function(e,t){var n=X(),r=Q();if(r){null!==e&&"function"==typeof e&&e(r),z(r,O.show),N(r,O.hide);var a=function(){fe()||(Ee(),window.onkeydown=Ie.previousWindowKeyDown,Ie.windowOnkeydownOverridden=!1),n.parentNode&&n.parentNode.removeChild(n),z([document.documentElement,document.body],[O.shown,O["no-backdrop"],O["has-input"],O["toast-shown"]]),pe()&&(xe(),Se()),null!==t&&"function"==typeof t&&setTimeout(function(){t()})};we&&!G(r,O.noanimation)?r.addEventListener(we,function e(){r.removeEventListener(we,e),G(r,O.hide)&&a()}):a()}},Te=function(){return!!Q()},Pe=function(){return ie().click()},Ue=function(){return oe().click()},Ce={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",target:"body",backdrop:!0,animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onAfterClose:null,onOpen:null,onClose:null,useRejections:!1,expectRejections:!1},Be=["useRejections","expectRejections"],Ae=function(e){return Ce.hasOwnProperty(e)||"extraParams"===e},De=function(e){return-1!==Be.indexOf(e)},je=function(e){for(var t in e)Ae(t)||E('Unknown parameter "'+t+'"'),De(t)&&P('The parameter "'+t+'" is deprecated and will be removed in the next major release.')},Oe='"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.',Le={},$e=[],Ge=function(e){var t=this;$e=e;var n=function(){$e=[],document.body.removeAttribute("data-swal2-queue-step")},r=[];return new Promise(function(e,a){!function a(i,o){i<$e.length?(document.body.setAttribute("data-swal2-queue-step",i),t($e[i]).then(function(t){void 0!==t.value?(r.push(t.value),a(i+1,o)):(n(),e({dismiss:t.dismiss}))})):(n(),e({value:r}))}(0)})},Me=function(){return document.body.getAttribute("data-swal2-queue-step")},Re=function(e,t){return t&&t<$e.length?$e.splice(t,0,e):$e.push(e)},Ne=function(e){void 0!==$e[e]&&$e.splice(e,1)},ze=function(){var e=Q();e||Ke(""),e=Q();var t=le(),n=ie(),r=oe();q(t),q(n),N([e,t],O.loading),n.disabled=!0,r.disabled=!0,e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Fe=Object.freeze({isValidParameter:Ae,isDeprecatedParameter:De,argsToParams:A,adaptInputValidator:D,close:Ve,closePopup:Ve,closeModal:Ve,closeToast:Ve,isVisible:Te,clickConfirm:Pe,clickCancel:Ue,getPopup:Q,getTitle:ee,getContent:te,getImage:ne,getButtonsWrapper:se,getActions:le,getConfirmButton:ie,getCancelButton:oe,getFooter:ce,isLoading:me,mixin:t,queue:Ge,getQueueStep:Me,insertQueueStep:Re,deleteQueueStep:Ne,showLoading:ze,enableLoading:ze,fire:n});if("undefined"!=typeof window&&"function"!=typeof window.WeakMap){var qe=0;window.Symbol=function(e){return"__"+e+"_"+Math.floor(1e9*Math.random())+"_"+ ++qe+"__"},Symbol.iterator=Symbol("Symbol.iterator"),window.WeakMap=function(e,t,n){function r(){t(this,e,{value:Symbol("WeakMap")})}return r.prototype={delete:function(t){delete t[this[e]]},get:function(t){return t[this[e]]},has:function(t){return n.call(t,this[e])},set:function(n,r){t(n,this[e],{configurable:!0,value:r})}},r}(Symbol("WeakMap"),Object.defineProperty,{}.hasOwnProperty)}var We={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},He={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.reject(t&&t.validationMessage?t.validationMessage:"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)$/.test(e)?Promise.resolve():Promise.reject(t&&t.validationMessage?t.validationMessage:"Invalid URL")}},Ye=function(e,t,n){var r=X(),a=Q();null!==t&&"function"==typeof t&&t(a),e?(N(a,O.show),N(r,O.fade),z(a,O.hide)):z(a,O.fade),q(a),r.style.overflowY="hidden",we&&!G(a,O.noanimation)?a.addEventListener(we,function e(){a.removeEventListener(we,e),r.style.overflowY="auto"}):r.style.overflowY="auto",N([document.documentElement,document.body,r],O.shown),pe()&&(_e(),ke()),Ie.previousActiveElement||(Ie.previousActiveElement=document.activeElement),null!==n&&"function"==typeof n&&setTimeout(function(){n(a)})},Ze=Object.freeze({hideLoading:r,disableLoading:r,getInput:a,enableButtons:i,disableButtons:o,enableConfirmButton:s,disableConfirmButton:l,enableInput:c,disableInput:u,showValidationError:d,resetValidationError:p,_main:m}),Xe=void 0;h.prototype.then=function(e,t){return We.promise.get(this).then(e,t)},h.prototype.catch=function(e){return We.promise.get(this).catch(e)},h.prototype.finally=function(e){return We.promise.get(this).finally(e)},w(h.prototype,Ze),w(h,Fe),Object.keys(Ze).forEach(function(e){h[e]=function(){if(Xe){var t;return(t=Xe)[e].apply(t,arguments)}}}),h.DismissReason=B,h.noop=function(){},h.version="7.20.6";var Ke=e(function(e){var t=function(t){function n(){return y(this,n),x(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _(n,t),b(n,[{key:"_main",value:function(e){return v(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_main",this).call(this,w({},Le,e))}}],[{key:"setDefaults",value:function(t){if(P(Oe),!t||"object"!==(void 0===t?"undefined":g(t)))throw new TypeError("SweetAlert2: The argument for setDefaults() is required and has to be a object");je(t),Object.keys(t).forEach(function(n){e.isValidParameter(n)&&(Le[n]=t[n])})}},{key:"resetDefaults",value:function(){P(Oe),Le={}}}]),n}(e);return"undefined"!=typeof window&&"object"===g(window._swalDefaults)&&t.setDefaults(window._swalDefaults),t}(h));return Ke.default=Ke,Ke}),"undefined"!=typeof window&&window.Sweetalert2&&(window.swal=window.sweetAlert=window.Swal=window.SweetAlert=window.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,"@-webkit-keyframes swal2-show {\n  0% {\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7); }\n  45% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05); }\n  80% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@keyframes swal2-show {\n  0% {\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7); }\n  45% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05); }\n  80% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-webkit-keyframes swal2-hide {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n    opacity: 0; } }\n\n@keyframes swal2-hide {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n    opacity: 0; } }\n\n@-webkit-keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: 1.0625em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: 2.1875em;\n    left: -.375em;\n    width: 3.125em; }\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em; }\n  100% {\n    top: 2.8125em;\n    left: .875em;\n    width: 1.5625em; } }\n\n@keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: 1.0625em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: 2.1875em;\n    left: -.375em;\n    width: 3.125em; }\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em; }\n  100% {\n    top: 2.8125em;\n    left: .875em;\n    width: 1.5625em; } }\n\n@-webkit-keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em; }\n  100% {\n    top: 2.375em;\n    right: .5em;\n    width: 2.9375em; } }\n\n@keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em; }\n  100% {\n    top: 2.375em;\n    right: .5em;\n    width: 2.9375em; } }\n\n@-webkit-keyframes swal2-rotate-success-circular-line {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  5% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  12% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n\n@keyframes swal2-rotate-success-circular-line {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  5% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  12% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n\n@-webkit-keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  50% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  80% {\n    margin-top: -.375em;\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15); }\n  100% {\n    margin-top: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; } }\n\n@keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  50% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  80% {\n    margin-top: -.375em;\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15); }\n  100% {\n    margin-top: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; } }\n\n@-webkit-keyframes swal2-animate-error-icon {\n  0% {\n    -webkit-transform: rotateX(100deg);\n            transform: rotateX(100deg);\n    opacity: 0; }\n  100% {\n    -webkit-transform: rotateX(0deg);\n            transform: rotateX(0deg);\n    opacity: 1; } }\n\n@keyframes swal2-animate-error-icon {\n  0% {\n    -webkit-transform: rotateX(100deg);\n            transform: rotateX(100deg);\n    opacity: 0; }\n  100% {\n    -webkit-transform: rotateX(0deg);\n            transform: rotateX(0deg);\n    opacity: 1; } }\n\nbody.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast {\n  flex-direction: column;\n  align-items: stretch; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-actions {\n    flex: 1;\n    align-self: stretch;\n    justify-content: flex-end;\n    height: 2.2em; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-loading {\n    justify-content: center; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-input {\n    height: 2em;\n    margin: .3125em auto;\n    font-size: 1em; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-validationerror {\n    font-size: 1em; }\n\nbody.swal2-toast-shown > .swal2-container {\n  position: fixed;\n  background-color: transparent; }\n  body.swal2-toast-shown > .swal2-container.swal2-shown {\n    background-color: transparent; }\n  body.swal2-toast-shown > .swal2-container.swal2-top {\n    top: 0;\n    right: auto;\n    bottom: auto;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-top-end, body.swal2-toast-shown > .swal2-container.swal2-top-right {\n    top: 0;\n    right: 0;\n    bottom: auto;\n    left: auto; }\n  body.swal2-toast-shown > .swal2-container.swal2-top-start, body.swal2-toast-shown > .swal2-container.swal2-top-left {\n    top: 0;\n    right: auto;\n    bottom: auto;\n    left: 0; }\n  body.swal2-toast-shown > .swal2-container.swal2-center-start, body.swal2-toast-shown > .swal2-container.swal2-center-left {\n    top: 50%;\n    right: auto;\n    bottom: auto;\n    left: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-center {\n    top: 50%;\n    right: auto;\n    bottom: auto;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-center-end, body.swal2-toast-shown > .swal2-container.swal2-center-right {\n    top: 50%;\n    right: 0;\n    bottom: auto;\n    left: auto;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom-start, body.swal2-toast-shown > .swal2-container.swal2-bottom-left {\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 0; }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom {\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom-end, body.swal2-toast-shown > .swal2-container.swal2-bottom-right {\n    top: auto;\n    right: 0;\n    bottom: 0;\n    left: auto; }\n\n.swal2-popup.swal2-toast {\n  flex-direction: row;\n  align-items: center;\n  width: auto;\n  padding: 0.625em;\n  box-shadow: 0 0 0.625em #d9d9d9;\n  overflow-y: hidden; }\n  .swal2-popup.swal2-toast .swal2-header {\n    flex-direction: row; }\n  .swal2-popup.swal2-toast .swal2-title {\n    justify-content: flex-start;\n    margin: 0 .6em;\n    font-size: 1em; }\n  .swal2-popup.swal2-toast .swal2-close {\n    position: initial; }\n  .swal2-popup.swal2-toast .swal2-content {\n    justify-content: flex-start;\n    font-size: 1em; }\n  .swal2-popup.swal2-toast .swal2-icon {\n    width: 2em;\n    min-width: 2em;\n    height: 2em;\n    margin: 0; }\n    .swal2-popup.swal2-toast .swal2-icon-text {\n      font-size: 2em;\n      font-weight: bold;\n      line-height: 1em; }\n    .swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring {\n      width: 2em;\n      height: 2em; }\n    .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'] {\n      top: .875em;\n      width: 1.375em; }\n      .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='left'] {\n        left: .3125em; }\n      .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='right'] {\n        right: .3125em; }\n  .swal2-popup.swal2-toast .swal2-actions {\n    height: auto;\n    margin: 0 .3125em; }\n  .swal2-popup.swal2-toast .swal2-styled {\n    margin: 0 .3125em;\n    padding: .3125em .625em;\n    font-size: 1em; }\n    .swal2-popup.swal2-toast .swal2-styled:focus {\n      box-shadow: 0 0 0 0.0625em #fff, 0 0 0 0.125em rgba(50, 100, 150, 0.4); }\n  .swal2-popup.swal2-toast .swal2-success {\n    border-color: #a5dc86; }\n    .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'] {\n      position: absolute;\n      width: 2em;\n      height: 2.8125em;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      border-radius: 50%; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'][class$='left'] {\n        top: -.25em;\n        left: -.9375em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 2em 2em;\n                transform-origin: 2em 2em;\n        border-radius: 4em 0 0 4em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'][class$='right'] {\n        top: -.25em;\n        left: .9375em;\n        -webkit-transform-origin: 0 2em;\n                transform-origin: 0 2em;\n        border-radius: 0 4em 4em 0; }\n    .swal2-popup.swal2-toast .swal2-success .swal2-success-ring {\n      width: 2em;\n      height: 2em; }\n    .swal2-popup.swal2-toast .swal2-success .swal2-success-fix {\n      top: 0;\n      left: .4375em;\n      width: .4375em;\n      height: 2.6875em; }\n    .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'] {\n      height: .3125em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'][class$='tip'] {\n        top: 1.125em;\n        left: .1875em;\n        width: .75em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'][class$='long'] {\n        top: .9375em;\n        right: .1875em;\n        width: 1.375em; }\n  .swal2-popup.swal2-toast.swal2-show {\n    -webkit-animation: showSweetToast .5s;\n            animation: showSweetToast .5s; }\n  .swal2-popup.swal2-toast.swal2-hide {\n    -webkit-animation: hideSweetToast .2s forwards;\n            animation: hideSweetToast .2s forwards; }\n  .swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip {\n    -webkit-animation: animate-toast-success-tip .75s;\n            animation: animate-toast-success-tip .75s; }\n  .swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long {\n    -webkit-animation: animate-toast-success-long .75s;\n            animation: animate-toast-success-long .75s; }\n\n@-webkit-keyframes showSweetToast {\n  0% {\n    -webkit-transform: translateY(-0.625em) rotateZ(2deg);\n            transform: translateY(-0.625em) rotateZ(2deg);\n    opacity: 0; }\n  33% {\n    -webkit-transform: translateY(0) rotateZ(-2deg);\n            transform: translateY(0) rotateZ(-2deg);\n    opacity: .5; }\n  66% {\n    -webkit-transform: translateY(0.3125em) rotateZ(2deg);\n            transform: translateY(0.3125em) rotateZ(2deg);\n    opacity: .7; }\n  100% {\n    -webkit-transform: translateY(0) rotateZ(0);\n            transform: translateY(0) rotateZ(0);\n    opacity: 1; } }\n\n@keyframes showSweetToast {\n  0% {\n    -webkit-transform: translateY(-0.625em) rotateZ(2deg);\n            transform: translateY(-0.625em) rotateZ(2deg);\n    opacity: 0; }\n  33% {\n    -webkit-transform: translateY(0) rotateZ(-2deg);\n            transform: translateY(0) rotateZ(-2deg);\n    opacity: .5; }\n  66% {\n    -webkit-transform: translateY(0.3125em) rotateZ(2deg);\n            transform: translateY(0.3125em) rotateZ(2deg);\n    opacity: .7; }\n  100% {\n    -webkit-transform: translateY(0) rotateZ(0);\n            transform: translateY(0) rotateZ(0);\n    opacity: 1; } }\n\n@-webkit-keyframes hideSweetToast {\n  0% {\n    opacity: 1; }\n  33% {\n    opacity: .5; }\n  100% {\n    -webkit-transform: rotateZ(1deg);\n            transform: rotateZ(1deg);\n    opacity: 0; } }\n\n@keyframes hideSweetToast {\n  0% {\n    opacity: 1; }\n  33% {\n    opacity: .5; }\n  100% {\n    -webkit-transform: rotateZ(1deg);\n            transform: rotateZ(1deg);\n    opacity: 0; } }\n\n@-webkit-keyframes animate-toast-success-tip {\n  0% {\n    top: .5625em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: .125em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: .625em;\n    left: -.25em;\n    width: 1.625em; }\n  84% {\n    top: 1.0625em;\n    left: .75em;\n    width: .5em; }\n  100% {\n    top: 1.125em;\n    left: .1875em;\n    width: .75em; } }\n\n@keyframes animate-toast-success-tip {\n  0% {\n    top: .5625em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: .125em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: .625em;\n    left: -.25em;\n    width: 1.625em; }\n  84% {\n    top: 1.0625em;\n    left: .75em;\n    width: .5em; }\n  100% {\n    top: 1.125em;\n    left: .1875em;\n    width: .75em; } }\n\n@-webkit-keyframes animate-toast-success-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0; }\n  65% {\n    top: 1.25em;\n    right: .9375em;\n    width: 0; }\n  84% {\n    top: .9375em;\n    right: 0;\n    width: 1.125em; }\n  100% {\n    top: .9375em;\n    right: .1875em;\n    width: 1.375em; } }\n\n@keyframes animate-toast-success-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0; }\n  65% {\n    top: 1.25em;\n    right: .9375em;\n    width: 0; }\n  84% {\n    top: .9375em;\n    right: 0;\n    width: 1.125em; }\n  100% {\n    top: .9375em;\n    right: .1875em;\n    width: 1.375em; } }\n\nhtml.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown),\nbody.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) {\n  height: auto;\n  overflow-y: hidden; }\n\nbody.swal2-no-backdrop .swal2-shown {\n  top: auto;\n  right: auto;\n  bottom: auto;\n  left: auto;\n  background-color: transparent; }\n  body.swal2-no-backdrop .swal2-shown > .swal2-modal {\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.4); }\n  body.swal2-no-backdrop .swal2-shown.swal2-top {\n    top: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-top-start, body.swal2-no-backdrop .swal2-shown.swal2-top-left {\n    top: 0;\n    left: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-top-end, body.swal2-no-backdrop .swal2-shown.swal2-top-right {\n    top: 0;\n    right: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-center {\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-center-start, body.swal2-no-backdrop .swal2-shown.swal2-center-left {\n    top: 50%;\n    left: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-center-end, body.swal2-no-backdrop .swal2-shown.swal2-center-right {\n    top: 50%;\n    right: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom {\n    bottom: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom-start, body.swal2-no-backdrop .swal2-shown.swal2-bottom-left {\n    bottom: 0;\n    left: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom-end, body.swal2-no-backdrop .swal2-shown.swal2-bottom-right {\n    right: 0;\n    bottom: 0; }\n\n.swal2-container {\n  display: flex;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  background-color: transparent;\n  z-index: 1060;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch; }\n  .swal2-container.swal2-top {\n    align-items: flex-start; }\n  .swal2-container.swal2-top-start, .swal2-container.swal2-top-left {\n    align-items: flex-start;\n    justify-content: flex-start; }\n  .swal2-container.swal2-top-end, .swal2-container.swal2-top-right {\n    align-items: flex-start;\n    justify-content: flex-end; }\n  .swal2-container.swal2-center {\n    align-items: center; }\n  .swal2-container.swal2-center-start, .swal2-container.swal2-center-left {\n    align-items: center;\n    justify-content: flex-start; }\n  .swal2-container.swal2-center-end, .swal2-container.swal2-center-right {\n    align-items: center;\n    justify-content: flex-end; }\n  .swal2-container.swal2-bottom {\n    align-items: flex-end; }\n  .swal2-container.swal2-bottom-start, .swal2-container.swal2-bottom-left {\n    align-items: flex-end;\n    justify-content: flex-start; }\n  .swal2-container.swal2-bottom-end, .swal2-container.swal2-bottom-right {\n    align-items: flex-end;\n    justify-content: flex-end; }\n  .swal2-container.swal2-grow-fullscreen > .swal2-modal {\n    display: flex !important;\n    flex: 1;\n    align-self: stretch;\n    justify-content: center; }\n  .swal2-container.swal2-grow-row > .swal2-modal {\n    display: flex !important;\n    flex: 1;\n    align-content: center;\n    justify-content: center; }\n  .swal2-container.swal2-grow-column {\n    flex: 1;\n    flex-direction: column; }\n    .swal2-container.swal2-grow-column.swal2-top, .swal2-container.swal2-grow-column.swal2-center, .swal2-container.swal2-grow-column.swal2-bottom {\n      align-items: center; }\n    .swal2-container.swal2-grow-column.swal2-top-start, .swal2-container.swal2-grow-column.swal2-center-start, .swal2-container.swal2-grow-column.swal2-bottom-start, .swal2-container.swal2-grow-column.swal2-top-left, .swal2-container.swal2-grow-column.swal2-center-left, .swal2-container.swal2-grow-column.swal2-bottom-left {\n      align-items: flex-start; }\n    .swal2-container.swal2-grow-column.swal2-top-end, .swal2-container.swal2-grow-column.swal2-center-end, .swal2-container.swal2-grow-column.swal2-bottom-end, .swal2-container.swal2-grow-column.swal2-top-right, .swal2-container.swal2-grow-column.swal2-center-right, .swal2-container.swal2-grow-column.swal2-bottom-right {\n      align-items: flex-end; }\n    .swal2-container.swal2-grow-column > .swal2-modal {\n      display: flex !important;\n      flex: 1;\n      align-content: center;\n      justify-content: center; }\n  .swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right) > .swal2-modal {\n    margin: auto; }\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n    .swal2-container .swal2-modal {\n      margin: 0 !important; } }\n  .swal2-container.swal2-fade {\n    transition: background-color .1s; }\n  .swal2-container.swal2-shown {\n    background-color: rgba(0, 0, 0, 0.4); }\n\n.swal2-popup {\n  display: none;\n  position: relative;\n  flex-direction: column;\n  justify-content: center;\n  width: 32em;\n  max-width: 100%;\n  padding: 1.25em;\n  border-radius: 0.3125em;\n  background: #fff;\n  font-family: inherit;\n  font-size: 1rem;\n  box-sizing: border-box; }\n  .swal2-popup:focus {\n    outline: none; }\n  .swal2-popup.swal2-loading {\n    overflow-y: hidden; }\n  .swal2-popup .swal2-header {\n    display: flex;\n    flex-direction: column;\n    align-items: center; }\n  .swal2-popup .swal2-title {\n    display: block;\n    position: relative;\n    max-width: 100%;\n    margin: 0 0 0.4em;\n    padding: 0;\n    color: #595959;\n    font-size: 1.875em;\n    font-weight: 600;\n    text-align: center;\n    text-transform: none;\n    word-wrap: break-word; }\n  .swal2-popup .swal2-actions {\n    align-items: center;\n    justify-content: center;\n    margin: 1.25em auto 0; }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled[disabled] {\n      opacity: .4; }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:hover {\n      background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)); }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:active {\n      background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)); }\n    .swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-confirm {\n      width: 2.5em;\n      height: 2.5em;\n      margin: .46875em;\n      padding: 0;\n      border: .25em solid transparent;\n      border-radius: 100%;\n      border-color: transparent;\n      background-color: transparent !important;\n      color: transparent;\n      cursor: default;\n      box-sizing: border-box;\n      -webkit-animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n              animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none; }\n    .swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-cancel {\n      margin-right: 30px;\n      margin-left: 30px; }\n    .swal2-popup .swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after {\n      display: inline-block;\n      width: 15px;\n      height: 15px;\n      margin-left: 5px;\n      border: 3px solid #999999;\n      border-radius: 50%;\n      border-right-color: transparent;\n      box-shadow: 1px 1px 1px #fff;\n      content: '';\n      -webkit-animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n              animation: swal2-rotate-loading 1.5s linear 0s infinite normal; }\n  .swal2-popup .swal2-styled {\n    margin: 0 .3125em;\n    padding: .625em 2em;\n    font-weight: 500;\n    box-shadow: none; }\n    .swal2-popup .swal2-styled:not([disabled]) {\n      cursor: pointer; }\n    .swal2-popup .swal2-styled.swal2-confirm {\n      border: 0;\n      border-radius: 0.25em;\n      background: initial;\n      background-color: #3085d6;\n      color: #fff;\n      font-size: 1.0625em; }\n    .swal2-popup .swal2-styled.swal2-cancel {\n      border: 0;\n      border-radius: 0.25em;\n      background: initial;\n      background-color: #aaa;\n      color: #fff;\n      font-size: 1.0625em; }\n    .swal2-popup .swal2-styled:focus {\n      outline: none;\n      box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(50, 100, 150, 0.4); }\n    .swal2-popup .swal2-styled::-moz-focus-inner {\n      border: 0; }\n  .swal2-popup .swal2-footer {\n    justify-content: center;\n    margin: 1.25em 0 0;\n    padding-top: 1em;\n    border-top: 1px solid #eee;\n    color: #545454;\n    font-size: 1em; }\n  .swal2-popup .swal2-image {\n    max-width: 100%;\n    margin: 1.25em auto; }\n  .swal2-popup .swal2-close {\n    position: absolute;\n    top: 0;\n    right: 0;\n    justify-content: center;\n    width: 1.2em;\n    height: 1.2em;\n    padding: 0;\n    transition: color 0.1s ease-out;\n    border: none;\n    border-radius: 0;\n    background: transparent;\n    color: #cccccc;\n    font-family: serif;\n    font-size: 2.5em;\n    line-height: 1.2;\n    cursor: pointer;\n    overflow: hidden; }\n    .swal2-popup .swal2-close:hover {\n      -webkit-transform: none;\n              transform: none;\n      color: #f27474; }\n  .swal2-popup > .swal2-input,\n  .swal2-popup > .swal2-file,\n  .swal2-popup > .swal2-textarea,\n  .swal2-popup > .swal2-select,\n  .swal2-popup > .swal2-radio,\n  .swal2-popup > .swal2-checkbox {\n    display: none; }\n  .swal2-popup .swal2-content {\n    justify-content: center;\n    margin: 0;\n    padding: 0;\n    color: #545454;\n    font-size: 1.125em;\n    font-weight: 300;\n    line-height: normal;\n    word-wrap: break-word; }\n  .swal2-popup #swal2-content {\n    text-align: center; }\n  .swal2-popup .swal2-input,\n  .swal2-popup .swal2-file,\n  .swal2-popup .swal2-textarea,\n  .swal2-popup .swal2-select,\n  .swal2-popup .swal2-radio,\n  .swal2-popup .swal2-checkbox {\n    margin: 1em auto; }\n  .swal2-popup .swal2-input,\n  .swal2-popup .swal2-file,\n  .swal2-popup .swal2-textarea {\n    width: 100%;\n    transition: border-color .3s, box-shadow .3s;\n    border: 1px solid #d9d9d9;\n    border-radius: 0.1875em;\n    font-size: 1.125em;\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06);\n    box-sizing: border-box; }\n    .swal2-popup .swal2-input.swal2-inputerror,\n    .swal2-popup .swal2-file.swal2-inputerror,\n    .swal2-popup .swal2-textarea.swal2-inputerror {\n      border-color: #f27474 !important;\n      box-shadow: 0 0 2px #f27474 !important; }\n    .swal2-popup .swal2-input:focus,\n    .swal2-popup .swal2-file:focus,\n    .swal2-popup .swal2-textarea:focus {\n      border: 1px solid #b4dbed;\n      outline: none;\n      box-shadow: 0 0 3px #c4e6f5; }\n    .swal2-popup .swal2-input::-webkit-input-placeholder,\n    .swal2-popup .swal2-file::-webkit-input-placeholder,\n    .swal2-popup .swal2-textarea::-webkit-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input:-ms-input-placeholder,\n    .swal2-popup .swal2-file:-ms-input-placeholder,\n    .swal2-popup .swal2-textarea:-ms-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input::-ms-input-placeholder,\n    .swal2-popup .swal2-file::-ms-input-placeholder,\n    .swal2-popup .swal2-textarea::-ms-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input::placeholder,\n    .swal2-popup .swal2-file::placeholder,\n    .swal2-popup .swal2-textarea::placeholder {\n      color: #cccccc; }\n  .swal2-popup .swal2-range input {\n    width: 80%; }\n  .swal2-popup .swal2-range output {\n    width: 20%;\n    font-weight: 600;\n    text-align: center; }\n  .swal2-popup .swal2-range input,\n  .swal2-popup .swal2-range output {\n    height: 2.625em;\n    margin: 1em auto;\n    padding: 0;\n    font-size: 1.125em;\n    line-height: 2.625em; }\n  .swal2-popup .swal2-input {\n    height: 2.625em;\n    padding: 0.75em; }\n    .swal2-popup .swal2-input[type='number'] {\n      max-width: 10em; }\n  .swal2-popup .swal2-file {\n    font-size: 1.125em; }\n  .swal2-popup .swal2-textarea {\n    height: 6.75em;\n    padding: 0.75em; }\n  .swal2-popup .swal2-select {\n    min-width: 50%;\n    max-width: 100%;\n    padding: .375em .625em;\n    color: #545454;\n    font-size: 1.125em; }\n  .swal2-popup .swal2-radio,\n  .swal2-popup .swal2-checkbox {\n    align-items: center;\n    justify-content: center; }\n    .swal2-popup .swal2-radio label,\n    .swal2-popup .swal2-checkbox label {\n      margin: 0 .6em;\n      font-size: 1.125em; }\n    .swal2-popup .swal2-radio input,\n    .swal2-popup .swal2-checkbox input {\n      margin: 0 .4em; }\n  .swal2-popup .swal2-validationerror {\n    display: none;\n    align-items: center;\n    justify-content: center;\n    padding: 0.625em;\n    background: #f0f0f0;\n    color: #666666;\n    font-size: 1em;\n    font-weight: 300;\n    overflow: hidden; }\n    .swal2-popup .swal2-validationerror::before {\n      display: inline-block;\n      width: 1.5em;\n      min-width: 1.5em;\n      height: 1.5em;\n      margin: 0 .625em;\n      border-radius: 50%;\n      background-color: #f27474;\n      color: #fff;\n      font-weight: 600;\n      line-height: 1.5em;\n      text-align: center;\n      content: '!';\n      zoom: normal; }\n\n@supports (-ms-accelerator: true) {\n  .swal2-range input {\n    width: 100% !important; }\n  .swal2-range output {\n    display: none; } }\n\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  .swal2-range input {\n    width: 100% !important; }\n  .swal2-range output {\n    display: none; } }\n\n@-moz-document url-prefix() {\n  .swal2-close:focus {\n    outline: 2px solid rgba(50, 100, 150, 0.4); } }\n\n.swal2-icon {\n  position: relative;\n  justify-content: center;\n  width: 5em;\n  height: 5em;\n  margin: 1.25em auto 1.875em;\n  border: .25em solid transparent;\n  border-radius: 50%;\n  line-height: 5em;\n  cursor: default;\n  box-sizing: content-box;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  zoom: normal; }\n  .swal2-icon-text {\n    font-size: 3.75em; }\n  .swal2-icon.swal2-error {\n    border-color: #f27474; }\n    .swal2-icon.swal2-error .swal2-x-mark {\n      position: relative;\n      flex-grow: 1; }\n    .swal2-icon.swal2-error [class^='swal2-x-mark-line'] {\n      display: block;\n      position: absolute;\n      top: 2.3125em;\n      width: 2.9375em;\n      height: .3125em;\n      border-radius: .125em;\n      background-color: #f27474; }\n      .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='left'] {\n        left: 1.0625em;\n        -webkit-transform: rotate(45deg);\n                transform: rotate(45deg); }\n      .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='right'] {\n        right: 1em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg); }\n  .swal2-icon.swal2-warning {\n    border-color: #facea8;\n    color: #f8bb86; }\n  .swal2-icon.swal2-info {\n    border-color: #9de0f6;\n    color: #3fc3ee; }\n  .swal2-icon.swal2-question {\n    border-color: #c9dae1;\n    color: #87adbd; }\n  .swal2-icon.swal2-success {\n    border-color: #a5dc86; }\n    .swal2-icon.swal2-success [class^='swal2-success-circular-line'] {\n      position: absolute;\n      width: 3.75em;\n      height: 7.5em;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      border-radius: 50%; }\n      .swal2-icon.swal2-success [class^='swal2-success-circular-line'][class$='left'] {\n        top: -.4375em;\n        left: -2.0635em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 3.75em 3.75em;\n                transform-origin: 3.75em 3.75em;\n        border-radius: 7.5em 0 0 7.5em; }\n      .swal2-icon.swal2-success [class^='swal2-success-circular-line'][class$='right'] {\n        top: -.6875em;\n        left: 1.875em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 0 3.75em;\n                transform-origin: 0 3.75em;\n        border-radius: 0 7.5em 7.5em 0; }\n    .swal2-icon.swal2-success .swal2-success-ring {\n      position: absolute;\n      top: -.25em;\n      left: -.25em;\n      width: 100%;\n      height: 100%;\n      border: 0.25em solid rgba(165, 220, 134, 0.3);\n      border-radius: 50%;\n      z-index: 2;\n      box-sizing: content-box; }\n    .swal2-icon.swal2-success .swal2-success-fix {\n      position: absolute;\n      top: .5em;\n      left: 1.625em;\n      width: .4375em;\n      height: 5.625em;\n      -webkit-transform: rotate(-45deg);\n              transform: rotate(-45deg);\n      z-index: 1; }\n    .swal2-icon.swal2-success [class^='swal2-success-line'] {\n      display: block;\n      position: absolute;\n      height: .3125em;\n      border-radius: .125em;\n      background-color: #a5dc86;\n      z-index: 2; }\n      .swal2-icon.swal2-success [class^='swal2-success-line'][class$='tip'] {\n        top: 2.875em;\n        left: .875em;\n        width: 1.5625em;\n        -webkit-transform: rotate(45deg);\n                transform: rotate(45deg); }\n      .swal2-icon.swal2-success [class^='swal2-success-line'][class$='long'] {\n        top: 2.375em;\n        right: .5em;\n        width: 2.9375em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg); }\n\n.swal2-progresssteps {\n  align-items: center;\n  margin: 0 0 1.25em;\n  padding: 0;\n  font-weight: 600; }\n  .swal2-progresssteps li {\n    display: inline-block;\n    position: relative; }\n  .swal2-progresssteps .swal2-progresscircle {\n    width: 2em;\n    height: 2em;\n    border-radius: 2em;\n    background: #3085d6;\n    color: #fff;\n    line-height: 2em;\n    text-align: center;\n    z-index: 20; }\n    .swal2-progresssteps .swal2-progresscircle:first-child {\n      margin-left: 0; }\n    .swal2-progresssteps .swal2-progresscircle:last-child {\n      margin-right: 0; }\n    .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep {\n      background: #3085d6; }\n      .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep ~ .swal2-progresscircle {\n        background: #add8e6; }\n      .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep ~ .swal2-progressline {\n        background: #add8e6; }\n  .swal2-progresssteps .swal2-progressline {\n    width: 2.5em;\n    height: .4em;\n    margin: 0 -1px;\n    background: #3085d6;\n    z-index: 10; }\n\n[class^='swal2'] {\n  -webkit-tap-highlight-color: transparent; }\n\n.swal2-show {\n  -webkit-animation: swal2-show 0.3s;\n          animation: swal2-show 0.3s; }\n  .swal2-show.swal2-noanimation {\n    -webkit-animation: none;\n            animation: none; }\n\n.swal2-hide {\n  -webkit-animation: swal2-hide 0.15s forwards;\n          animation: swal2-hide 0.15s forwards; }\n  .swal2-hide.swal2-noanimation {\n    -webkit-animation: none;\n            animation: none; }\n\n[dir='rtl'] .swal2-close {\n  right: auto;\n  left: 0; }\n\n.swal2-animate-success-icon .swal2-success-line-tip {\n  -webkit-animation: swal2-animate-success-line-tip 0.75s;\n          animation: swal2-animate-success-line-tip 0.75s; }\n\n.swal2-animate-success-icon .swal2-success-line-long {\n  -webkit-animation: swal2-animate-success-line-long 0.75s;\n          animation: swal2-animate-success-line-long 0.75s; }\n\n.swal2-animate-success-icon .swal2-success-circular-line-right {\n  -webkit-animation: swal2-rotate-success-circular-line 4.25s ease-in;\n          animation: swal2-rotate-success-circular-line 4.25s ease-in; }\n\n.swal2-animate-error-icon {\n  -webkit-animation: swal2-animate-error-icon 0.5s;\n          animation: swal2-animate-error-icon 0.5s; }\n  .swal2-animate-error-icon .swal2-x-mark {\n    -webkit-animation: swal2-animate-error-x-mark 0.5s;\n            animation: swal2-animate-error-x-mark 0.5s; }\n\n@-webkit-keyframes swal2-rotate-loading {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes swal2-rotate-loading {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),a=n(4),i=n(5),o=n(6),s=n(9).parser,l=function(){function e(){}return e.getAllVarDefiningStatements=function(e,t){var n={globalVars:[],localVars:[],playerVars:[]},i=null,o=a.AbstractMachine.createNewMachineState();try{i=this.compiler.parse(e)}catch(e){return void r.Logger.fatal("game init code has parse errors: "+e)}for(var s=0,l=i.game_def_stats;s<l.length;s++){var c=l[s];if(o=a.AbstractMachine.executeGameDefinitionStatement(c,o),"game_vars"===c.type)for(var u=0,d=c.vars;u<d.length;u++){var p=d[u];n.globalVars.push(p)}if("players_def"===c.type)for(var f=0,m=c.vars;f<m.length;f++){var h=m[f];n.playerVars.push(h)}}var g={scopeLevel:0,localVars:[]},y=[g];n.localVars.push(g),this.getAllDefinitions(n,y,i.statements);for(var b,w=0;w<t.length;w++)for(var v=t[w],_=0;_<v.fieldShapes.length;_++){var x=v.fieldShapes[_];if(null!==x.cmdText){try{b=this.compiler.parse(x.cmdText)}catch(e){return void r.Logger.fatal("field "+x.id+" on tile "+v.guid+" has parse errors: "+e)}this.getAllDefinitions(n,y,b.statements)}}return n},e.getAllDefinitions=function(e,t,n){for(var r=t[t.length-1],a=0,i=n;a<i.length;a++){var o=i[a];"var_decl"===o.type?r.localVars.push(o):"begin_scope"===o.type?(r={scopeLevel:t.length,localVars:[]},t.push(r),e.localVars.push(r)):"end_scope"===o.type?r=t.pop():"if"===o.type?this.getAllDefinitions(e,t,o.trueUnits):"ifElse"===o.type&&(this.getAllDefinitions(e,t,o.trueUnits),this.getAllDefinitions(e,t,o.falseUnits))}},e.checkAllVarUsagesInStatement=function(e,t,n){switch(t.type){case"expression":this.checkAllVarUsagesInExpression(e,t,n);break;case"ifElse":for(var r=0,a=t.trueUnits;r<a.length;r++){var i=a[r];this.checkAllVarUsagesInStatement(e,i,n)}for(var s=0,l=t.falseUnits;s<l.length;s++){var i=l[s];this.checkAllVarUsagesInStatement(e,i,n)}break;case"if":for(var c=0,u=t.trueUnits;c<u.length;c++){var i=u[c];this.checkAllVarUsagesInStatement(e,i,n)}break;case"var_decl":e.localVars.push({scopLevel:e.currentScopeIndex,localVar:t}),this.checkAllVarUsagesInExpression(e,t.expr,n);break;case"sleep_func":this.checkAllVarUsagesInExpression(e,t.roundsExpr,n);break;case"move_func":this.checkAllVarUsagesInExpression(e,t.numStepsExpr,n);break;case"set_return_result":this.checkAllVarUsagesInExpression(e,t.expr,n);break;case"end_scope":e.currentScopeIndex--;break;case"begin_scope":e.currentScopeIndex++;break;case"limit_scope":e.isScopeLimit=!0;break;case"goto":case"control_goto":case"control_ifElse":case"end":case"start":case"force":case"log":case"rollback_func":break;default:o.notExhaustive(t)}},e.checkAllVarUsagesInExpression=function(e,t,n){var a=this;this.traverseTree(t,function(t){if("assignment"===t.type){var i=a.isGlobalOrLocalVarDefined(e,t.ident,n);i||r.Logger.fatal("var '"+t.ident+"' assignment is not defined in the current scope, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'"),a.checkAllVarUsagesInExpression(e,t.expr,n)}else if("player_var_assign"===t.type){var i=e.playerVars.find(function(e){return e.ident===t.ident});i||r.Logger.fatal("player var '"+t.ident+"' assignment is not defined in the current scope, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'"),a.checkAllVarUsagesInExpression(e,t.expr,n)}else if("ternary_expression"===t.type)t.disjunction||(a.checkAllVarUsagesInExpression(e,t.trueExpression,n),a.checkAllVarUsagesInExpression(e,t.falseExpression,n),a.checkAllVarUsagesInExpression(e,{type:"expression",right:{type:"ternary_expression",disjunction:t.condition,falseExpression:null,trueExpression:null,condition:null}},n));else if("primary_ident"===t.type)a.isGlobalOrLocalVarDefined(e,t.ident,n);else if("primary_player_var_ident"===t.type){var i=e.playerVars.find(function(e){return e.ident===t.ident});i||r.Logger.fatal("player var '"+t.ident+"' is used but not defined, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'")}else if("primary_increment"===t.type||"primary_decrement"===t.type){if(null!==t.player){var i=e.playerVars.find(function(e){return e.ident===t.ident});i||r.Logger.fatal("player var '"+t.ident+"' should be incremented but was not defined, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'")}a.isGlobalOrLocalVarDefined(e,t.ident,n)}})},e.isGlobalOrLocalVarDefined=function(e,t,n){var a=e.currentScopeIndex;if(!1===e.isScopeLimit)for(;a>=0;){var i=e.localVars.find(function(e){return e.scopLevel===a&&e.localVar.ident===t});if(i)return;a--}else{var i=e.localVars.find(function(e){return e.scopLevel===a&&e.localVar.ident===t});i||r.Logger.fatal("local var "+t+" was not defined, scope was limited, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'")}e.globalVars.find(function(e){return e.ident===t})||r.Logger.fatal("var "+t+" was not defined, checked all scopes, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'")},e.traverseTree=function(e,t){var n=e.right;switch(n.type){case"assignment":case"player_var_assign":t(n);break;case"ternary_expression":if(t(n),null===n.disjunction)break;var r=n.disjunction;if(t(r),null!==r.left)break;var a=r.right;if(t(a),null!==a.left)break;var i=a.right;if(t(i),null!==i.left)break;var s=i.right;if(t(s),null!==s.left)break;var l=s.right;if(t(l),null!==l.left)break;var c=l.right;if(t(c),null!==c.left)break;var u=c.right;if(t(u),null!==u.left)break;t(u.right.primary);break;default:o.notExhaustive(n)}},e.compiler=new i.Compiler(s),e}();t.LangHelper=l}]);