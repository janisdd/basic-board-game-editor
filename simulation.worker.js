!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}function a(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function o(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function c(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function u(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function h(e,t,n){function r(e){u[e]&&(c[e]=function(t){return new Promise(function(n,r){d.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{a(u[e](t))}catch(e){l(d[0][3],e)}}function a(e){e.value instanceof m?Promise.resolve(e.value.v).then(o,s):l(d[0][2],e)}function o(e){i("next",e)}function s(e){i("throw",e)}function l(e,t){e(t),d.shift(),d.length&&i(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=n.apply(e,t||[]),d=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function g(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:m(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof d?d(e):e[Symbol.iterator]()}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return _}),t.__rest=i,t.__decorate=a,t.__param=o,t.__metadata=s,t.__awaiter=l,t.__generator=c,t.__exportStar=u,t.__values=d,t.__read=p,t.__spread=f,t.__await=m,t.__asyncGenerator=h,t.__asyncDelegator=g,t.__asyncValues=y,t.__makeTemplateObject=w;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(17),a=n(18),o=n(5),s=n(19),l=function(){function e(){}return e.setTimes=function(e){this._timeInS_rollDice=e._timeInS_rollDice,this._timeInS_choose_bool_func=e._timeInS_choose_bool_func,this._timeInS_goto=e._timeInS_goto,this._timeInS_set_var=e._timeInS_set_var,this._timeInS_advancePlayer=e._timeInS_advancePlayer,this._timeInS_rollback=e._timeInS_rollback,this._timeInS_var_decl=e._timeInS_var_decl,this._timeInS_expr_primary_leftSteps=e._timeInS_expr_primary_leftSteps,this._timeInS_expr_primary_constant=e._timeInS_expr_primary_constant,this._timeInS_expr_primary_ident=e._timeInS_expr_primary_ident,this._timeInS_expr_primary_incrementOrDecrement=e._timeInS_expr_primary_incrementOrDecrement,this._timeInS_expr_disjunction=e._timeInS_expr_disjunction,this._timeInS_expr_conjunction=e._timeInS_expr_conjunction,this._timeInS_expr_comparison=e._timeInS_expr_comparison,this._timeInS_expr_relation=e._timeInS_expr_relation,this._timeInS_expr_sum=e._timeInS_expr_sum,this._timeInS_expr_term=e._timeInS_expr_term,this._timeInS_expr_factor=e._timeInS_expr_factor},e.timeInS_rollDice=function(){return this._timeInS_rollDice},e.timeInS_choose_bool_func=function(){return this._timeInS_choose_bool_func},e.timeInS_goto=function(){return this._timeInS_goto},e.timeInS_set_var=function(){return this._timeInS_set_var},e.timeInS_advancePlayer=function(){return this._timeInS_advancePlayer},e.timeInS_rollback=function(){return this._timeInS_rollback},e.timeInS_var_decl=function(){return this._timeInS_var_decl},e.timeInS_expr_primary_leftSteps=function(){return this._timeInS_expr_primary_leftSteps},e.timeInS_expr_primary_constant=function(){return this._timeInS_expr_primary_constant},e.timeInS_expr_primary_ident=function(){return this._timeInS_expr_primary_ident},e.timeInS_expr_primary_incrementOrDecrement=function(){return this._timeInS_expr_primary_incrementOrDecrement},e.timeInS_expr_disjunction=function(){return this._timeInS_expr_disjunction},e.timeInS_expr_conjunction=function(){return this._timeInS_expr_conjunction},e.timeInS_expr_comparison=function(){return this._timeInS_expr_comparison},e.timeInS_expr_relation=function(){return this._timeInS_expr_relation},e.timeInS_expr_sum=function(){return this._timeInS_expr_sum},e.timeInS_expr_term=function(){return this._timeInS_expr_term},e.timeInS_expr_factor=function(){return this._timeInS_expr_factor},e.timeInS_rollDice_default=2,e.timeInS_choose_bool_func_default=2,e.timeInS_goto_default=1.5,e.timeInS_set_var_default=3,e.timeInS_advancePlayer_default=1,e.timeInS_rollback_default=2,e.timeInS_var_decl_default=3,e.timeInS_expr_primary_leftSteps_default=2,e.timeInS_expr_primary_constant_default=.5,e.timeInS_expr_primary_ident_default=1,e.timeInS_expr_primary_incrementOrDecrement_default=1,e.timeInS_expr_disjunction_default=1,e.timeInS_expr_conjunction_default=1,e.timeInS_expr_comparison_default=1,e.timeInS_expr_relation_default=1,e.timeInS_expr_sum_default=1,e.timeInS_expr_term_default=1,e.timeInS_expr_factor_default=1,e._timeInS_rollDice=e.timeInS_rollDice_default,e._timeInS_choose_bool_func=e.timeInS_choose_bool_func_default,e._timeInS_goto=e.timeInS_goto_default,e._timeInS_set_var=e.timeInS_set_var_default,e._timeInS_advancePlayer=e.timeInS_advancePlayer_default,e._timeInS_rollback=e.timeInS_rollback_default,e._timeInS_var_decl=e.timeInS_var_decl_default,e._timeInS_expr_primary_leftSteps=e.timeInS_expr_primary_leftSteps_default,e._timeInS_expr_primary_constant=e.timeInS_expr_primary_constant_default,e._timeInS_expr_primary_ident=e.timeInS_expr_primary_ident_default,e._timeInS_expr_primary_incrementOrDecrement=e.timeInS_expr_primary_incrementOrDecrement_default,e._timeInS_expr_disjunction=e.timeInS_expr_disjunction_default,e._timeInS_expr_conjunction=e.timeInS_expr_conjunction_default,e._timeInS_expr_comparison=e.timeInS_expr_comparison_default,e._timeInS_expr_relation=e.timeInS_expr_relation_default,e._timeInS_expr_sum=e.timeInS_expr_sum_default,e._timeInS_expr_term=e.timeInS_expr_term_default,e._timeInS_expr_factor=e.timeInS_expr_factor_default,e}();t.SimulationTimes=l,t.playerColors=["#00dd0a","#0089dd","#dd0011","#f1f300","#f300b5"];var c=s(),u=function(){function e(){}return e.createNewMachineState=function(){return{globalDefTable:{},currentPlayerIndex:0,nextPlayerIndex:0,previousPlayerIndex:0,currentPlayerActiveTokenIndex:0,players:[{tokens:[],defTable:{},suspendCounter:0,color:"",name:"default player",id:-1,localDefTables:[{isScopeLimited:!1,defTable:{}}],lastReturnedValue:void 0}],rolledDiceValue:0,leftDiceValue:0,maxDiceValue:0,gameEndCondition:null,rollbackState:null,wasStateRolledBack:!1,elapsedTimeInS:0,winnersIds:[]}},e.setSeed=function(e){c=s(null===e?null:e.toString())},e.rollDice=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=6),{state:r.__assign({},e,{elapsedTimeInS:e.elapsedTimeInS+l.timeInS_rollDice()}),diceValue:Math.floor(c.quick()*n+t)}},e.advancePlayerIndex=function(e){var t=(e.currentPlayerIndex+1)%e.players.length;return r.__assign({},e,{currentPlayerIndex:t,nextPlayerIndex:(t+1)%e.players.length,previousPlayerIndex:t-1<0?e.players.length-1:t-1,elapsedTimeInS:e.elapsedTimeInS+l.timeInS_advancePlayer()})},e.executeAllGameDefinitionStatements=function(e,t){for(var n=t,r=0;r<e.length;r++){var i=e[r];n=this.executeGameDefinitionStatement(i,n)}return n},e.executeGameDefinitionStatement=function(e,t){switch(e.type){case"game_vars":var n=this.execGameDef(e,t);return n;case"players_def":var n=this.execPlayerDef(e,t);return n;default:throw o.notExhaustiveThrow(e),new Error}},e.execPlayerDef=function(e,n){n.players.length>0&&-1!==n.players[0].id&&this.makeError("players def can only be defined once"),e.numTokensPerPlayer<=0&&this.makeError("a player needs at least 1 token --\x3e set numTokensPerPlayer to >= 1");for(var i=r.__assign({},n,{players:[]}),a=0;a<e.numPlayers;a++){for(var o=t.playerColors[a],s=[],l=0;l<e.numTokensPerPlayer;l++){var c={color:o,fieldId:null,tileGuid:null,name:"player"+a+"_token"+l,previousPositions:[]};s.push(c)}var u={id:a,color:o,name:"player"+a,defTable:{},localDefTables:[{isScopeLimited:!1,defTable:{}}],tokens:s,suspendCounter:0,lastReturnedValue:void 0};i=r.__assign({},i,{players:i.players.concat(u),currentPlayerIndex:a});i=this.execPlayerVars(e.vars,i,a)}return i=r.__assign({},i,{currentPlayerIndex:0,nextPlayerIndex:1%i.players.length,previousPlayerIndex:i.players.length-1})},e.execPlayerVars=function(e,t,n){for(var a=this,o=t,s=this,l=0;l<e.length;l++)!function(l){var c=e[l];void 0===t.players[n]&&s.makeError("player with index "+n+" was not found (execPlayerVars)"),o.players[n].defTable[c.ident]&&s.makeError("player var "+c.ident+" is already defined");var u=s.execExpression(c.expr,o);if(o=u.state,c.var_type===i.VarType.int){if(null!==u.boolVal)throw s.makeError("player var "+c.ident+" is of type int but expression is of type bool"),new Error;if(null===u.val)throw s.makeError("player var "+c.ident+" expression int was null"),new Error;if(null===c.maxVal)throw s.makeError("player var "+c.ident+" expression int was null"),new Error;o=r.__assign({},o,{players:o.players.map(function(e,t){var i;return n!==t?e:r.__assign({},e,{defTable:r.__assign({},e.defTable,(i={},i[c.ident]={val:a.circularArithmeticVal(u.val,c.maxVal+1,c.maxVal),ident:c.ident,maxVal:c.maxVal},i))})})})}else c.var_type===i.VarType.bool&&(null!==u.val&&s.makeError("player var "+c.ident+" is of type bool but expression is of type int"),o=r.__assign({},o,{players:o.players.map(function(e,t){var i;return n!==t?e:r.__assign({},e,{defTable:r.__assign({},e.defTable,(i={},i[c.ident]={boolVal:u.boolVal,ident:c.ident},i))})})}))}(l);return o},e.execPlayerVarAssign=function(e,t){var n=this.getSomePlayerIndex(e.player,t,"primary_player_var_ident unknown player"),r=t.players[n].defTable[e.ident];r||this.makeError("player var assign unknown var "+e.ident+" for player");var i=this.execExpression(e.expr,t);return t=i.state,this._execPlayerVarAssign(r,n,i,t)},e._execPlayerVarAssign=function(e,t,n,i){if(null!==n.val&&(a.isBoolVar(e)&&this.makeError("player var assign var "+e.ident+" is of type bool but epxr is of type int"),a.isIntVar(e))){var o=r.__assign({},n.state,{players:i.players.map(function(i,a){var o;return a!==t?i:r.__assign({},i,{defTable:r.__assign({},i.defTable,(o={},o[e.ident]={val:n.val,maxVal:e.maxVal,ident:e.ident},o))})}),elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_set_var()});return{val:n.val,boolVal:null,state:o}}if(null!==n.boolVal&&(a.isIntVar(e)&&this.makeError("player var assign var "+e.ident+" is of type int but epxr is of type bool"),a.isBoolVar(e))){var o=r.__assign({},n.state,{players:i.players.map(function(i,a){var o;return a!==t?i:r.__assign({},i,{defTable:r.__assign({},i.defTable,(o={},o[e.ident]={boolVal:n.boolVal,ident:e.ident},o))})}),elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_set_var()});return{val:null,boolVal:n.boolVal,state:o}}return this.makeError("player var assign var "+e.ident+" unknown val/type"),null},e.execGameDef=function(e,t){var n=this.execGameVars(e.vars,t);return r.__assign({},n,{maxDiceValue:e.maxDiceValue,gameEndCondition:e.endCondition})},e.execGameVars=function(e,t){for(var n,a,o=0;o<e.length;o++){var s=e[o];t.globalDefTable[s.ident]&&this.makeError("global var "+s.ident+" is already defined");var l=this.execExpression(s.expr,t);t=l.state,s.var_type===i.VarType.int?(null!==l.boolVal&&this.makeError("global var "+s.ident+" is of type int but expression is of type bool"),t=r.__assign({},t,{globalDefTable:r.__assign({},t.globalDefTable,(n={},n[s.ident]={val:this.circularArithmeticVal(l.val,s.maxVal+1,s.maxVal),ident:s.ident,maxVal:s.maxVal},n))})):s.var_type===i.VarType.bool&&(null!==l.val&&this.makeError("global var "+s.ident+" is of type bool but expression is of type int"),t=r.__assign({},t,{globalDefTable:r.__assign({},t.globalDefTable,(a={},a[s.ident]={boolVal:l.boolVal,ident:s.ident},a))}))}return t},e.executeAll=function(e,t){for(var n=t,r=0;r<e.length;r++){var i=e[r];n=this.executeStatement(i,n)}return n},e.executeStatement=function(e,t){switch(e.type){case"var_decl":var n=this.execVarDecl(e,t);return n;case"expression":var n=this.execExpression(e,t);return n.state;case"log":var n=this.execExpression(e.expr,t);return null!==n.boolVal?this.builtIn_log(n.boolVal):null!==n.val&&this.builtIn_log(n.val),t;case"if":var n=this.execIf(e,t);return n;case"ifElse":var n=this.execIfElse(e,t);return n;case"goto":var n=this.execGoto(e,t);return n;case"start":var n=this.execStart(e,t);return n;case"end":var n=this.execEnd(e,t);return n;case"force":return t;case"control_goto":var n=this.execControlGoto(e,t);return n;case"control_ifElse":var n=this.execControlIfElse(e,t);return n;case"move_func":var n=this.execMoveFunc(e,t);return n;case"rollback_func":var n=this.execRollbackFunc(e,t);return n;case"sleep_func":var n=this.execSleepFunc(e,t);return n;case"begin_scope":var n=this.execBeginScope(e,t);return n;case"set_return_result":var n=this.execSetReturnResultUnit(e,t);return n;case"end_scope":var n=this.execEndScope(e,t);return n;case"limit_scope":var n=this.execLimitScope(e,t);return n;default:o.notExhaustiveThrow(e)}},e.execControlIfElse=function(e,t){var n=this.execExpression(e.conditionExpr,t);null===n.boolVal&&this.makeError("if condition must be of type bool");var i=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex];return r.__assign({},t,{players:t.players.map(function(a,o){return o!==t.currentPlayerIndex?a:r.__assign({},a,{tokens:a.tokens.map(function(a,o){return o!==t.currentPlayerActiveTokenIndex?a:r.__assign({},a,{fieldId:!0===n.boolVal?e.trueTargetId:e.falseTargetId,previousPositions:i.previousPositions.concat({tileGuid:i.tileGuid,fieldId:i.fieldId})})})})}),leftDiceValue:t.leftDiceValue-1,elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_goto()})},e.execControlGoto=function(e,t){var n=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex];return r.__assign({},t,{players:t.players.map(function(i,a){return a!==t.currentPlayerIndex?i:r.__assign({},i,{tokens:i.tokens.map(function(i,a){return a!==t.currentPlayerActiveTokenIndex?i:r.__assign({},i,{fieldId:e.targetId,previousPositions:n.previousPositions.concat({tileGuid:n.tileGuid,fieldId:n.fieldId})})})})}),leftDiceValue:t.leftDiceValue-1,elapsedTimeInS:t.elapsedTimeInS+l.timeInS_goto()})},e.execBeginScope=function(e,t){return r.__assign({},t,{players:t.players.map(function(e,n){return n!==t.currentPlayerIndex?e:r.__assign({},e,{localDefTables:e.localDefTables.concat({isScopeLimited:!1,defTable:{}})})})})},e.execEndScope=function(e,t){return 1===t.players[t.currentPlayerIndex].localDefTables.length&&this.makeError("the initial scope cannot be closed/ended"),r.__assign({},t,{players:t.players.map(function(e,n){return n!==t.currentPlayerIndex?e:r.__assign({},e,{localDefTables:e.localDefTables.filter(function(t,n){return n<e.localDefTables.length-1})})})})},e.execLimitScope=function(e,t){return r.__assign({},t,{players:t.players.map(function(e,n){return n!==t.currentPlayerIndex?e:r.__assign({},e,{localDefTables:e.localDefTables.map(function(t,n){return n!==e.localDefTables.length-1?t:r.__assign({},t,{isScopeLimited:!0})})})})})},e.execSetReturnResultUnit=function(e,t){var n=this.execExpression(e.expr,t);return t=n.state,null===n.val&&null===n.boolVal&&this.makeError("assigning return result expression did not give a result"),r.__assign({},t,{players:t.players.map(function(e,i){return i!==t.currentPlayerIndex?e:r.__assign({},e,{lastReturnedValue:null!==n.val?n.val:n.boolVal})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_set_var()})},e.execSleepFunc=function(e,t){var n=this.execExpression(e.roundsExpr,t);t=n.state,null===n.val&&this.makeError("sleep function rounds arg needs to be of type int");var a=this.getSomePlayerIndex(e.player,t,"unknown player for sleep function");return r.__assign({},t,{players:t.players.map(function(e,t){return t!==a?e:r.__assign({},e,{suspendCounter:Math.max(e.suspendCounter+n.val,0)})}),leftDiceValue:e.player===i.SomePlayer.currentPlayer?0:t.leftDiceValue})},e.execMoveFunc=function(e,t){var n=this.execExpression(e.numStepsExpr,t);return null===n.val&&this.makeError("move argument must return an int"),t=n.state,r.__assign({},t,{leftDiceValue:t.leftDiceValue+n.val})},e.execRollbackFunc=function(e,t){return null===t.rollbackState?t:r.__assign({},t.rollbackState,{leftDiceValue:0,wasStateRolledBack:!0,elapsedTimeInS:t.elapsedTimeInS+l.timeInS_rollback()})},e.execStart=function(e,t){if(null===e.startCondition)return t;var n=this.execExpression(e.startCondition,t);return null===n.boolVal&&this.makeError("start condition must be of type bool"),r.__assign({},t,{elapsedTimeInS:n.state.elapsedTimeInS})},e.execEnd=function(e,t){var n=t.players[t.currentPlayerIndex];return r.__assign({},t,{winnersIds:t.winnersIds.concat(n.id)})},e.execGoto=function(e,t){return r.__assign({},t,{players:t.players.map(function(n,i){return i!==t.currentPlayerIndex?n:r.__assign({},n,{tokens:n.tokens.map(function(n,i){return i!==t.currentPlayerActiveTokenIndex?n:r.__assign({},n,{fieldId:e.targetId})})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_goto()})},e.execIf=function(e,t){var n=this.execExpression(e.conditionExpr,t);if(null===n.boolVal&&this.makeError("if condition must be of type bool"),!1===n.boolVal)return n.state;for(var r=n.state,i=0;i<e.trueUnits.length;i++){var a=e.trueUnits[i];r=this.executeStatement(a,r)}return r},e.execIfElse=function(e,t){var n=this.execExpression(e.conditionExpr,t);null===n.boolVal&&this.makeError("if else condition must be of type bool");var r=n.state;if(!1===n.boolVal){for(var i=0;i<e.falseUnits.length;i++){var a=e.falseUnits[i];r=this.executeStatement(a,r)}return r}for(var i=0;i<e.trueUnits.length;i++){var a=e.trueUnits[i];r=this.executeStatement(a,r)}return r},e.execVarDecl=function(e,t){var n=this,a=t.players[t.currentPlayerIndex].localDefTables,o=a.length-1;a[o].defTable[e.ident]&&this.makeError("var "+e.ident+" is already defined in current local vars scope");var s=this.execExpression(e.expr,t);t=s.state;return e.var_type===i.VarType.int?(null!==s.boolVal&&this.makeError("var "+e.ident+" is of type int but expression is of type bool"),r.__assign({},t,{players:t.players.map(function(i,a){return a!==t.currentPlayerIndex?i:r.__assign({},i,{localDefTables:i.localDefTables.map(function(t,i){var a;return i!==o?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(a={},a[e.ident]={ident:e.ident,val:n.circularArithmeticVal(s.val,e.maxVal+1,e.maxVal),maxVal:e.maxVal},a))})})})}),elapsedTimeInS:s.state.elapsedTimeInS+l.timeInS_var_decl()})):e.var_type===i.VarType.bool?(null!==s.val&&this.makeError("var "+e.ident+" is of type bool but expression is of type int"),r.__assign({},t,{players:t.players.map(function(n,i){return i!==t.currentPlayerIndex?n:r.__assign({},n,{localDefTables:n.localDefTables.map(function(t,n){var i;return n!==o?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(i={},i[e.ident]={ident:e.ident,boolVal:s.boolVal},i))})})})}),elapsedTimeInS:s.state.elapsedTimeInS+l.timeInS_var_decl()})):void this.makeError("var type for var "+e.ident+" is unknown")},e.execExpression=function(e,t){switch(e.right.type){case"assignment":var n=this.execAssign(e.right,t);return n;case"ternary_expression":var n=this.execTernaryExpr(e.right,t);return n;case"player_var_assign":var n=this.execPlayerVarAssign(e.right,t);return n;default:o.notExhaustiveThrow(e.right)}},e.execAssign=function(e,t){var n,i,o=this,s=this.execExpression(e.expr,t);if(t=s.state,t.players[t.currentPlayerIndex].localDefTables.length>0)for(var c=t.players[t.currentPlayerIndex].localDefTables.length-1,u=this;c>=0;){var d=function(){var n=t.players[t.currentPlayerIndex].localDefTables[c];if(n.isScopeLimited)return"break";var i=n.defTable[e.ident];return void 0===i?(c--,"continue"):a.isBoolVar(i)?(null===s.boolVal&&u.makeError("assignment error: tried to assign a not bool value to the bool variable "+e.ident),{value:{val:null,boolVal:s.boolVal,state:r.__assign({},t,{players:t.players.map(function(n,i){return i!==t.currentPlayerIndex?n:r.__assign({},n,{localDefTables:n.localDefTables.map(function(t,n){var i;return n!==c?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(i={},i[e.ident]={ident:e.ident,boolVal:s.boolVal},i))})})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_set_var()})}}):a.isIntVar(i)?(null===s.val&&u.makeError("assignment error: tried to assign a not int value to the int variable "+e.ident),{value:{val:s.val,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(n,a){return a!==t.currentPlayerIndex?n:r.__assign({},n,{localDefTables:n.localDefTables.map(function(t,n){var a;return n!==c?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(a={},a[e.ident]={ident:e.ident,maxVal:i.maxVal,val:o.circularArithmeticVal(s.val,i.maxVal+1,i.maxVal)},a))})})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_set_var()})}}):void 0}();if("object"==typeof d)return d.value;if("break"===d)break}if(void 0!==t.players[t.currentPlayerIndex].defTable[e.ident]){var p=t.players[t.currentPlayerIndex].defTable[e.ident];return this._execPlayerVarAssign(p,t.currentPlayerIndex,s,t)}var f=t.globalDefTable[e.ident];if(f||this.makeError("var "+e.ident+" is not defined"),a.isBoolVar(f)){null===s.boolVal&&this.makeError("global var "+e.ident+" assing: cannot assign not bool expr to bool var");var m={val:null,boolVal:s.boolVal,state:r.__assign({},s.state,{globalDefTable:r.__assign({},s.state.globalDefTable,(n={},n[e.ident]={ident:e.ident,boolVal:s.boolVal},n)),elapsedTimeInS:s.state.elapsedTimeInS+l.timeInS_set_var()})};return m}if(a.isIntVar(f)){null===s.val&&this.makeError("global var "+e.ident+" assing: cannot assign not int expr to int var");var h=this.circularArithmeticVal(s.val,f.maxVal+1,f.maxVal),m={val:h,boolVal:null,state:r.__assign({},s.state,{globalDefTable:r.__assign({},s.state.globalDefTable,(i={},i[e.ident]={ident:e.ident,val:h,maxVal:f.maxVal},i)),elapsedTimeInS:s.state.elapsedTimeInS+l.timeInS_set_var()})};return m}return this.makeError("global var "+e.ident+" assing: unknown variable type"),{state:t,val:null,boolVal:null}},e.execTernaryExpr=function(e,t){if(null!==e.disjunction){return this.execDisjunction(e.disjunction,t)}null===e.condition&&this.makeError("ternary expression has no condition"),null===e.trueExpression&&this.makeError("ternary expression has no true expression (left)"),null===e.falseExpression&&this.makeError("ternary expression has no false expression (right)");var n=this.execDisjunction(e.condition,t);t=n.state,null===n.boolVal&&this.makeError("ternary expression condition didn't evaluate to a bool");var r=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(t)),a=this.execExpression(e.trueExpression,r),o=this.execExpression(e.falseExpression,i);return null!==a.val&&null!==o.val||null!==a.boolVal&&null!==o.boolVal||this.makeError("ternary expression both values must be of the same type"),n.boolVal?a:o},e.execDisjunction=function(e,t){if(null===e.left){return this.execConjunction(e.right,t)}var n=this.execDisjunction(e.left,t),i=this.execConjunction(e.right,n.state);return null===n.boolVal&&this.makeError("disjunction (or) left op must be of type bool"),null===i.boolVal&&this.makeError("disjunction (or) right op must be of type bool"),{state:r.__assign({},i.state,{elapsedTimeInS:i.state.elapsedTimeInS+l.timeInS_expr_disjunction()}),val:null,boolVal:n.boolVal||i.boolVal}},e.execConjunction=function(e,t){if(null===e.left){return this.execComparison(e.right,t)}var n=this.execConjunction(e.left,t),i=this.execComparison(e.right,n.state);return null===n.boolVal&&this.makeError("conjunction (and) left op must be of type bool"),null===i.boolVal&&this.makeError("conjunction (and) right op must be of type bool"),{state:r.__assign({},i.state,{elapsedTimeInS:i.state.elapsedTimeInS+l.timeInS_expr_conjunction()}),val:null,boolVal:n.boolVal&&i.boolVal}},e.execComparison=function(e,t){if(null===e.left){return this.execRelation(e.right,t)}null===e.op&&this.makeError("comarison op was null, must be one of ==, !==");var n=this.execRelation(e.left,t),i=this.execRelation(e.right,n.state);return null!==n.val&&null!==i.val?{state:r.__assign({},i.state,{elapsedTimeInS:i.state.elapsedTimeInS+l.timeInS_expr_comparison()}),val:null,boolVal:"=="===e.op?n.val===i.val:"!="===e.op?n.val!==i.val:this.makeError("unknown comarison op, must be one of ==, !==")}:null!==n.boolVal&&null!==i.boolVal?{state:r.__assign({},i.state,{elapsedTimeInS:i.state.elapsedTimeInS+l.timeInS_expr_comparison()}),val:null,boolVal:"=="===e.op?n.boolVal===i.boolVal:"!="===e.op?n.boolVal!==i.boolVal:this.makeError("unknown comarison op, must be one of ==, !==")}:(this.makeError("comparison operands must be of same type"),{val:null,state:i.state,boolVal:null})},e.execRelation=function(e,t){if(null===e.left){return this.execSum(e.right,t)}if(null===e.op)return this.makeError("no op for relation, expected one of <, >, <=, >="),{val:null,state:t,boolVal:null};var n=this.execSum(e.left,t),i=this.execSum(e.right,n.state);return null!==n.boolVal?(this.makeError("relation left type is bool but need to be int"),{val:null,state:i.state,boolVal:null}):null!==i.boolVal?(this.makeError("relation right type is bool but need to be int"),{val:null,state:i.state,boolVal:null}):null!==n.val&&null!==i.val?{state:r.__assign({},i.state,{elapsedTimeInS:i.state.elapsedTimeInS+l.timeInS_expr_relation()}),val:null,boolVal:"<"===e.op?n.val<i.val:">"===e.op?n.val>i.val:">="===e.op?n.val>=i.val:"<="===e.op?n.val<=i.val:this.makeError("unknown sum op")}:(this.makeError("internal error on relation"),{val:42,state:i.state,boolVal:null})},e.execSum=function(e,t){if(null===e.left){return this.execTerm(e.right,t)}var n=this.execSum(e.left,t),i=this.execTerm(e.right,n.state);return null===e.op?(this.makeError("no op for sum, expected on of +, -"),{val:42,state:i.state,boolVal:null}):null!==n.boolVal?(this.makeError("sum (+,-) ops cannot have bool args"),{val:null,boolVal:null,state:i.state}):null!==i.boolVal?(this.makeError("sum (+,-) ops cannot have bool args"),{val:null,boolVal:null,state:i.state}):{state:r.__assign({},i.state,{elapsedTimeInS:i.state.elapsedTimeInS+l.timeInS_expr_sum()}),boolVal:null,val:"+"===e.op?n.val+i.val:"-"===e.op?n.val-i.val:this.makeError("unknown sum op")}},e.execTerm=function(e,t){if(null===e.left){return this.execFactor(e.right,t)}if(null===e.op)return this.makeError("no op for term"),{val:null,boolVal:null,state:t};var n=this.execTerm(e.left,t);if(null!==n.boolVal)return this.makeError("mul (*,/,%) ops cannot have bool args"),{val:null,boolVal:null,state:n.state};var i=this.execFactor(e.right,n.state);return null!==i.boolVal?(this.makeError("mul (*,/,%) ops cannot have bool args"),{val:null,boolVal:null,state:t}):{state:r.__assign({},i.state,{elapsedTimeInS:i.state.elapsedTimeInS+l.timeInS_expr_term()}),boolVal:null,val:"*"===e.op?this.forceIntVal(n.val*i.val):"/"===e.op?this.forceIntVal(n.val/i.val):"%"===e.op?this.forceIntVal(n.val%i.val):this.makeError("unknown op for term")}},e.execFactor=function(e,t){if(null===e.left){return this.execPrimary(e.right,t)}var n=this.execFactor(e.left,t);return null!==n.boolVal?{state:r.__assign({},n.state,{elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_expr_factor()}),val:null,boolVal:"not"===e.unOp?!n.boolVal:n.boolVal}:{state:r.__assign({},n.state,{elapsedTimeInS:n.state.elapsedTimeInS+l.timeInS_expr_factor()}),boolVal:null,val:"+"===e.unOp?n.val:-n.val}},e.execPrimary=function(e,t){switch(e.primary.type){case"expression":return this.execExpression(e.primary,t);case"primary_ident_leftSteps":return{val:t.leftDiceValue,boolVal:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_leftSteps()})};case"primary_roll_dice_func":var n=t.maxDiceValue;if(null!==e.primary.maxValExpr){var i=this.execExpression(e.primary.maxValExpr,t);null===i.val&&this.makeError("roll dice argument must return an int"),n=i.val,t=i.state}var a=this.rollDice(t,1,n);return{state:r.__assign({},a.state),boolVal:null,val:a.diceValue};case"primary_choose_bool_func":var s=this.rollDice(t,0,1);return{state:r.__assign({},s.state,{elapsedTimeInS:s.state.elapsedTimeInS-l.timeInS_rollDice()+l.timeInS_choose_bool_func()}),val:null,boolVal:1===s.diceValue};case"primary_constant":return null!==e.primary.intValue?{val:e.primary.intValue,boolVal:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_constant()})}:null!==e.primary.boolVal?{val:null,boolVal:e.primary.boolVal,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_constant()})}:(this.makeError("constant is no int, bool"),{boolVal:null,val:null,state:t});case"primary_decrement":case"primary_increment":return this.execPrimary_inc_or_decrement(e.primary,t);case"primary_ident":return this.execPrimary_ident(e.primary,t);case"primary_player_var_ident":return this.execPrimary_player_var(e.primary,t);case"primary_ident_last_result":var c=t.players[t.currentPlayerIndex].lastReturnedValue;return void 0===c&&this.makeError("last result value was not set yet"),{boolVal:"boolean"==typeof c?c:null,val:"number"==typeof c?c:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l._timeInS_expr_primary_ident})};case"primary_num_players":return{boolVal:null,val:t.players.length,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l._timeInS_expr_primary_constant})};default:o.notExhaustiveThrow(e.primary)}},e.execPrimary_inc_or_decrement=function(e,t){var n,i=this,o="primary_increment"===e.type;if(null!==e.player){var s=this.getSomePlayerIndex(e.player,t,"primary_increment invalid player"),c=t.players[s].defTable[e.ident];if(void 0===c)return this.makeError("def tab entry for player ident "+e.ident+" not found"),{state:t,val:null,boolVal:null};if(a.isBoolVar(c))return this.makeError("bool var player ident "+e.ident+" cannot be increment (only ints)"),{val:null,boolVal:null,state:t};var u=c.val+(o?1:-1);return{val:e.isPost?c.val:u,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(t,n){var a;return n!==s?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(a={},a[e.ident]={val:i.circularArithmeticVal(u,c.maxVal+1,c.maxVal),maxVal:c.maxVal,ident:e.ident},a))})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})}}if(t.players[t.currentPlayerIndex].localDefTables.length>0)for(var d=t.players[t.currentPlayerIndex].localDefTables.length-1,p=this;d>=0;){var f=function(){var n=t.players[t.currentPlayerIndex].localDefTables[d];if(n.isScopeLimited)return"break";var s=n.defTable[e.ident];if(void 0===s)return d--,"continue";if(a.isBoolVar(s))return p.makeError("bool local ident "+e.ident+" cannot be increment (only ints)"),{value:{val:null,boolVal:null,state:t}};var c=s.val+(o?1:-1);return{value:{val:e.isPost?s.val:c,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(n,a){return a!==t.currentPlayerIndex?n:r.__assign({},n,{localDefTables:n.localDefTables.map(function(t,n){var a;return n!==d?t:r.__assign({},t,{defTable:r.__assign({},t.defTable,(a={},a[e.ident]={val:i.circularArithmeticVal(c,s.maxVal+1,s.maxVal),maxVal:s.maxVal,ident:e.ident},a))})})})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})}}}();if("object"==typeof f)return f.value;if("break"===f)break}var m=t.players[t.currentPlayerIndex].defTable[e.ident];if(void 0!==m){if(a.isBoolVar(m))return this.makeError("bool var player ident "+e.ident+" cannot be increment (only ints)"),{val:null,boolVal:null,state:t};var h=m.val+(o?1:-1);return{val:e.isPost?m.val:h,boolVal:null,state:r.__assign({},t,{players:t.players.map(function(n,a){var o;return a!==t.currentPlayerIndex?n:r.__assign({},n,{defTable:r.__assign({},n.defTable,(o={},o[e.ident]={val:i.circularArithmeticVal(h,m.maxVal+1,m.maxVal),maxVal:m.maxVal,ident:e.ident},o))})}),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})}}var g=t.globalDefTable[e.ident];if(!g)return this.makeError("global def tab entry for ident "+e.ident+" not found"),{state:t,val:null,boolVal:null};if(a.isBoolVar(g))return this.makeError("global bool var ident "+e.ident+" cannot be increment (only ints)"),{val:null,boolVal:null,state:t};var y=g.val+(o?1:-1);return{val:e.isPost?g.val:y,boolVal:null,state:r.__assign({},t,{globalDefTable:r.__assign({},t.globalDefTable,(n={},n[e.ident]={ident:e.ident,val:this.circularArithmeticVal(y,g.maxVal+1,g.maxVal),maxVal:g.maxVal},n)),elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_incrementOrDecrement()})}},e.execPrimary_player_var=function(e,t){var n=this.getSomePlayerIndex(e.player,t,"primary_player_var_ident unknown player"),r=t.players[n].defTable[e.ident];return r||this.makeError("primary_player_var_ident unknown var "+e.ident+" for player"),this.getDefTableVariable(r,t,"primary_player_var_ident unknown var "+e.ident+" unknown type??")},e.execPrimary_ident=function(e,t){if(t.players[t.currentPlayerIndex].localDefTables.length>0)for(var n=t.players[t.currentPlayerIndex].localDefTables.length-1;n>=0;){var r=t.players[t.currentPlayerIndex].localDefTables[n];if(r.isScopeLimited)break;var i=r.defTable[e.ident];{if(void 0!==i)return this.getDefTableVariable(i,t,"no type found for ident "+e.ident);n--}}if(t.players[t.currentPlayerIndex].defTable[e.ident])return this.execPrimary_player_var({player:t.currentPlayerIndex,ident:e.ident,type:"primary_player_var_ident"},t);var a=t.globalDefTable[e.ident];return a||this.makeError("variable "+e.ident+" was not found (searched all scopes)"),this.getDefTableVariable(a,t,"no type found for ident "+e.ident)},e.getDefTableVariable=function(e,t,n){if(a.isIntVar(e)){var i=e.val;return{val:i,boolVal:null,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_ident()})}}if(a.isBoolVar(e)){var i=e.boolVal;return{val:null,boolVal:i,state:r.__assign({},t,{elapsedTimeInS:t.elapsedTimeInS+l.timeInS_expr_primary_ident()})}}this.makeError(n)},e.getSomePlayerIndex=function(e,t,n){return e===i.SomePlayer.currentPlayer?t.currentPlayerIndex:e===i.SomePlayer.nextPlayer?t.nextPlayerIndex:e===i.SomePlayer.previousPlayer?t.previousPlayerIndex:this.makeError(n)},e.circularArithmeticVal=function(e,t,n){var r=t+n+1,i=-t;if(i===e)return e;return e<=0?(e+i)%r-i:(e-i)%r+i},e.forceIntVal=function(e){return Math.floor(e)},e.makeError=function(e){throw Error(e)},e.builtIn_log=function(e){console.log(e)},e}();t.AbstractMachine=u},function(e,t,n){"use strict";function r(e){}function i(e){throw new Error("Didn't expect to get here... some case not matched")}Object.defineProperty(t,"__esModule",{value:!0}),t.notExhaustive=r,t.notExhaustiveThrow=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=function(){function e(e,t){void 0===t&&(t=!1);var n=this;this.isErrorRecoveryEnabled=!1,this.parser=e,this.isErrorRecoveryEnabled=t,this.parser.yy={ExecutionUnitBuilder:r.ExecutionUnitBuilder,convertNumber:r.convertNumber,parseError:function(e,t){if(!n.isErrorRecoveryEnabled)throw e;console.error(e)}}}return e.prototype.preProcessInput=function(e){return"\n"!=e[e.length-1]&&(e+="\n"),e},e.prototype.tokenize=function(e){e=this.preProcessInput(e);var t=[];this.parser.lexer.setInput(e);for(var n=0;!this.parser.lexer.done;)n=this.parser.lexer.lex(),n in this.parser.terminals_&&(n=this.parser.terminals_[n]),t.push({token:n,text:this.parser.lexer.yytext});return t},e.prototype.parse=function(e){return this.parser.parse(e)},e}();t.Compiler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n(29),a=function(){function e(){}return e.log=function(e,t){if(void 0===t&&(t=void 0),void 0===t)return void console.log(e);console.log(e,t)},e.message=function(e,t){void 0===t&&(t="Message"),r.default(t,e,"info")},e.success=function(e,t){void 0===t&&(t="Message"),r.default(t,e,"success")},e.fatal=function(e,t){throw r.default(t||"Error",e,"error"),new Error(e)},e.fatalSyntaxError=function(e,t){throw r.default({titleText:t||"Error",html:'<pre style="white-space: pre-wrap">'+i.escapeHtml(e)+"</pre>",width:"90%"}),new Error(e)},e}();t.Logger=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.init=0]="init",e[e.running=1]="running",e[e.paused=2]="paused",e[e.finished=3]="finished",e[e.running_many=4]="running_many",e[e.running_many_paused=5]="running_many_paused"}(t.SimulationStatus||(t.SimulationStatus={}))},function(e,t,n){var r=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[1,7],r=[1,18],i=[1,19],a=[1,30],o=[1,14],s=[1,20],l=[1,57],c=[1,21],u=[1,22],d=[1,23],p=[1,25],f=[1,26],m=[1,27],h=[1,28],g=[1,29],y=[1,36],w=[1,33],b=[1,39],_=[1,34],v=[1,65],x=[1,66],S=[1,67],k=[1,53],I=[1,54],T=[1,55],E=[1,56],P=[1,62],V=[1,63],A=[1,64],C=[1,68],B=[1,69],U=[1,35],D=[1,13],O=[1,42],j=[1,43],L=[1,44],F=[1,72],R=[5,12],M=[2,2],G=[5,8,12,20,21,23,24,25,26,28,29,30,32,33,34,35,36,39,40,41,43,45,70,71,79,80,81,82,83,88,89,90,91,92,93,94,95,96,99,100,101,104,105,106,107],N=[5,8,12],$=[5,95,96],z=[5,8,95,96],H=[2,77],W=[1,80],q=[1,86],Y=[5,8,27,43,53,94,95,96],X=[5,8,27,43,52,53,55,57,60,61,64,65,66,67,70,71,74,75,76,94,95,96],Z=[2,90],J=[1,100],K=[1,101],Q=[5,8,27,43,44,52,53,55,57,60,61,64,65,66,67,70,71,74,75,76,91,92,94,95,96],ee=[38,49],te=[5,8,27,43,52,53,55,94,95,96],ne=[1,105],re=[5,8,27,43,52,53,55,57,94,95,96],ie=[5,8,27,43,52,53,55,57,60,61,94,95,96],ae=[1,115],oe=[1,116],se=[5,8,27,43,52,53,55,57,60,61,64,65,66,67,70,71,94,95,96],le=[1,118],ce=[1,119],ue=[1,120],de=[24,26,41,70,71,79,80,81,82,83,88,89,90,91,92,105,106,107],pe=[2,108],fe=[8,43],me=[5,8,43,95,96],he={trace:function(){},yy:{},symbols_:{error:2,start:3,game_def_statements_nor_none:4,EOF:5,noNLS:6,NLS:7,CMD_SEPARATOR:8,no_game_def_statements:9,game_def_statements:10,maybe_nls:11,"---":12,pre_statements:13,game_def_statement:14,statements:15,statement:16,expression:17,var_decl:18,clause:19,force:20,control:21,control_clause:22,goto:23,NUMBER:24,begin_scope:25,"(":26,")":27,return:28,end_scope:29,limit_scope:30,logStmt:31,game_start:32,game_end:33,move:34,rollback:35,sleep:36,some_player:37,",":38,log:39,int:40,IDENT:41,"{":42,"}":43,"=":44,bool:45,assignment:46,non_assignment_expression:47,qualified_name:48,".":49,ternary_expression:50,disjunction:51,"?":52,":":53,conjunction:54,or:55,comparison:56,and:57,relation:58,eqOp:59,"==":60,"!=":61,sum:62,relOp:63,"<":64,">":65,"<=":66,">=":67,term:68,plusOp:69,"+":70,"-":71,factor:72,malOp:73,"*":74,"/":75,"%":76,primary:77,unOp:78,not:79,true:80,false:81,$leftSteps:82,$result:83,inc_expr:84,inc_post_expr:85,dec_expr:86,dec_post_expr:87,roll:88,choose_bool:89,$numPlayers:90,"++":91,"--":92,if:93,then:94,end:95,else:96,game_vars:97,player_vars:98,game:99,maxDiceValue:100,endCondition:101,var_decls:102,players:103,numTokens:104,cp:105,np:106,pp:107,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"CMD_SEPARATOR",12:"---",20:"force",21:"control",23:"goto",24:"NUMBER",25:"begin_scope",26:"(",27:")",28:"return",29:"end_scope",30:"limit_scope",32:"game_start",33:"game_end",34:"move",35:"rollback",36:"sleep",38:",",39:"log",40:"int",41:"IDENT",42:"{",43:"}",44:"=",45:"bool",49:".",52:"?",53:":",55:"or",57:"and",60:"==",61:"!=",64:"<",65:">",66:"<=",67:">=",70:"+",71:"-",74:"*",75:"/",76:"%",79:"not",80:"true",81:"false",82:"$leftSteps",83:"$result",88:"roll",89:"choose_bool",90:"$numPlayers",91:"++",92:"--",93:"if",94:"then",95:"end",96:"else",99:"game",100:"maxDiceValue",101:"endCondition",103:"players",104:"numTokens",105:"cp",106:"np",107:"pp"},productions_:[0,[3,2],[6,0],[7,1],[7,2],[9,0],[4,1],[4,3],[4,2],[4,5],[4,4],[4,1],[10,1],[10,3],[13,2],[13,2],[13,2],[13,3],[15,1],[15,3],[16,1],[16,1],[16,1],[16,1],[16,2],[16,3],[16,3],[16,2],[16,3],[16,3],[16,1],[16,3],[16,4],[16,3],[16,4],[16,3],[16,6],[16,2],[31,4],[18,7],[18,4],[17,1],[17,1],[48,1],[48,3],[46,3],[47,1],[50,1],[50,5],[51,1],[51,3],[54,1],[54,3],[56,1],[56,3],[59,1],[59,1],[58,1],[58,3],[63,1],[63,1],[63,1],[63,1],[62,1],[62,3],[69,1],[69,1],[68,1],[68,3],[73,1],[73,1],[73,1],[72,1],[72,2],[78,1],[78,1],[78,1],[77,1],[77,1],[77,1],[77,1],[77,1],[77,3],[77,1],[77,1],[77,1],[77,1],[77,3],[77,4],[77,3],[77,1],[77,1],[84,2],[85,2],[86,2],[87,2],[19,6],[19,8],[22,14],[14,1],[14,1],[97,7],[97,7],[97,10],[97,9],[97,6],[97,12],[11,1],[11,1],[102,1],[102,3],[98,5],[98,8],[98,7],[98,10],[37,1],[37,1],[37,1]],performAction:function(e,t,n,r,i,a,o){var s=a.length-1;switch(i){case 1:return a[s-1];case 6:this.$=r.ExecutionUnitBuilder.buildGameUnit([],[]);break;case 7:case 8:this.$=r.ExecutionUnitBuilder.buildGameUnit(a[s-1],[]);break;case 9:case 10:this.$=r.ExecutionUnitBuilder.buildGameUnit(a[s-3],a[s]);break;case 11:this.$=r.ExecutionUnitBuilder.buildGameUnit([],a[s]);break;case 12:case 18:case 109:this.$=[a[s]];break;case 13:this.$=a[s-2].concat(a[s]);break;case 14:case 15:case 17:case 38:case 82:this.$=a[s-1];break;case 16:case 24:case 46:this.$=a[s];break;case 19:case 110:this.$=a[s-2].concat(a[s]);break;case 23:this.$=r.ExecutionUnitBuilder.forceUnit();break;case 25:this.$=r.ExecutionUnitBuilder.controlGotoUnit(r.convertNumber(a[s]));break;case 26:this.$=r.ExecutionUnitBuilder.beginScope();break;case 27:this.$=r.ExecutionUnitBuilder.setReturnResult(a[s]);break;case 28:this.$=r.ExecutionUnitBuilder.endScope();break;case 29:this.$=r.ExecutionUnitBuilder.limitScope();break;case 30:this.$=r.ExecutionUnitBuilder.buildLogUnit(a[s]);break;case 31:this.$=r.ExecutionUnitBuilder.buildStartUnit(null);break;case 32:this.$=r.ExecutionUnitBuilder.buildStartUnit(a[s-1]);break;case 33:this.$=r.ExecutionUnitBuilder.buildEndUnit();break;case 34:this.$=r.ExecutionUnitBuilder.moveFunc(a[s-1]);break;case 35:this.$=r.ExecutionUnitBuilder.rollbackFunc();break;case 36:this.$=r.ExecutionUnitBuilder.sleepFunc(a[s-3],a[s-1]);break;case 37:this.$=r.ExecutionUnitBuilder.gotoUnit(r.convertNumber(a[s]));break;case 39:this.$=r.ExecutionUnitBuilder.varDeclUnit(a[s-5],0,r.convertNumber(a[s-3]),a[s]);break;case 40:this.$=r.ExecutionUnitBuilder.varDeclUnit(a[s-2],1,null,a[s]);break;case 41:case 42:this.$=r.ExecutionUnitBuilder.expressionUnit(a[s]);break;case 43:this.$={ident:a[s],player:null};break;case 44:this.$={ident:a[s],player:a[s-2]};break;case 45:this.$=null===a[s-2].player?r.ExecutionUnitBuilder.assignmentUnit(a[s-2].ident,a[s]):this.$=r.ExecutionUnitBuilder.playerVarAssignUnit(a[s-2].player,a[s-2].ident,a[s]);break;case 47:this.$=r.ExecutionUnitBuilder.ternaryExpressionUnit(a[s],null,null,null);break;case 48:this.$=r.ExecutionUnitBuilder.ternaryExpressionUnit(null,a[s-4],a[s-2],a[s]);break;case 49:this.$=r.ExecutionUnitBuilder.disjunctionUnit(null,a[s]);break;case 50:this.$=r.ExecutionUnitBuilder.disjunctionUnit(a[s-2],a[s]);break;case 51:this.$=r.ExecutionUnitBuilder.conjunctionUnit(null,a[s]);break;case 52:this.$=r.ExecutionUnitBuilder.conjunctionUnit(a[s-2],a[s]);break;case 53:this.$=r.ExecutionUnitBuilder.comparisonUnit(null,a[s],null);break;case 54:this.$=r.ExecutionUnitBuilder.comparisonUnit(a[s-2],a[s],a[s-1]);break;case 55:this.$="==";break;case 56:this.$="!=";break;case 57:this.$=r.ExecutionUnitBuilder.relationUnit(null,a[s],null);break;case 58:this.$=r.ExecutionUnitBuilder.relationUnit(a[s-2],a[s],a[s-1]);break;case 59:this.$="<";break;case 60:this.$=">";break;case 61:this.$="<=";break;case 62:this.$=">=";break;case 63:this.$=r.ExecutionUnitBuilder.sumUnit(null,a[s],null);break;case 64:this.$=r.ExecutionUnitBuilder.sumUnit(a[s-2],a[s],a[s-1]);break;case 65:case 74:this.$="+";break;case 66:case 75:this.$="-";break;case 67:this.$=r.ExecutionUnitBuilder.termUnit(null,a[s],null);break;case 68:this.$=r.ExecutionUnitBuilder.termUnit(a[s-2],a[s],a[s-1]);break;case 69:this.$="*";break;case 70:this.$="/";break;case 71:this.$="%";break;case 72:this.$=r.ExecutionUnitBuilder.factorUnit(null,r.ExecutionUnitBuilder.primaryUnit(a[s]),null);break;case 73:this.$=r.ExecutionUnitBuilder.factorUnit(a[s],null,a[s-1]);break;case 76:this.$="not";break;case 77:this.$=r.ExecutionUnitBuilder.primaryConstantUnit_int(r.convertNumber(a[s]));break;case 78:this.$=r.ExecutionUnitBuilder.primaryConstantUnit_bool(!0);break;case 79:this.$=r.ExecutionUnitBuilder.primaryConstantUnit_bool(!1);break;case 80:this.$=r.ExecutionUnitBuilder.primaryIdentLeftStepsUnit();break;case 81:this.$=r.ExecutionUnitBuilder.primaryIdentLastResult();break;case 87:this.$=r.ExecutionUnitBuilder.primaryRollDiceFunc(null);break;case 88:this.$=r.ExecutionUnitBuilder.primaryRollDiceFunc(a[s-1]);break;case 89:this.$=r.ExecutionUnitBuilder.primaryChooseBoolFunc();break;case 90:this.$=null===a[s].player?r.ExecutionUnitBuilder.primaryIdentUnit(a[s].ident):r.ExecutionUnitBuilder.primaryPlayerVarIdentUnit(a[s].player,a[s].ident);break;case 91:this.$=r.ExecutionUnitBuilder.primaryNumPlayers();break;case 92:this.$=r.ExecutionUnitBuilder.primaryIncrementUnit(a[s-1].ident,!0,a[s-1].player);break;case 93:this.$=r.ExecutionUnitBuilder.primaryIncrementUnit(a[s].ident,!1,a[s].player);break;case 94:this.$=r.ExecutionUnitBuilder.primaryDecrementUnit(a[s-1].ident,!0,a[s-1].player);break;case 95:this.$=r.ExecutionUnitBuilder.primaryDecrementUnit(a[s].ident,!1,a[s].player);break;case 96:this.$=r.ExecutionUnitBuilder.ifUnit(a[s-4],a[s-1]);break;case 97:this.$=r.ExecutionUnitBuilder.ifElseUnit(a[s-6],a[s-3],a[s-1]);break;case 98:this.$=r.ExecutionUnitBuilder.controlIfElseUnit(a[s-12],r.convertNumber(a[s-7]),r.convertNumber(a[s-2]));break;case 101:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(a[s-2]),null,[]);break;case 102:this.$=r.ExecutionUnitBuilder.gameVarsUnit(null,a[s-2],[]);break;case 103:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(a[s-5]),a[s-2],[]);break;case 104:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(a[s-4]),null,a[s-2]);break;case 105:this.$=r.ExecutionUnitBuilder.gameVarsUnit(null,null,a[s-2]);break;case 106:this.$=r.ExecutionUnitBuilder.gameVarsUnit(r.convertNumber(a[s-7]),a[s-4],a[s-2]);break;case 111:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(a[s-4]),1,[]);break;case 112:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(a[s-7]),r.convertNumber(a[s-2]),[]);break;case 113:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(a[s-6]),1,a[s-2]);break;case 114:this.$=r.ExecutionUnitBuilder.playersDefUnit(r.convertNumber(a[s-9]),r.convertNumber(a[s-4]),a[s-2]);break;case 115:this.$=0;break;case 116:this.$=1;break;case 117:this.$=2}},table:[{3:1,4:2,5:[2,5],7:4,8:n,9:3,10:5,13:6,14:8,15:9,16:12,17:15,18:16,19:17,20:r,21:i,23:a,24:o,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:w,41:b,45:_,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,93:U,97:10,98:11,99:D,105:O,106:j,107:L},{1:[3]},{5:[1,70]},{5:[2,6]},{8:F,10:71,14:8,15:73,16:12,17:15,18:16,19:17,20:r,21:i,23:a,24:o,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:w,41:b,45:_,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,93:U,97:10,98:11,99:D,105:O,106:j,107:L},t(R,M,{11:74,7:75,6:76,8:n}),{5:[2,11]},t(G,[2,3]),t(N,[2,12]),t($,M,{6:77,7:78,8:n}),t(N,[2,99]),t(N,[2,100]),t(z,[2,18]),{42:[1,79]},t([5,8,52,55,57,60,61,64,65,66,67,70,71,74,75,76],H,{103:W}),t(z,[2,20]),t(z,[2,21]),t(z,[2,22]),t(z,[2,23]),{22:81,23:[1,82],93:[1,83]},{26:[1,84]},{17:85,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{26:[1,87]},{26:[1,88]},t(z,[2,30]),{26:[1,89]},{26:[1,90]},{26:[1,91]},{26:[1,92]},{26:[1,93]},{24:[1,94]},t(Y,[2,41]),t(Y,[2,42]),{41:[1,95]},{41:[1,96]},{17:97,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{26:[1,98]},t(X,Z,{44:[1,99],91:J,92:K}),t(Y,[2,46]),t(Q,[2,43]),{49:[1,102]},t(Y,[2,47],{52:[1,103],55:[1,104]}),t(ee,[2,115]),t(ee,[2,116]),t(ee,[2,117]),t(te,[2,49],{57:ne}),t(re,[2,51]),t(re,[2,53],{59:106,60:[1,107],61:[1,108]}),t(ie,[2,57],{63:109,69:110,64:[1,111],65:[1,112],66:[1,113],67:[1,114],70:ae,71:oe}),t(se,[2,63],{73:117,74:le,75:ce,76:ue}),t(X,[2,67]),t(X,[2,72]),{24:q,26:l,37:40,41:b,48:122,70:v,71:x,72:121,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(X,[2,78]),t(X,[2,79]),t(X,[2,80]),t(X,[2,81]),{17:123,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(X,[2,83]),t(X,[2,84]),t(X,[2,85]),t(X,[2,86]),{26:[1,124]},{26:[1,125]},t(X,[2,91]),t(de,[2,74]),t(de,[2,75]),t(de,[2,76]),{37:40,41:b,48:126,105:O,106:j,107:L},{37:40,41:b,48:127,105:O,106:j,107:L},{1:[2,1]},t(R,M,{7:75,6:76,11:128,8:n}),t(G,[2,4]),t($,[2,16],{7:129,8:n}),{5:[2,8],12:[1,130]},t(R,pe,{97:10,98:11,14:131,8:F,24:[1,132],99:D}),t([5,12,23,40,43,45,94,95,96,100,101,104],[2,107]),t($,[2,14]),t($,[2,15],{17:15,18:16,19:17,31:24,46:31,47:32,48:37,50:38,37:40,51:41,54:45,56:46,58:47,62:48,68:49,72:50,77:51,78:52,84:58,85:59,86:60,87:61,16:133,8:F,20:r,21:i,23:a,24:q,25:s,26:l,28:c,29:u,30:d,32:p,33:f,34:m,35:h,36:g,39:y,40:w,41:b,45:_,70:v,71:x,79:S,80:k,81:I,82:T,83:E,88:P,89:V,90:A,91:C,92:B,93:U,105:O,106:j,107:L}),t([40,45,100,101],M,{6:76,11:134,7:135,8:n}),{42:[1,136]},t(z,[2,24]),{24:[1,137]},{17:138,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{27:[1,139]},t(z,[2,27]),t(X,H),{27:[1,140]},{27:[1,141]},{17:143,24:q,26:l,27:[1,142],37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{27:[1,144]},{17:145,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{27:[1,146]},{37:147,105:O,106:j,107:L},t(z,[2,37]),{42:[1,148]},{44:[1,149]},{6:76,7:135,8:n,11:150,94:M},{17:151,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{17:152,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(X,[2,92]),t(X,[2,94]),{41:[1,153]},{17:154,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{24:q,26:l,37:40,41:b,48:122,54:155,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{24:q,26:l,37:40,41:b,48:122,56:156,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{24:q,26:l,37:40,41:b,48:122,58:157,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(de,[2,55]),t(de,[2,56]),{24:q,26:l,37:40,41:b,48:122,62:158,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{24:q,26:l,37:40,41:b,48:122,68:159,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(de,[2,59]),t(de,[2,60]),t(de,[2,61]),t(de,[2,62]),t(de,[2,65]),t(de,[2,66]),{24:q,26:l,37:40,41:b,48:122,70:v,71:x,72:160,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(de,[2,69]),t(de,[2,70]),t(de,[2,71]),t(X,[2,73]),t(X,Z,{91:J,92:K}),{27:[1,161]},{17:163,24:q,26:l,27:[1,162],37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{27:[1,164]},t(X,[2,93]),t(X,[2,95]),{5:[2,7],12:[1,165]},t($,[2,17],{17:15,18:16,19:17,31:24,46:31,47:32,48:37,50:38,37:40,51:41,54:45,56:46,58:47,62:48,68:49,72:50,77:51,78:52,84:58,85:59,86:60,87:61,16:133,8:F,20:r,21:i,23:a,24:q,25:s,26:l,28:c,29:u,30:d,32:p,33:f,34:m,35:h,36:g,39:y,40:w,41:b,45:_,70:v,71:x,79:S,80:k,81:I,82:T,83:E,88:P,89:V,90:A,91:C,92:B,93:U,105:O,106:j,107:L}),{7:167,8:n,13:166,15:9,16:12,17:15,18:16,19:17,20:r,21:i,23:a,24:q,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:w,41:b,45:_,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,93:U,105:O,106:j,107:L},t(N,[2,13]),{103:W},t(z,[2,19]),{18:171,40:w,45:_,100:[1,168],101:[1,169],102:170},t([23,40,43,45,94,95,96,100,101,104],pe,{8:F}),t([40,43,45,104],M,{6:76,7:135,11:172,8:n}),t(z,[2,25]),{6:76,7:135,8:n,11:173,94:M},t(z,[2,26]),t(z,[2,28]),t(z,[2,29]),t(z,[2,31]),{27:[1,174]},t(z,[2,33]),{27:[1,175]},t(z,[2,35]),{38:[1,176]},{24:[1,177]},{17:178,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{94:[1,179]},{27:[1,180]},t(Y,[2,45]),t(Q,[2,44]),{53:[1,181]},t(te,[2,50],{57:ne}),t(re,[2,52]),t(re,[2,54]),t(ie,[2,58],{69:110,70:ae,71:oe}),t(se,[2,64],{73:117,74:le,75:ce,76:ue}),t(X,[2,68]),t(X,[2,82]),t(X,[2,87]),{27:[1,182]},t(X,[2,89]),{7:167,8:n,13:183,15:9,16:12,17:15,18:16,19:17,20:r,21:i,23:a,24:q,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:w,41:b,45:_,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,93:U,105:O,106:j,107:L},{5:[2,10]},{8:F,15:73,16:12,17:15,18:16,19:17,20:r,21:i,23:a,24:q,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:w,41:b,45:_,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,93:U,105:O,106:j,107:L},{24:[1,184]},{17:185,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{6:76,7:187,8:n,11:186,43:M},t(fe,[2,109]),{18:171,40:w,43:[1,188],45:_,102:190,104:[1,189]},{94:[1,191]},t(z,[2,32]),t(z,[2,34]),{17:192,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{43:[1,193]},t(me,[2,40]),{7:167,8:n,13:194,15:9,16:12,17:15,18:16,19:17,20:r,21:i,23:a,24:q,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:w,41:b,45:_,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,93:U,105:O,106:j,107:L},t(z,[2,38]),{17:195,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(X,[2,88]),{5:[2,9]},{6:76,7:197,8:n,11:196,43:M},{6:76,7:135,8:n,11:198,43:M},{43:[1,199]},{8:F,18:200,40:w,43:pe,45:_},t(N,[2,111]),{24:[1,201]},{6:76,7:187,8:n,11:202,43:M},{6:76,7:135,8:n,11:203,23:M},{27:[1,204]},{44:[1,205]},{95:[1,206],96:[1,207]},t(Y,[2,48]),{43:[1,208]},{8:F,18:171,40:w,43:pe,45:_,101:[1,209],102:210},{43:[1,211]},t(N,[2,105]),t(fe,[2,110]),{6:76,7:213,8:n,11:212,43:M},{43:[1,214]},{23:[1,215]},t(z,[2,36]),{17:216,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},t(z,[2,96]),{7:167,8:n,13:217,15:9,16:12,17:15,18:16,19:17,20:r,21:i,23:a,24:q,25:s,26:l,28:c,29:u,30:d,31:24,32:p,33:f,34:m,35:h,36:g,37:40,39:y,40:w,41:b,45:_,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,93:U,105:O,106:j,107:L},t(N,[2,101]),{17:218,24:q,26:l,37:40,41:b,46:31,47:32,48:37,50:38,51:41,54:45,56:46,58:47,62:48,68:49,70:v,71:x,72:50,77:51,78:52,79:S,80:k,81:I,82:T,83:E,84:58,85:59,86:60,87:61,88:P,89:V,90:A,91:C,92:B,105:O,106:j,107:L},{6:76,7:187,8:n,11:219,43:M},t(N,[2,102]),{43:[1,220]},{8:F,18:171,40:w,43:pe,45:_,102:221},t(N,[2,113]),{24:[1,222]},t(me,[2,39]),{95:[1,223]},{6:76,7:225,8:n,11:224,43:M},{43:[1,226]},t(N,[2,112]),{6:76,7:187,8:n,11:227,43:M},{6:76,7:135,8:n,11:228,96:M},t(z,[2,97]),{43:[1,229]},{8:F,18:171,40:w,43:pe,45:_,102:230},t(N,[2,104]),{43:[1,231]},{96:[1,232]},t(N,[2,103]),{6:76,7:187,8:n,11:233,43:M},t(N,[2,114]),{6:76,7:135,8:n,11:234,23:M},{43:[1,235]},{23:[1,236]},t(N,[2,106]),{24:[1,237]},{6:76,7:135,8:n,11:238,95:M},{95:[1,239]},t(z,[2,98])],defaultActions:{3:[2,6],6:[2,11],70:[2,1],166:[2,10],183:[2,9]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],a=this.table,o="",s=0,l=0,c=0,u=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(p.yy[f]=this.yy[f]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var m=d.yylloc;i.push(m);var h=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,y,w,b,_,v,x,S,k,I=function(){var e;return e=d.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e},T={};;){if(w=n[n.length-1],this.defaultActions[w]?b=this.defaultActions[w]:(null!==g&&void 0!==g||(g=I()),b=a[w]&&a[w][g]),void 0===b||!b.length||!b[0]){var E="";k=[];for(v in a[w])this.terminals_[v]&&v>2&&k.push("'"+this.terminals_[v]+"'");E=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(E,{text:d.match,token:this.terminals_[g]||g,line:d.yylineno,loc:m,expected:k})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+g);switch(b[0]){case 1:n.push(g),r.push(d.yytext),i.push(d.yylloc),n.push(b[1]),g=null,y?(g=y,y=null):(l=d.yyleng,o=d.yytext,s=d.yylineno,m=d.yylloc,c>0&&c--);break;case 2:if(x=this.productions_[b[1]][1],T.$=r[r.length-x],T._$={first_line:i[i.length-(x||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(x||1)].first_column,last_column:i[i.length-1].last_column},h&&(T._$.range=[i[i.length-(x||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(T,[o,l,s,p.yy,b[1],r,i].concat(u))))return _;x&&(n=n.slice(0,-1*x*2),r=r.slice(0,-1*x),i=i.slice(0,-1*x)),n.push(this.productions_[b[1]][0]),r.push(T.$),i.push(T._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},ge=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((n=this._input.match(this.rules[i[a]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return 5;case 1:break;case 2:return 8;case 3:this.begin("inMultiLineComment");break;case 4:this.begin("INITIAL");break;case 5:case 6:break;case 7:return 24;case 8:return 95;case 9:return 23;case 10:return 105;case 11:return 106;case 12:return 107;case 13:return"numPlayers";case 14:return 80;case 15:return 81;case 16:return 12;case 17:return 82;case 18:return 83;case 19:return 89;case 20:return 36;case 21:return 88;case 22:return 39;case 23:return 34;case 24:return 35;case 25:return 33;case 26:return 32;case 27:return 21;case 28:return 20;case 29:return 25;case 30:return 30;case 31:return 28;case 32:return 29;case 33:return 101;case 34:return 49;case 35:return 38;case 36:return 53;case 37:return 52;case 38:return 93;case 39:return 94;case 40:return 96;case 41:return 95;case 42:return 26;case 43:return 27;case 44:return 42;case 45:return 43;case 46:return 55;case 47:return 57;case 48:return 91;case 49:return 92;case 50:return 70;case 51:return 71;case 52:return 74;case 53:return 75;case 54:return 76;case 55:return 61;case 56:return 60;case 57:return 66;case 58:return 67;case 59:return 64;case 60:return 65;case 61:return 79;case 62:return 44;case 63:return 40;case 64:return 45;case 65:return 104;case 66:return 103;case 67:return 99;case 68:return 100;case 69:return 41}},rules:[/^(?:$)/,/^(?:[\ \t]+)/,/^(?:([\n]+|;))/,/^(?:\/\*)/,/^(?:\*\/)/,/^(?:\n)/,/^(?:[^\n])/,/^(?:[\d]+)/,/^(?:end\b)/,/^(?:goto\b)/,/^(?:(cp|current_player))/,/^(?:(np|next_player))/,/^(?:(pp|previous_player))/,/^(?:numPlayers\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:---)/,/^(?:\$leftSteps\b)/,/^(?:\$result|\$return\b)/,/^(?:choose_bool\b)/,/^(?:sleep\b)/,/^(?:roll\b)/,/^(?:log\b)/,/^(?:move\b)/,/^(?:rollback\b)/,/^(?:game_end\b)/,/^(?:game_start\b)/,/^(?:control\b)/,/^(?:force\b)/,/^(?:begin_scope\b)/,/^(?:(limit_scope|scope_limit|scope_fence))/,/^(?:(return|result))/,/^(?:end_scope\b)/,/^(?:endCondition\b)/,/^(?:\.)/,/^(?:,)/,/^(?::)/,/^(?:\?)/,/^(?:if\b)/,/^(?:then\b)/,/^(?:else\b)/,/^(?:end\b)/,/^(?:\()/,/^(?:\))/,/^(?:\{)/,/^(?:\})/,/^(?:or|\|\|)/,/^(?:and|&&)/,/^(?:\+\+)/,/^(?:--)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:!=|<>)/,/^(?:==)/,/^(?:<=)/,/^(?:>=)/,/^(?:<)/,/^(?:>)/,/^(?:not|!)/,/^(?:=)/,/^(?:int\b)/,/^(?:bool\b)/,/^(?:numTokens\b)/,/^(?:players\b)/,/^(?:game\b)/,/^(?:maxDiceValue\b)/,/^(?:([a-zA-Z_][\w]*))/],conditions:{inSingleLineComment:{rules:[],inclusive:!1},inMultiLineComment:{rules:[4,5,6],inclusive:!1},INITIAL:{rules:[0,1,2,3,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69],inclusive:!0}}}}();return he.lexer=ge,e.prototype=he,he.Parser=e,new e}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)}},function(e,t,n){"use strict";function r(){return/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||"undefined"!=typeof safari&&safari.pushNotification)}function i(){return{topBorderPoints:[{id:s.getNextShapeId(),val:t.defaultTileWidth/2,nextFieldId:null,connectedLineTuples:[]}],botBorderPoints:[{id:s.getNextShapeId(),val:t.defaultTileWidth/2,nextFieldId:null,connectedLineTuples:[]}],leftBorderPoints:[{id:s.getNextShapeId(),val:t.defaultTileHeight/2,nextFieldId:null,connectedLineTuples:[]}],rightBorderPoint:[{id:s.getNextShapeId(),val:t.defaultTileHeight/2,nextFieldId:null,connectedLineTuples:[]}],guid:l.getGuid(),fieldShapes:t.newTileFields(),lineShapes:[],imgShapes:[],simulationEndFieldIds:[],simulationStartFieldIds:[],tileSettings:{displayName:"tile 1",width:t.defaultTileWidth,height:t.defaultTileHeight,majorLineDirection:o.MajorLineDirection.topToBottom,gridSizeInPx:10,showGrid:!0,snapToGrid:!0,showSequenceIds:!1,moveBezierControlPointsWhenLineIsMoved:!0,arePrintGuidesDisplayed:!1,autoIncrementFieldTextNumbersOnDuplicate:!0,printLargeTilePreferredWidthInPx:500,printLargeTilePreferredHeightInPx:500,splitLargeTileForPrint:!0,insertLinesEvenIfFieldsIntersect:!1}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),o=n(32),s=n(33),l=n(37),c=n(11);t.appProperties={version:"1.4.1",appName:"Basic board game editor",exportFileNamePrefix:"bbge"},t.isProduction=!0,t.absoluteFieldIdentifierGlobal=/([\w]{8}-[\w]{4}-4[\w]{3}-[\w]{4}-[\w]{12}).([0-9]*)/gi,t.absoluteFieldIdentifierSingle=/([\w]{8}-[\w]{4}-4[\w]{3}-[\w]{4}-[\w]{12}).([0-9]*)/i,t.absoluteTileIdentifierGlobal=/([\w]{8}-[\w]{4}-4[\w]{3}-[\w]{4}-[\w]{12})/gi,t.absoluteTileIdentifierSingle=/([\w]{8}-[\w]{4}-4[\w]{3}-[\w]{4}-[\w]{12})/i,t.markdownBoxInfoColor="#4fc08d",t.markdownBoxInfoWarning="#f66",t.maxZoomedFontSize=70,t.defaultGameInstructionPreviewFontSize=12,t.defaultGameInstructionEditorFontSize=12,t.minZoomedFontSize=6,t.aFrameFrameWrapperId="aframe-frame-wrapper",t.worldRendererCanvasId="world-renderer-canvas",t.fontAwesomeLink=(t.isProduction,"thirdPartyFiles/fontawesome-free-5.9.0-web/css/all.css"),t.fontAwesomeRegularIconsFontFileLink=(t.isProduction,"thirdPartyFiles/fontawesome-free-5.9.0-web/webfonts/fa-regular-400.woff"),t.fontAwesomeSolidIconsFontFileLink=(t.isProduction,"thirdPartyFiles/fontawesome-free-5.9.0-web/webfonts/fa-solid-900.woff"),t.fontAwesomeCssFontFaceDefForSvg='<defs>\n  <style type="text/css">\n  @font-face {\n  font-family: \'Font Awesome 5 Free\';\n  font-style: normal;\n  font-weight: 400;\n  font-display: auto;\n  src: url("fa-regular-400.woff2") format("woff2"), url("fa-regular-400.woff") format("woff") }\n  @font-face {\n    font-family: \'Font Awesome 5 Free\';\n    font-style: normal;\n    font-weight: 900;\n    font-display: auto;\n    src: url("fa-solid-900.woff2") format("woff2"), url("fa-solid-900.woff") format("woff") }\n  </style>\n</defs>\n',t.fontAwesomeMatchRegex=/\\f[0-9a-z]{3}/gim,t.numberRegex=new RegExp("[0-9]+","m"),t.anchorPointConnectedColor="green",t.symbolPreviewWidth=150,t.symbolPreviewHeight=150,t.changeLinesFromAllTilesInLibraryWhenChangingFieldSymbol=!0,t.exportPngImagesBgColor="white",t.tempPrintDivId="temp-print-div-id",t.browser_isSafari=r,t.resizeDragHandleSize=10,t.resizeHandleFillColor="black",t.qrCodeSizeInPx=300,t.qrCodeDataVersion=1,t.qrCodeCorrectionLevel="low",t.maxTileBorderPointToBorderPointTransitionWithoutFields=1e3,t.isLinkedToSymbolIndicatorSizeInPx=10,t.isLinkedToSymbolIndicatorCornerRadius=2,t.isLinkedToSymbolIndicatorColor="#000000",t.imgNotFoundBgColor="#ebebeb",t.imgNotFoundColor="#dddddd",t.imgNotFoundStrokeThickness=2,t.selectionRectBgColor="#50a2f0",t.selectionRectBorderColor="black",t.selectionBgAlpha=.3,t.popupDelay=1e3,t.lineShapeDefaultColor="#d4d4d4",t.newField_x=100,t.newField_y=100,t.newField_width=100,t.newField_height=45,t.ui_helpPopupDelayInMs=1500,t.defaultTileWidth=500,t.defaultTileHeight=500,t.worldSelectedTileBorderColor="blue",t.worldTileBorderColor="#dddddd",t.printVariableIndicatorBorderColor="#dddddd",t.printVariableIndicatorStrokeThickness=3,t.copyPastDiffXInPx=20,t.copyPastDiffYInPx=20,t.defaultAddImgHeight=100,t.defaultAddImgWidth=100,t.globalZoomStep=.25,t.globalMinimalZoom=.25,t.defaultBezierControlPoint1UiColor="green",t.defaultBezierControlPoint2UiColor="blue",t.printLargeTileBgColor="#ffffff",t.defaultArrowWidth=10,t.defaultArrowHeight=10,t.symbolPreviewStageXOffset=10,t.symbolPreviewStageYOffset=10,t.defaultVariableIndicatorOuterCircleDiameterInPx=700,t.defaultVariableIndicatorInnerCircleDiameterInPx=430,t.undoShapeLimit=50,t.clearTileEditorEditShapesType=c.ActionTypes.CLEAR_HISTORY,t.defaultAnchorPoints=function(){return[{id:s.getNextShapeId(),percentX:50,percentY:0,connectedLineTuples:[]},{id:s.getNextShapeId(),percentX:50,percentY:100,connectedLineTuples:[]},{id:s.getNextShapeId(),percentX:0,percentY:50,connectedLineTuples:[]},{id:s.getNextShapeId(),percentX:100,percentY:50,connectedLineTuples:[]}]},t.defaultPadding={bottom:10,left:50,right:50,top:10},t.worldFileExtensionWithoutDot="world",t.tileFileExtensionWithoutDot="tile",t.defaultGameInitCode="\ngame {\n  maxDiceValue 6\n  int truhe {15} = 0\n}\n\n2 players {\n  numTokens 1\n  int gold {15} = 0\n}\n  ",t.newTileFields=function(){return[]},t.getDefaultNewTile=i,t.defaultFieldShape=function(){return{kind:"field",isSymbol:!1,createdFromSymbolGuid:null,anchorPoints:t.defaultAnchorPoints(),id:-1,cornerRadiusInPx:0,bgColor:"#dddddd",height:t.newField_height,width:t.newField_width,padding:t.defaultPadding,horizontalTextAlign:a.HorizontalAlign.left,verticalTextAlign:a.VerticalAlign.center,text:"",x:t.newField_x,y:t.newField_y,cmdText:null,color:"black",fontSizeInPx:12,fontName:"Arial",zIndex:-1,borderColor:"black",borderSizeInPx:0,isFontUnderlined:!1,isFontItalic:!1,isFontBold:!1,rotationInDegree:0,backgroundImgGuid:null}},t.defaultLineShape={kind:"line",isSymbol:!1,createdFromSymbolGuid:null,id:-1,zIndex:-1,color:t.lineShapeDefaultColor,hasEndArrow:!1,hasStartArrow:!1,lineThicknessInPx:3,dashArray:[15],startPoint:{id:-1,x:t.newField_x,y:t.newField_y},points:[],arrowHeight:t.defaultArrowHeight,arrowWidth:t.defaultArrowWidth},t.defaultImgShapeProps={kind:"img",id:-1,x:t.newField_x,y:t.newField_y,width:t.defaultAddImgWidth,height:t.defaultAddImgHeight,zIndex:-1,imgGuid:null,rotationInDegree:0,isSymbol:!1,createdFromSymbolGuid:null,skewX:0,skewY:0,isMouseSelectionDisabled:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(12);Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return i.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return i.ActionCreators}});var a=n(13);Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return a.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return a.isHistory}}),Object.defineProperty(t,"distinctState",{enumerable:!0,get:function(){return a.distinctState}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return a.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return a.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return a.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return a.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return a.newHistory}});var o=n(35);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionCreators={undo:function(){return{type:r.UNDO}},redo:function(){return{type:r.REDO}},jumpToFuture:function(e){return{type:r.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:r.JUMP_TO_PAST,index:e}},jump:function(e){return{type:r.JUMP,index:e}},clearHistory:function(){return{type:r.CLEAR_HISTORY}}}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}function i(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)}function a(){return console.warn("distinctState is deprecated in beta4 and newer. The distinctState behavior is now default, which means only actions resulting in a new state are recorded. See https://github.com/omnidan/redux-undo#filtering-actions for more details."),function(){return!0}}function o(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0}}function s(e){var t=r(e);return function(e){return t.indexOf(e.type)<0}}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}},function(){return!0})}function c(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}}function u(e,t,n){return{past:e,present:t,future:n,group:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=r,t.isHistory=i,t.distinctState=a,t.includeAction=o,t.excludeAction=s,t.combineFilters=l,t.groupByActionTypes=c,t.newHistory=u},function(e,t,n){"use strict";function r(e){return i.__awaiter(this,void 0,void 0,function(){var t,n;return i.__generator(this,function(r){switch(r.label){case 0:t=e.runNumber,n=[],s.AbstractMachine.setSeed(e.randomSeed),s.SimulationTimes.setTimes(e.simulationTimes),r.label=1;case 1:return t<e.numOfSimulationsToRun?[4,a.Simulator.runSimulationTillEnd(e.tiles,e.tileSurrogates,e.startState,e.maxMovesPerSimulation,e.startPos,!1,e.isSingleTileSimulation,void 0,function(e,t){return t===o.SimulationStatus.finished?{shouldContinue:!1,simulationSpeedInDelayInMsBetweenSteps:0}:{shouldContinue:!0,simulationSpeedInDelayInMsBetweenSteps:0}}).then(function(r){t++;var i={runNumber:t,state:r,error:null};n.push(i),n.length===e.numOfResultsToSendAtOnce&&(postMessage(n),n=[])}).catch(function(r){t++;var i={runNumber:t,state:null,error:r.message};n.push(i),n.length===e.numOfResultsToSendAtOnce&&(postMessage(n),n=[])})]:[3,3];case 2:return r.sent(),[3,1];case 3:return n.length>0&&postMessage(n),close(),[2]}})})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(15),o=n(8),s=n(4);addEventListener("message",function(e){r(e.data)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),a=n(4),o=n(7),s=n(8),l=n(30),c=n(10),u=n(9).parser,d=function(){function e(){}return e.parseAllFields=function(e,t,n,r,i,a){if(e)try{this.compiler.parse(e)}catch(e){return void o.Logger.fatalSyntaxError("game init code has parse errors: "+e)}for(var s,l=!1,c=!1,u=[],d=[],p=0;p<t.length;p++)for(var f=t[p],m=0;m<f.fieldShapes.length;m++){var h=f.fieldShapes[m];if(null!==h.cmdText){try{s=this.compiler.parse(h.cmdText)}catch(e){return void o.Logger.fatalSyntaxError("field "+h.id+" on tile "+f.guid+" has parse errors: "+e)}var g=this.hasGameEndStatementRecursive(s.statements,{fieldId:h.id,tileGuid:f.guid},null),y=s.statements.some(function(e){return"start"===e.type});g&&(l=!0,d.push({fieldId:h.id,tileGuid:f.guid})),y&&c&&o.Logger.fatal("the game has more than 1 start field! 1.: "+u[0].fieldId+" on tile "+u[0].tileGuid+", 2.: "+h.id+" on tile "+f.guid),y&&(c=!0,u.push({fieldId:h.id,tileGuid:f.guid}));var w=this.getNormalStatements(s.statements),b=w.some(function(e){return"force"===e.type}),_=w.length>0&&"force"===w[0].type;if(b&&!_)return void(w.some(function(e){return"force"===e.type})&&o.Logger.fatal("field "+h.id+" on tile "+f.guid+": force statements need to be the first statement"));var v=this.getControlStatements(s.statements);if(0===v.length&&!1===g&&o.Logger.fatal("field "+h.id+" on tile "+f.guid+": cannot find next field"),v.length>1&&o.Logger.fatal("field "+h.id+" on tile "+f.guid+" has more than 1 control statement"),v.length>0){var x=v[0];this.checkIfControlStatementGotoItself(x,{tileGuid:f.guid,fieldId:h.id})}}}if(!1===c&&n){!1===i&&o.Logger.fatal("the game has no start field!");for(var S=0,k=t;S<k.length;S++)for(var f=k[S],I=0,T=f.fieldShapes;I<T.length;I++){var h=T[I];-1!==f.simulationStartFieldIds.indexOf(h.id)&&(c=!0,u.push({fieldId:h.id,tileGuid:f.guid}))}!1===c&&o.Logger.fatal("the game has no start field!")}if(!1===l&&r){!1===a&&o.Logger.fatal("the game has no end field!");for(var E=0,P=t;E<P.length;E++)for(var f=P[E],V=0,A=f.fieldShapes;V<A.length;V++){var h=A[V];-1!==f.simulationEndFieldIds.indexOf(h.id)&&(l=!0,d.push({fieldId:h.id,tileGuid:f.guid}))}!1===l&&o.Logger.fatal("the game has no end field!")}o.Logger.log("found "+d.length+" end fields")},e.checkAllVarsDefined=function(e,t){var n=l.LangHelper.getAllVarDefiningStatements(e,t),r=null;try{r=this.compiler.parse(e)}catch(e){return void o.Logger.fatal("game init code has parse errors: "+e)}for(var i={globalVars:n.globalVars,playerVars:n.playerVars,isScopeLimit:!1,currentScopeIndex:0,localVars:[]},a=0,s=r.statements;a<s.length;a++){var c=s[a];l.LangHelper.checkAllVarUsagesInStatement(i,c,{tileGuid:"game setup code",fieldId:-1})}for(var u,d=0;d<t.length;d++)for(var p=t[d],f=0;f<p.fieldShapes.length;f++){var m=p.fieldShapes[f];if(null!==m.cmdText){try{u=this.compiler.parse(m.cmdText)}catch(e){return void o.Logger.fatal("field "+m.id+" on tile "+p.guid+" has parse errors: "+e)}for(var h=0,g=u.statements;h<g.length;h++){var c=g[h];l.LangHelper.checkAllVarUsagesInStatement(i,c,{fieldId:m.id,tileGuid:p.guid})}}}},e.hasGameEndStatementRecursive=function(e,t,n){var r=e.length>0&&"force"===e[0].type;if(!1===r&&null===n){var i=e.some(function(e){return"end"===e.type});return i&&o.Logger.fatal("game end statement must be on a field with force command else the game could have no end.game end found on field "+t.fieldId+" on tile "+t.tileGuid),i}for(var a=0,s=e;a<s.length;a++){var l=s[a];if("end"===l.type)return!0;if("if"===l.type){if(this.hasGameEndStatementRecursive(l.trueUnits,t,null===n?r:n))return!0}else if("ifElse"===l.type){var c=this.hasGameEndStatementRecursive(l.trueUnits,t,null===n?r:n);if(c)return!0;var u=this.hasGameEndStatementRecursive(l.falseUnits,t,null===n?r:n);if(u)return!0}}return!1},e.getStartFieldPosition=function(e,t){for(var n=0,r=e;n<r.length;n++){for(var i=r[n],a=0,o=i.fieldShapes;a<o.length;a++){var s=o[a];if(null!==s.cmdText)for(var l=this.compiler.parse(s.cmdText),c=0,u=l.statements;c<u.length;c++){var d=u[c];if("start"===d.type)return{tileGuid:i.guid,fieldId:s.id}}}if(t&&i.simulationStartFieldIds.length>0)return{tileGuid:i.guid,fieldId:i.simulationStartFieldIds[0]}}return null},e.getEndFieldPositions=function(e){for(var t=[],n=0,r=e;n<r.length;n++)for(var i=r[n],a=0,o=i.fieldShapes;a<o.length;a++){var s=o[a];if(null!==s.cmdText)for(var l=this.compiler.parse(s.cmdText),c=0,u=l.statements;c<u.length;c++){var d=u[c];"end"===d.type&&t.push({tileGuid:i.guid,fieldId:s.id})}}return t},e.initNew=function(e,t,n){var i=a.AbstractMachine.createNewMachineState();if(n){for(var o=this.compiler.parse(n),s=0,l=o.game_def_stats;s<l.length;s++){var c=l[s];i=a.AbstractMachine.executeGameDefinitionStatement(c,i)}for(var u=0,d=o.statements;u<d.length;u++){var c=d[u];i=a.AbstractMachine.executeStatement(c,i)}}i=t?r.__assign({},i,{players:i.players.map(function(e,t){return r.__assign({},e,{tokens:e.tokens.map(function(e){return r.__assign({},e,{fieldId:null,tileGuid:null})})})})}):r.__assign({},i,{players:i.players.map(function(t,n){return r.__assign({},t,{tokens:t.tokens.map(function(t){return r.__assign({},t,{fieldId:e.fieldId,tileGuid:e.tileGuid})})})})}),i.gameEndCondition;return i=r.__assign({},i,{currentPlayerIndex:0,nextPlayerIndex:1%i.players.length,previousPlayerIndex:Math.abs(-1%i.players.length)})},e.startNextRound=function(e){if(e.players[e.currentPlayerIndex].suspendCounter>0)return e=r.__assign({},e,{players:e.players.map(function(t,n){return n!==e.currentPlayerIndex?t:r.__assign({},t,{suspendCounter:e.players[e.currentPlayerIndex].suspendCounter-1})})}),{state:e,currentPlayerSuspended:!0};var t=a.AbstractMachine.rollDice(e,1,e.maxDiceValue);return e=t.state,e=r.__assign({},e,{rolledDiceValue:t.diceValue,leftDiceValue:t.diceValue}),e=r.__assign({},e,{rollbackState:r.__assign({},e)}),{state:e,currentPlayerSuspended:!1}},e.endRound=function(e){return e=a.AbstractMachine.advancePlayerIndex(e),e=r.__assign({},e,{rollbackState:null,wasStateRolledBack:!1})},e.getCurrentCmdText=function(e,t,n){var r=e.find(function(e){return e.guid===t});r||(r=o.Logger.fatal("current tile "+t+" not found"));var i=r.fieldShapes.find(function(e){return e.id===n});return i||(i=o.Logger.fatal("current field "+n+" on tile "+t+" not found")),null!==i.cmdText&&""===i.cmdText.trim()?null:i.cmdText},e.moveToken=function(t,n,i,s){var l=i.players[i.currentPlayerIndex].tokens[i.currentPlayerActiveTokenIndex];if(null===l.tileGuid&&null===l.fieldId)return i=r.__assign({},i,{players:i.players.map(function(e,t){return t!==i.currentPlayerIndex?e:r.__assign({},e,{tokens:e.tokens.map(function(e){return r.__assign({},e,{fieldId:s.fieldId,tileGuid:s.tileGuid})})})}),leftDiceValue:i.leftDiceValue-1}),{state:i,hasCurrentPlayerWon:!1};if(null===l.tileGuid)throw o.Logger.fatal("simulator in invalid sate: token.tileGuid was null"),new Error;if(null===l.fieldId)throw o.Logger.fatal("simulator in invalid sate: token.fieldId was null"),new Error;var c=this.getCurrentCmdText(t,l.tileGuid,l.fieldId);c||(c=o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+" has no command"));var u;try{u=this.compiler.parse(c)}catch(e){var d=this.compiler.tokenize(c);o.Logger.log("tokens before error:"),o.Logger.log("",d),u=o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+" has errors: "+e)}var p=u.statements;if(i.leftDiceValue<0){0===l.previousPositions.length&&o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+": we try to move back but we don't know the previous field.Make sure you don't have some crazy negative move functions [move(-x)]");var f=l.previousPositions[l.previousPositions.length-1];return{state:r.__assign({},i,{players:i.players.map(function(e,t){return t!==i.currentPlayerIndex?e:r.__assign({},e,{tokens:e.tokens.map(function(e,t){return t!==i.currentPlayerActiveTokenIndex?e:r.__assign({},e,{fieldId:f.fieldId,tileGuid:f.tileGuid,previousPositions:l.previousPositions.slice(0,l.previousPositions.length-1)})})})}),leftDiceValue:i.leftDiceValue+1,elapsedTimeInS:i.elapsedTimeInS+a.SimulationTimes.timeInS_goto()}),hasCurrentPlayerWon:!1}}var m=this.getControlStatements(p);0===m.length&&o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+": cannot find next field"),m.length>1&&o.Logger.fatal("current field "+l.fieldId+" on tile "+l.tileGuid+" has more than 1 control statement");var h=m[0];if("control_goto"===h.type&&h.targetId===l.fieldId&&o.Logger.fatal("field "+l.fieldId+" on tile "+l.tileGuid+": control goto itself --\x3e infinite loop"),this.checkIfControlStatementGotoItself(h,{tileGuid:l.tileGuid,fieldId:l.fieldId}),i=a.AbstractMachine.executeStatement(h,i),null===n)return{state:i,hasCurrentPlayerWon:!1};var g=i.players[i.currentPlayerIndex].tokens[i.currentPlayerActiveTokenIndex],y=t.find(function(e){return e.guid===g.tileGuid});if(!y)throw o.Logger.fatal("tile transition from tile "+g.tileGuid+": tile not found?"),new Error;var w=n.find(function(e){return e.tileGuid===y.guid});if(!w)throw o.Logger.fatal("tile transition from tile "+g.tileGuid+": tile position not found?"),new Error;if(y.fieldShapes.find(function(e){return e.id===g.fieldId}))return{state:i,hasCurrentPlayerWon:!1};var b=null,_=null,v=y.botBorderPoints.find(function(e){return e.id===g.fieldId});if(v){var x=this.getNextTileAndField(v,y,t,n,function(e){return e.x===w.x&&e.y===w.y+1},function(e){return e.topBorderPoints},0),S=x._nextTile,k=x._nextField;b=S,_=k}var I=y.topBorderPoints.find(function(e){return e.id===g.fieldId});if(I){var T=this.getNextTileAndField(I,y,t,n,function(e){return e.x===w.x&&e.y===w.y-1},function(e){return e.botBorderPoints},0),S=T._nextTile,k=T._nextField;b=S,_=k}var E=y.leftBorderPoints.find(function(e){return e.id===g.fieldId});if(E){var P=this.getNextTileAndField(E,y,t,n,function(e){return e.x===w.x-1&&e.y===w.y},function(e){return e.rightBorderPoint},0),S=P._nextTile,k=P._nextField;b=S,_=k}var V=y.rightBorderPoint.find(function(e){return e.id===g.fieldId});if(V){var A=this.getNextTileAndField(V,y,t,n,function(e){return e.x===w.x+1&&e.y===w.y},function(e){return e.leftBorderPoints},0),S=A._nextTile,k=A._nextField;b=S,_=k}if(!b)throw o.Logger.fatal("could not do tile transition because next tile was not found, current field "+g.fieldId),new Error;if(!_)throw o.Logger.fatal("could not do tile transition because next field was not found, current field "+g.fieldId),new Error;return i=e.doTileTransition(l.tileGuid,l.fieldId,b,_,i),{state:i,hasCurrentPlayerWon:!1}},e.getNextTileAndField=function(e,t,n,r,i,a,s){if(s>c.maxTileBorderPointToBorderPointTransitionWithoutFields)throw o.Logger.fatal("tile transition error: done ~"+s+" transitions without a field, maybe an infinite loop?"),new Error;var l=r.find(function(e){return i(e)});if(!l)throw o.Logger.fatal("tile transition: cannot find next position for current tile "+t.guid+" ("+t.tileSettings.displayName+")"),new Error;var u=n.find(function(e){return e.guid===l.tileGuid});if(!u)throw o.Logger.fatal("tile transition: cannot find next tile from position x: "+l.x+", y: "+l.y+", current tile: "+t.guid+" ("+t.tileSettings.displayName+")"),new Error;var d=a(u).find(function(t){return t.val===e.val});if(!d)throw o.Logger.fatal("tile transition: cannot find transition from tile "+t.guid+" ("+t.tileSettings.displayName+") to tile "+u.guid+" because top border point not found"),new Error;if(null===d.nextFieldId)throw o.Logger.fatal("tile transition: cannot find transition from tile "+t.guid+" ("+t.tileSettings.displayName+") to tile "+u.guid+" because top border point has no next field"),new Error;var p=u.fieldShapes.find(function(e){return e.id===d.nextFieldId});if(!p){var f=u.botBorderPoints.find(function(e){return e.id===d.nextFieldId});if(f){var m=this.getNextTileAndField(f,u,n,r,function(e){return e.x===l.x&&e.y===l.y+1},function(e){return e.topBorderPoints},s+1);return m}var h=u.topBorderPoints.find(function(e){return e.id===d.nextFieldId});if(h){var m=this.getNextTileAndField(h,u,n,r,function(e){return e.x===l.x&&e.y===l.y-1},function(e){return e.botBorderPoints},s+1);return m}var g=u.leftBorderPoints.find(function(e){return e.id===d.nextFieldId});if(g){var m=this.getNextTileAndField(g,u,n,r,function(e){return e.x===l.x-1&&e.y===l.y},function(e){return e.rightBorderPoint},s+1);return m}var y=u.rightBorderPoint.find(function(e){return e.id===d.nextFieldId});if(y){var m=this.getNextTileAndField(y,u,n,r,function(e){return e.x===l.x+1&&e.y===l.y},function(e){return e.leftBorderPoints},s+1);return m}throw o.Logger.fatal("tile transition: cannot find next field "+d.nextFieldId+" on tile "+u.guid+" ("+u.tileSettings.displayName+")"),new Error}return{_nextTile:u,_nextField:p}},e.checkIfControlStatementGotoItself=function(e,t){"control_goto"===e.type&&e.targetId===t.fieldId&&o.Logger.fatal("field "+t.fieldId+" on tile "+t.tileGuid+": control goto itself --\x3e infinite loop"),"control_ifElse"!==e.type||e.trueTargetId!==t.fieldId&&e.falseTargetId!==t.fieldId||o.Logger.fatal("field "+t.fieldId+" on tile "+t.tileGuid+": control if else some branch goto itself --\x3e infinite loop")},e.executeForceStatements=function(e,t,n){var r=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex],i=this.getCurrentCmdText(e,r.tileGuid,r.fieldId),s=!1;if(!i)throw o.Logger.fatal("field "+r.fieldId+" on tile "+r.tileGuid+" has no commands"),new Error;var l;try{l=this.compiler.parse(i)}catch(e){var c=this.compiler.tokenize(i);throw o.Logger.log("tokens before error:"),o.Logger.log("",c),o.Logger.fatal("field "+r.fieldId+" on tile "+r.tileGuid+": has errors: "+e),new Error}var u=this.getNormalStatements(l.statements),d=u.some(function(e){return"force"===e.type}),p=u.length>0&&"force"===u[0].type;if(d&&!p)throw u.some(function(e){return"force"===e.type})&&o.Logger.fatal("field "+r.fieldId+" on tile "+r.tileGuid+": force statements need to be the first statement"),new Error;var f=t.winnersIds.length,m=0,h=!1,g=this.getImplicitForcedStatements(l.statements).length>0;if(p||g){s=!0;for(var y=0,w=u;y<w.length;y++){var b=w[y];t=a.AbstractMachine.executeStatement(b,t),m=t.winnersIds.length,m>f&&(h=!0)}}if(n){var _=e.find(function(e){return e.guid===r.tileGuid});if(!_)throw o.Logger.fatal("current tile "+r.tileGuid+" not found"),new Error;if(null===r.fieldId)throw o.Logger.fatal("current player token field was null"),new Error;if(-1!==_.simulationEndFieldIds.indexOf(r.fieldId))return{state:t,hasCurrentPlayerWon:!0,wasForcedField:s}}return{state:t,hasCurrentPlayerWon:h,wasForcedField:s}},e.getControlStatements=function(e){return e.filter(function(e){return"control_ifElse"===e.type||"control_goto"===e.type})},e.getNormalStatements=function(e){return e.filter(function(e){return!("control_ifElse"===e.type||"control_goto"===e.type)})},e.getImplicitForcedStatements=function(e){return e.filter(function(e){return"begin_scope"===e.type||"end_scope"===e.type||"limit_scope"===e.type||"set_return_result"===e.type})},e.doTileTransition=function(e,t,n,i,a){return r.__assign({},a,{players:a.players.map(function(o,s){return s!==a.currentPlayerIndex?o:r.__assign({},o,{tokens:o.tokens.map(function(a){return r.__assign({},a,{fieldId:i.id,tileGuid:n.guid,previousPositions:a.previousPositions.filter(function(e,t){return t!==a.previousPositions.length-1}).concat({tileGuid:e,fieldId:t})})})})})})},e.currentPlayerHasWon=function(e){return!1},e.executeCodeOnCurrentField=function(e,t){var n=t.players[t.currentPlayerIndex].tokens[t.currentPlayerActiveTokenIndex],r=this.getCurrentCmdText(e,n.tileGuid,n.fieldId);if(!r)return console.error("current field has no commands!TODO"),t;var i;try{i=this.compiler.parse(r)}catch(e){var o=this.compiler.tokenize(r);throw console.log("tokens before error:"),console.log(o),e}for(var s=this.getNormalStatements(i.statements),l=0;l<s.length;l++){var c=s[l];t=a.AbstractMachine.executeStatement(c,t)}return t},e.runSimulationTillEnd=function(t,n,i,l,c,u,d,p,f){var m=this;return new Promise(function(h,g){return r.__awaiter(m,void 0,void 0,function(){var m,y,w,b,_,v,x,S,k,I;return r.__generator(this,function(r){switch(r.label){case 0:m=0,w=0,void 0!==p&&a.AbstractMachine.setSeed(p),r.label=1;case 1:r.trys.push([1,9,,10]),r.label=2;case 2:return m<l?0!==i.leftDiceValue?[3,5]:(b=e.startNextRound(i),i=b.state,w++,b.currentPlayerSuspended?(o.Logger.log("player "+i.currentPlayerIndex+" suspends"),i=e.endRound(i),m++,y=f(i,s.SimulationStatus.running),y.shouldContinue?y.simulationSpeedInDelayInMsBetweenSteps>0?[4,this.delay(y.simulationSpeedInDelayInMsBetweenSteps)]:[3,4]:(h(i),[2])):[3,5]):[3,8];case 3:r.sent(),r.label=4;case 4:return[3,2];case 5:if(_=e.moveToken(t,n,i,c),i=_.state,_.hasCurrentPlayerWon||e.currentPlayerHasWon(i))return u&&o.Logger.message("player "+i.currentPlayerIndex+" has won!","Game over"),f(i,s.SimulationStatus.finished),h(i),[2];if(v={tileGuid:i.players[i.currentPlayerIndex].tokens[i.currentPlayerActiveTokenIndex].tileGuid,fieldId:i.players[i.currentPlayerIndex].tokens[i.currentPlayerActiveTokenIndex].fieldId},x=e.executeForceStatements(t,i,d),i=x.state,S=x.wasForcedField,k={tileGuid:i.players[i.currentPlayerIndex].tokens[i.currentPlayerActiveTokenIndex].tileGuid,fieldId:i.players[i.currentPlayerIndex].tokens[i.currentPlayerActiveTokenIndex].fieldId},x.hasCurrentPlayerWon||e.currentPlayerHasWon(i))return u&&o.Logger.message("player "+i.currentPlayerIndex+" has won!","Game over"),f(i,s.SimulationStatus.finished),h(i),[2];if(0===i.leftDiceValue)if(!0===i.wasStateRolledBack)i=e.endRound(i);else{if(S&&v.fieldId===k.fieldId&&v.tileGuid===k.tileGuid||(i=e.executeCodeOnCurrentField(t,i)),e.currentPlayerHasWon(i))return u&&o.Logger.message("player "+i.currentPlayerIndex+" has won!","Game over"),f(i,s.SimulationStatus.finished),h(i),[2];0===i.leftDiceValue&&(i=e.endRound(i))}return m++,y=f(i,s.SimulationStatus.running),y.shouldContinue?y.simulationSpeedInDelayInMsBetweenSteps>0?[4,this.delay(y.simulationSpeedInDelayInMsBetweenSteps)]:[3,7]:(h(i),[2]);case 6:r.sent(),r.label=7;case 7:return[3,2];case 8:return[3,10];case 9:return I=r.sent(),g(I),[2];case 10:return u?o.Logger.fatal("the game took more than "+l+" steps, probably an infinite loop","Timeout"):o.Logger.log("the game took more than "+l+" steps, probably an infinite loop"),g(new Error("the game took more than "+l+" steps, probably an infinite loop")),[2]}})})})},e.delay=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},e.compiler=new i.Compiler(u),e}();t.Simulator=d},function(e,t,n){"use strict";function r(e){var t=parseFloat(e);return isNaN(t)?null:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.buildGameUnit=function(e,t){return{type:"game",game_def_stats:e,statements:t}},e.buildStartUnit=function(e){return{type:"start",startCondition:e}},e.buildEndUnit=function(){return{type:"end"}},e.buildLogUnit=function(e){return{type:"log",expr:e}},e.gotoUnit=function(e){return{type:"goto",targetId:e}},e.expressionUnit=function(e){return{type:"expression",right:e}},e.assignmentUnit=function(e,t){return{type:"assignment",ident:e,expr:t}},e.playerVarAssignUnit=function(e,t,n){return{type:"player_var_assign",ident:t,player:e,expr:n}},e.varDeclUnit=function(e,t,n,r){return{type:"var_decl",expr:r,ident:e,var_type:t,maxVal:n}},e.ternaryExpressionUnit=function(e,t,n,r){return{type:"ternary_expression",disjunction:e,condition:t,trueExpression:n,falseExpression:r}},e.disjunctionUnit=function(e,t){return{type:"disjunction",left:e,right:t}},e.conjunctionUnit=function(e,t){return{type:"conjunction",left:e,right:t}},e.comparisonUnit=function(e,t,n){return{type:"comparison",left:e,right:t,op:n}},e.relationUnit=function(e,t,n){return{type:"relation",left:e,right:t,op:n}},e.sumUnit=function(e,t,n){return{type:"sum",left:e,right:t,op:n}},e.termUnit=function(e,t,n){return{type:"term",left:e,right:t,op:n}},e.factorUnit=function(e,t,n){return{type:"factor",left:e,right:t,unOp:n}},e.primaryUnit=function(e){return{type:"primary",primary:e}},e.primaryConstantUnit_int=function(e){return{type:"primary_constant",intValue:e,boolVal:null}},e.primaryConstantUnit_bool=function(e){return{type:"primary_constant",intValue:null,boolVal:e}},e.primaryIdentUnit=function(e){return{type:"primary_ident",ident:e}},e.primaryIdentLeftStepsUnit=function(){return{type:"primary_ident_leftSteps"}},e.primaryIdentLastResult=function(){return{type:"primary_ident_last_result"}},e.primaryRollDiceFunc=function(e){return{type:"primary_roll_dice_func",maxValExpr:e}},e.primaryChooseBoolFunc=function(){return{type:"primary_choose_bool_func"}},e.primaryIncrementUnit=function(e,t,n){return{type:"primary_increment",ident:e,isPost:t,player:n}},e.primaryDecrementUnit=function(e,t,n){return{type:"primary_decrement",ident:e,isPost:t,player:n}},e.primaryPlayerVarIdentUnit=function(e,t){return{type:"primary_player_var_ident",ident:t,player:e}},e.primaryNumPlayers=function(){return{type:"primary_num_players"}},e.ifUnit=function(e,t){return{type:"if",trueUnits:t,conditionExpr:e}},e.ifElseUnit=function(e,t,n){return{type:"ifElse",trueUnits:t,falseUnits:n,conditionExpr:e}},e.forceUnit=function(){return{type:"force"}},e.controlIfElseUnit=function(e,t,n){return{type:"control_ifElse",conditionExpr:e,falseTargetId:n,trueTargetId:t}},e.controlGotoUnit=function(e){return{type:"control_goto",targetId:e}},e.moveFunc=function(e){return{type:"move_func",numStepsExpr:e}},e.rollbackFunc=function(){return{type:"rollback_func"}},e.sleepFunc=function(e,t){return{type:"sleep_func",player:e,roundsExpr:t}},e.beginScope=function(){return{type:"begin_scope"}},e.setReturnResult=function(e){return{type:"set_return_result",expr:e}},e.limitScope=function(){return{type:"limit_scope"}},e.endScope=function(){return{type:"end_scope"}},e.playersDefUnit=function(e,t,n){return{type:"players_def",vars:n,numPlayers:e,numTokensPerPlayer:t}},e.gameVarsUnit=function(e,t,n){return{type:"game_vars",maxDiceValue:null===e?6:e,endCondition:t,vars:n}},e}();t.ExecutionUnitBuilder=i,t.convertNumber=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.currentPlayer=0]="currentPlayer",e[e.nextPlayer=1]="nextPlayer",e[e.previousPlayer=2]="previousPlayer"}(t.SomePlayer||(t.SomePlayer={}));!function(e){e[e.int=0]="int",e[e.bool=1]="bool"}(t.VarType||(t.VarType={}))},function(e,t,n){"use strict";function r(e){return void 0!==e.val}function i(e){return void 0!==e.boolVal}Object.defineProperty(t,"__esModule",{value:!0}),t.isIntVar=r,t.isBoolVar=i},function(e,t,n){var r=n(20),i=n(21),a=n(22),o=n(23),s=n(24),l=n(25),c=n(26);c.alea=r,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=l,e.exports=c},function(e,t,n){(function(e){var r;!function(e,i,a){function o(e){var t=this,n=c();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}function c(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)}}i&&i.exports?i.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.alea=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.xor128=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.xorwow=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],e^=e>>>7,n=e^e<<24,e=r[i+1&7],n^=e^e>>>10,e=r[i+3&7],n^=e^e>>>3,e=r[i+4&7],n^=e^e<<7,e=r[i+7&7],e^=e<<13,n^=e^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.xorshift7=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),i=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,n=s[127&a]^=r+o,i=0==n?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.xor4096=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){(function(e){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(0)&&n(2)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.tychei=l}(0,"object"==typeof e&&e,n(0))}).call(t,n(1)(e))},function(e,t,n){var r;!function(i,a){function o(e,t,n){var r=[];t=1==t?{entropy:!0}:t||{};var o=u(c(t.entropy?[e,p(i)]:null==e?d():e,3),r),f=new s(r),m=function(){for(var e=f.g(g),t=w,n=0;e<b;)e=(e+n)*h,t*=h,n=f.g(1);for(;e>=_;)e/=2,t/=2,n>>>=1;return(e+n)/t};return m.int32=function(){return 0|f.g(4)},m.quick=function(){return f.g(4)/4294967296},m.double=m,u(p(f.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&l(r,f),e.state=function(){return l(f,{})}),n?(a[y]=e,t):e})(m,o,"global"in t?t.global:this==a,t.state)}function s(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<h;)o[i]=i++;for(i=0;i<h;i++)o[i]=o[a=v&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=v&i+1],n=n*h+o[v&(o[i]=o[a=v&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(h)}function l(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function c(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(c(e[n],t-1))}catch(e){}return r.length?r:"string"==i?e:e+"\0"}function u(e,t){for(var n,r=e+"",i=0;i<r.length;)t[v&i]=v&(n^=19*t[v&i])+r.charCodeAt(i++);return p(t)}function d(){try{var e;return f&&(e=f.randomBytes)?e=e(h):(e=new Uint8Array(h),(m.crypto||m.msCrypto).getRandomValues(e)),p(e)}catch(e){var t=m.navigator,n=t&&t.plugins;return[+new Date,m,n,m.screen,p(i)]}}function p(e){return String.fromCharCode.apply(0,e)}var f,m=this,h=256,g=6,y="random",w=a.pow(h,g),b=a.pow(2,52),_=2*b,v=h-1;if(a["seed"+y]=o,u(a.random(),i),"object"==typeof e&&e.exports){e.exports=o;try{f=n(27)}catch(e){}}else void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}([],Math)},function(e,t){},function(e,t,n){/*!
* sweetalert2 v7.20.6
* Released under the MIT License.
*/
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[null].concat(n)));Object.getPrototypeOf(e).apply(this,n)};return t.prototype=b(Object.create(e.prototype),{constructor:t}),"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}function t(t){var n=this;return e(function(e){function n(){return y(this,n),x(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return v(n,e),w(n,[{key:"_main",value:function(e){return _(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_main",this).call(this,b({},t,e))}}]),n}(n))}function n(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))}function r(){var e=We.innerParams.get(this),t=We.domCache.get(this);e.showConfirmButton||(W(t.confirmButton),e.showCancelButton||W(t.actions)),$([t.popup,t.actions],j.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}function i(e){var t=We.innerParams.get(this),n=We.domCache.get(this);if(!(e=e||t.input))return null;switch(e){case"select":case"textarea":case"file":return z(n.content,j[e]);case"checkbox":return n.popup.querySelector("."+j.checkbox+" input");case"radio":return n.popup.querySelector("."+j.radio+" input:checked")||n.popup.querySelector("."+j.radio+" input:first-child");case"range":return n.popup.querySelector("."+j.range+" input");default:return z(n.content,j.input)}}function a(){var e=We.domCache.get(this);e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}function o(){var e=We.domCache.get(this);e.confirmButton.disabled=!0,e.cancelButton.disabled=!0}function s(){We.domCache.get(this).confirmButton.disabled=!1}function l(){We.domCache.get(this).confirmButton.disabled=!0}function c(){var e=this.getInput();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=!1;else e.disabled=!1}function u(){var e=this.getInput();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=!0;else e.disabled=!0}function d(e){var t=We.domCache.get(this);t.validationError.innerHTML=e;var n=window.getComputedStyle(t.popup);t.validationError.style.marginLeft="-"+n.getPropertyValue("padding-left"),t.validationError.style.marginRight="-"+n.getPropertyValue("padding-right"),H(t.validationError);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",j.validationerror),M(r),N(r,j.inputerror))}function p(){var e=We.domCache.get(this);e.validationError&&W(e.validationError);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),$(t,j.inputerror))}function f(e){e.inputValidator||Object.keys(qe).forEach(function(t){e.input===t&&(e.inputValidator=e.expectRejections?qe[t]:Je.adaptInputValidator(qe[t]))}),(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(T('Target parameter is not valid, defaulting to "body"'),e.target="body");var t=void 0,n=K(),r="string"==typeof e.target?document.querySelector(e.target):e.target;t=n&&r&&n.parentNode!==r.parentNode?ye(e):n||ye(e),e.width&&(t.style.width="number"==typeof e.width?e.width+"px":e.width),e.padding&&(t.style.padding="number"==typeof e.padding?e.padding+"px":e.padding),e.background&&(t.style.background=e.background);for(var i=window.getComputedStyle(t).getPropertyValue("background-color"),a=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),o=0;o<a.length;o++)a[o].style.backgroundColor=i;var s=Z(),l=ee(),c=te().querySelector("#"+j.content),u=le(),d=ae(),p=oe(),f=ue(),m=ce();if(e.titleText?l.innerText=e.titleText:e.title&&(l.innerHTML=e.title.split("\n").join("<br />")),"string"==typeof e.backdrop?Z().style.background=e.backdrop:e.backdrop||N([document.documentElement,document.body],j["no-backdrop"]),e.html?we(e.html,c):e.text?(c.textContent=e.text,H(c)):W(c),e.position in j?N(s,j[e.position]):(T('The "position" parameter is not valid, defaulting to "center"'),N(s,j.center)),e.grow&&"string"==typeof e.grow){var h="grow-"+e.grow;h in j&&N(s,j[h])}"function"==typeof e.animation&&(e.animation=e.animation.call()),e.showCloseButton?(f.setAttribute("aria-label",e.closeButtonAriaLabel),H(f)):W(f),t.className=j.popup,e.toast?(N([document.documentElement,document.body],j["toast-shown"]),N(t,j.toast)):N(t,j.modal),e.customClass&&N(t,e.customClass);var g=re(),y=parseInt(null===e.currentProgressStep?Je.getQueueStep():e.currentProgressStep,10);e.progressSteps&&e.progressSteps.length?(H(g),q(g),y>=e.progressSteps.length&&T("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,n){var r=document.createElement("li");if(N(r,j.progresscircle),r.innerHTML=t,n===y&&N(r,j.activeprogressstep),g.appendChild(r),n!==e.progressSteps.length-1){var i=document.createElement("li");N(i,j.progressline),e.progressStepsDistance&&(i.style.width=e.progressStepsDistance),g.appendChild(i)}})):W(g);for(var w=Q(),b=0;b<w.length;b++)W(w[b]);if(e.type){var _=!1;for(var v in L)if(e.type===v){_=!0;break}if(!_)return E("Unknown alert type: "+e.type),!1;var x=t.querySelector("."+j.icon+"."+L[e.type]);H(x),e.animation&&N(x,"swal2-animate-"+e.type+"-icon")}var S=ne();if(e.imageUrl?(S.setAttribute("src",e.imageUrl),S.setAttribute("alt",e.imageAlt),H(S),e.imageWidth?S.setAttribute("width",e.imageWidth):S.removeAttribute("width"),e.imageHeight?S.setAttribute("height",e.imageHeight):S.removeAttribute("height"),S.className=j.image,e.imageClass&&N(S,e.imageClass)):W(S),e.showCancelButton?p.style.display="inline-block":W(p),e.showConfirmButton?X(d,"display"):W(d),e.showConfirmButton||e.showCancelButton?H(u):W(u),d.innerHTML=e.confirmButtonText,p.innerHTML=e.cancelButtonText,d.setAttribute("aria-label",e.confirmButtonAriaLabel),p.setAttribute("aria-label",e.cancelButtonAriaLabel),d.className=j.confirm,N(d,e.confirmButtonClass),p.className=j.cancel,N(p,e.cancelButtonClass),e.buttonsStyling){N([d,p],j.styled),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor),e.cancelButtonColor&&(p.style.backgroundColor=e.cancelButtonColor);var k=window.getComputedStyle(d).getPropertyValue("background-color");d.style.borderLeftColor=k,d.style.borderRightColor=k}else $([d,p],j.styled),d.style.backgroundColor=d.style.borderLeftColor=d.style.borderRightColor="",p.style.backgroundColor=p.style.borderLeftColor=p.style.borderRightColor="";we(e.footer,m),!0===e.animation?$(t,j.noanimation):N(t,j.noanimation),e.showLoaderOnConfirm&&!e.preConfirm&&T("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request")}function m(e){var t=this;Oe(e);var n=b({},Ce,e);f(n),Object.freeze(n),We.innerParams.set(this,n),clearTimeout(Ie.timeout);var r={popup:K(),container:Z(),content:te(),actions:le(),confirmButton:ae(),cancelButton:oe(),closeButton:ue(),validationError:ie(),progressSteps:re()};We.domCache.set(this,r);var i=this.constructor;return new Promise(function(e,a){var o=function(t){i.closePopup(n.onClose,n.onAfterClose),e(n.useRejections?t:{value:t})},s=function(t){i.closePopup(n.onClose,n.onAfterClose),n.useRejections?a(t):e({dismiss:t})},l=function(e){i.closePopup(n.onClose,n.onAfterClose),a(e)};n.timer&&(Ie.timeout=setTimeout(function(){return s("timer")},n.timer));var c=function(){var e=t.getInput();if(!e)return null;switch(n.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return n.inputAutoTrim?e.value.trim():e.value}};n.input&&setTimeout(function(){var e=t.getInput();e&&M(e)},0);for(var u=function(e){if(n.showLoaderOnConfirm&&i.showLoading(),n.preConfirm){t.resetValidationError();var a=Promise.resolve().then(function(){return n.preConfirm(e,n.extraParams)});n.expectRejections?a.then(function(t){return o(t||e)},function(e){t.hideLoading(),e&&t.showValidationError(e)}):a.then(function(n){Y(r.validationError)||!1===n?t.hideLoading():o(n||e)},function(e){return l(e)})}else o(e)},d=function(e){var a=e||window.event,o=a.target||a.srcElement,d=r.confirmButton,p=r.cancelButton,f=d&&(d===o||d.contains(o)),m=p&&(p===o||p.contains(o));switch(a.type){case"click":if(f&&i.isVisible())if(t.disableButtons(),n.input){var h=c();if(n.inputValidator){t.disableInput();var g=Promise.resolve().then(function(){return n.inputValidator(h,n.extraParams)});n.expectRejections?g.then(function(){t.enableButtons(),t.enableInput(),u(h)},function(e){t.enableButtons(),t.enableInput(),e&&t.showValidationError(e)}):g.then(function(e){t.enableButtons(),t.enableInput(),e?t.showValidationError(e):u(h)},function(e){return l(e)})}else u(h)}else u(!0);else m&&i.isVisible()&&(t.disableButtons(),s(i.DismissReason.cancel))}},p=r.popup.querySelectorAll("button"),f=0;f<p.length;f++)p[f].onclick=d,p[f].onmouseover=d,p[f].onmouseout=d,p[f].onmousedown=d;if(r.closeButton.onclick=function(){s(i.DismissReason.close)},n.toast)r.popup.onclick=function(e){n.showConfirmButton||n.showCancelButton||n.showCloseButton||n.input||(i.closePopup(n.onClose,n.onAfterClose),s(i.DismissReason.close))};else{var m=!1;r.popup.onmousedown=function(){r.container.onmouseup=function(e){r.container.onmouseup=void 0,e.target===r.container&&(m=!0)}},r.container.onmousedown=function(){r.popup.onmouseup=function(e){r.popup.onmouseup=void 0,(e.target===r.popup||r.popup.contains(e.target))&&(m=!0)}},r.container.onclick=function(e){if(m)return void(m=!1);e.target===r.container&&A(n.allowOutsideClick)&&s(i.DismissReason.backdrop)}}n.reverseButtons?r.confirmButton.parentNode.insertBefore(r.cancelButton,r.confirmButton):r.confirmButton.parentNode.insertBefore(r.confirmButton,r.cancelButton);var h=function(e,t){for(var i=de(n.focusCancel),a=0;a<i.length;a++){e+=t,e===i.length?e=0:-1===e&&(e=i.length-1);var o=i[e];if(Y(o))return o.focus()}r.popup.focus()},y=function(e){var a=e||window.event,o=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"];if("Enter"!==a.key||a.isComposing)if("Tab"===a.key){for(var l=a.target||a.srcElement,c=de(n.focusCancel),u=-1,d=0;d<c.length;d++)if(l===c[d]){u=d;break}a.shiftKey?h(u,-1):h(u,1),a.stopPropagation(),a.preventDefault()}else-1!==o.indexOf(a.key)?document.activeElement===r.confirmButton&&Y(r.cancelButton)?r.cancelButton.focus():document.activeElement===r.cancelButton&&Y(r.confirmButton)&&r.confirmButton.focus():"Escape"!==a.key&&"Esc"!==a.key||!0!==A(n.allowEscapeKey)||s(i.DismissReason.esc);else if(a.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;i.clickConfirm(),a.preventDefault()}};n.toast&&Ie.windowOnkeydownOverridden&&(window.onkeydown=Ie.previousWindowKeyDown,Ie.windowOnkeydownOverridden=!1),n.toast||Ie.windowOnkeydownOverridden||(Ie.previousWindowKeyDown=window.onkeydown,Ie.windowOnkeydownOverridden=!0,window.onkeydown=y),t.enableButtons(),t.hideLoading(),t.resetValidationError(),n.input&&N(document.body,j["has-input"]);for(var w=["input","file","range","select","radio","checkbox","textarea"],b=void 0,_=0;_<w.length;_++){var v=j[w[_]],x=z(r.content,v);if(b=t.getInput(w[_])){for(var k in b.attributes)if(b.attributes.hasOwnProperty(k)){var T=b.attributes[k].name;"type"!==T&&"value"!==T&&b.removeAttribute(T)}for(var P in n.inputAttributes)b.setAttribute(P,n.inputAttributes[P])}x.className=v,n.inputClass&&N(x,n.inputClass),W(x)}var V=void 0;switch(n.input){case"text":case"email":case"password":case"number":case"tel":case"url":b=z(r.content,j.input),b.value=n.inputValue,b.placeholder=n.inputPlaceholder,b.type=n.input,H(b);break;case"file":b=z(r.content,j.file),b.placeholder=n.inputPlaceholder,b.type=n.input,H(b);break;case"range":var B=z(r.content,j.range),U=B.querySelector("input"),D=B.querySelector("output");U.value=n.inputValue,U.type=n.input,D.value=n.inputValue,H(B);break;case"select":var O=z(r.content,j.select);if(O.innerHTML="",n.inputPlaceholder){var L=document.createElement("option");L.innerHTML=n.inputPlaceholder,L.value="",L.disabled=!0,L.selected=!0,O.appendChild(L)}V=function(e){e.forEach(function(e){var t=S(e,2),r=t[0],i=t[1],a=document.createElement("option");a.value=r,a.innerHTML=i,n.inputValue.toString()===r.toString()&&(a.selected=!0),O.appendChild(a)}),H(O),O.focus()};break;case"radio":var F=z(r.content,j.radio);F.innerHTML="",V=function(e){e.forEach(function(e){var t=S(e,2),r=t[0],i=t[1],a=document.createElement("input"),o=document.createElement("label");a.type="radio",a.name=j.radio,a.value=r,n.inputValue.toString()===r.toString()&&(a.checked=!0),o.innerHTML=i,o.insertBefore(a,o.firstChild),F.appendChild(o)}),H(F);var t=F.querySelectorAll("input");t.length&&t[0].focus()};break;case"checkbox":var R=z(r.content,j.checkbox),G=t.getInput("checkbox");G.type="checkbox",G.value=1,G.id=j.checkbox,G.checked=Boolean(n.inputValue);var $=R.getElementsByTagName("span");$.length&&R.removeChild($[0]),$=document.createElement("span"),$.innerHTML=n.inputPlaceholder,R.appendChild($),H(R);break;case"textarea":var q=z(r.content,j.textarea);q.value=n.inputValue,q.placeholder=n.inputPlaceholder,H(q);break;case null:break;default:E('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+n.input+'"')}if("select"===n.input||"radio"===n.input){var X=function(e){return V(I(e))};C(n.inputOptions)?(i.showLoading(),n.inputOptions.then(function(e){t.hideLoading(),X(e)})):"object"===g(n.inputOptions)?X(n.inputOptions):E("Unexpected type of inputOptions! Expected object, Map or Promise, got "+g(n.inputOptions))}else-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&C(n.inputValue)&&(i.showLoading(),W(b),n.inputValue.then(function(e){b.value="number"===n.input?parseFloat(e)||0:e+"",H(b),t.hideLoading()}).catch(function(e){E("Error in inputValue promise: "+e),b.value="",H(b),t.hideLoading()}));Ye(n.animation,n.onBeforeOpen,n.onOpen),n.toast||(A(n.allowEnterKey)?n.focusCancel&&Y(r.cancelButton)?r.cancelButton.focus():n.focusConfirm&&Y(r.confirmButton)?r.confirmButton.focus():h(-1,1):document.activeElement&&document.activeElement.blur()),r.container.scrollTop=0})}function h(){if("undefined"!=typeof window){"undefined"==typeof Promise&&E("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(void 0===t[0])return E("SweetAlert2 expects at least 1 attribute!"),!1;Ze=this;var r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0}});var i=this._main(this.params);We.promise.set(this,i)}}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},v=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},S=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},I=function(e){var t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(function(e,n){t.push([n,e])}):Object.keys(e).forEach(function(n){t.push([n,e[n]])}),t},T=function(e){console.warn("SweetAlert2: "+e)},E=function(e){console.error("SweetAlert2: "+e)},P=[],V=function(e){-1===P.indexOf(e)&&(P.push(e),T(e))},A=function(e){return"function"==typeof e?e():e},C=function(e){return"object"===(void 0===e?"undefined":g(e))&&"function"==typeof e.then},B=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"}),U=function(e){var t={};switch(g(e[0])){case"string":["title","html","type"].forEach(function(n,r){switch(g(e[r])){case"string":t[n]=e[r];break;case"undefined":break;default:E("Unexpected type of "+n+'! Expected "string", got '+g(e[r]))}});break;case"object":b(t,e[0]);break;default:return E('Unexpected type of argument! Expected "string" or "object", got '+g(e[0])),!1}return t},D=function(e){return function(t,n){return e.call(this,t,n).then(function(){},function(e){return e})}},O=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},j=O(["container","shown","iosfix","popup","modal","no-backdrop","toast","toast-shown","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","has-input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen"]),L=O(["success","warning","info","question","error"]),F={previousBodyPadding:null},R=function(e,t){return!!e.classList&&e.classList.contains(t)},M=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},G=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(function(t){e.forEach?e.forEach(function(e){n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},N=function(e,t){G(e,t,!0)},$=function(e,t){G(e,t,!1)},z=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(R(e.childNodes[n],t))return e.childNodes[n]},H=function(e){e.style.opacity="",e.style.display=e.id===j.content?"block":"flex"},W=function(e){e.style.opacity="",e.style.display="none"},q=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},Y=function(e){return e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},X=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},Z=function(){return document.body.querySelector("."+j.container)},J=function(e){var t=Z();return t?t.querySelector("."+e):null},K=function(){return J(j.popup)},Q=function(){return K().querySelectorAll("."+j.icon)},ee=function(){return J(j.title)},te=function(){return J(j.content)},ne=function(){return J(j.image)},re=function(){return J(j.progresssteps)},ie=function(){return J(j.validationerror)},ae=function(){return J(j.confirm)},oe=function(){return J(j.cancel)},se=function(){return V("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"),J(j.actions)},le=function(){return J(j.actions)},ce=function(){return J(j.footer)},ue=function(){return J(j.close)},de=function(){var e=Array.prototype.slice.call(K().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(e,t){return e=parseInt(e.getAttribute("tabindex")),t=parseInt(t.getAttribute("tabindex")),e>t?1:e<t?-1:0}),t=Array.prototype.slice.call(K().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]'));return k(e.concat(t))},pe=function(){return!document.body.classList.contains(j["toast-shown"])},fe=function(){return document.body.classList.contains(j["toast-shown"])},me=function(){return K().hasAttribute("data-loading")},he=function(){return"undefined"==typeof window||"undefined"==typeof document},ge=('\n <div aria-labelledby="'+j.title+'" aria-describedby="'+j.content+'" class="'+j.popup+'" tabindex="-1">\n   <div class="'+j.header+'">\n     <ul class="'+j.progresssteps+'"></ul>\n     <div class="'+j.icon+" "+L.error+'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="'+j.icon+" "+L.question+'">\n       <span class="'+j["icon-text"]+'">?</span>\n      </div>\n     <div class="'+j.icon+" "+L.warning+'">\n       <span class="'+j["icon-text"]+'">!</span>\n      </div>\n     <div class="'+j.icon+" "+L.info+'">\n       <span class="'+j["icon-text"]+'">i</span>\n      </div>\n     <div class="'+j.icon+" "+L.success+'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="'+j.image+'" />\n     <h2 class="'+j.title+'" id="'+j.title+'"></h2>\n     <button type="button" class="'+j.close+'">×</button>\n   </div>\n   <div class="'+j.content+'">\n     <div id="'+j.content+'"></div>\n     <input class="'+j.input+'" />\n     <input type="file" class="'+j.file+'" />\n     <div class="'+j.range+'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="'+j.select+'"></select>\n     <div class="'+j.radio+'"></div>\n     <label for="'+j.checkbox+'" class="'+j.checkbox+'">\n       <input type="checkbox" />\n     </label>\n     <textarea class="'+j.textarea+'"></textarea>\n     <div class="'+j.validationerror+'" id="'+j.validationerror+'"></div>\n   </div>\n   <div class="'+j.actions+'">\n     <button type="button" class="'+j.confirm+'">OK</button>\n     <button type="button" class="'+j.cancel+'">Cancel</button>\n   </div>\n   <div class="'+j.footer+'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ye=function(e){var t=Z();if(t&&(t.parentNode.removeChild(t),$([document.documentElement,document.body],[j["no-backdrop"],j["has-input"],j["toast-shown"]])),he())return void E("SweetAlert2 requires document to initialize");var n=document.createElement("div");n.className=j.container,n.innerHTML=ge,("string"==typeof e.target?document.querySelector(e.target):e.target).appendChild(n);var r=K(),i=te(),a=z(i,j.input),o=z(i,j.file),s=i.querySelector("."+j.range+" input"),l=i.querySelector("."+j.range+" output"),c=z(i,j.select),u=i.querySelector("."+j.checkbox+" input"),d=z(i,j.textarea);r.setAttribute("role",e.toast?"alert":"dialog"),r.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||r.setAttribute("aria-modal","true");var p=function(){Je.isVisible()&&Je.resetValidationError()};return a.oninput=p,o.onchange=p,c.onchange=p,u.onchange=p,d.oninput=p,s.oninput=function(){p(),l.value=s.value},s.onchange=function(){p(),s.nextSibling.value=s.value},r},we=function(e,t){if(!e)return W(t);if("object"===(void 0===e?"undefined":g(e)))if(t.innerHTML="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0));else e&&(t.innerHTML=e);H(t)},be=function(){if(he())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),_e=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},ve=function(){null===F.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(F.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=F.previousBodyPadding+_e()+"px")},xe=function(){null!==F.previousBodyPadding&&(document.body.style.paddingRight=F.previousBodyPadding,F.previousBodyPadding=null)},Se=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!R(document.body,j.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",N(document.body,j.iosfix)}},ke=function(){if(R(document.body,j.iosfix)){var e=parseInt(document.body.style.top,10);$(document.body,j.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Ie={},Te=function(){if(Ie.previousActiveElement&&Ie.previousActiveElement.focus){var e=Ie.previousActiveElement;Ie.previousActiveElement=null;var t=window.scrollX,n=window.scrollY;setTimeout(function(){e.focus&&e.focus()},100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)}},Ee=function(e,t){var n=Z(),r=K();if(r){null!==e&&"function"==typeof e&&e(r),$(r,j.show),N(r,j.hide);var i=function(){fe()||(Te(),window.onkeydown=Ie.previousWindowKeyDown,Ie.windowOnkeydownOverridden=!1),n.parentNode&&n.parentNode.removeChild(n),$([document.documentElement,document.body],[j.shown,j["no-backdrop"],j["has-input"],j["toast-shown"]]),pe()&&(xe(),ke()),null!==t&&"function"==typeof t&&setTimeout(function(){t()})};be&&!R(r,j.noanimation)?r.addEventListener(be,function e(){r.removeEventListener(be,e),R(r,j.hide)&&i()}):i()}},Pe=function(){return!!K()},Ve=function(){return ae().click()},Ae=function(){return oe().click()},Ce={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",target:"body",backdrop:!0,animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onAfterClose:null,onOpen:null,onClose:null,useRejections:!1,expectRejections:!1},Be=["useRejections","expectRejections"],Ue=function(e){return Ce.hasOwnProperty(e)||"extraParams"===e},De=function(e){return-1!==Be.indexOf(e)},Oe=function(e){for(var t in e)Ue(t)||T('Unknown parameter "'+t+'"'),De(t)&&V('The parameter "'+t+'" is deprecated and will be removed in the next major release.')},je='"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.',Le={},Fe=[],Re=function(e){var t=this;Fe=e;var n=function(){Fe=[],document.body.removeAttribute("data-swal2-queue-step")},r=[];return new Promise(function(e,i){!function i(a,o){a<Fe.length?(document.body.setAttribute("data-swal2-queue-step",a),t(Fe[a]).then(function(t){void 0!==t.value?(r.push(t.value),i(a+1,o)):(n(),e({dismiss:t.dismiss}))})):(n(),e({value:r}))}(0)})},Me=function(){return document.body.getAttribute("data-swal2-queue-step")},Ge=function(e,t){return t&&t<Fe.length?Fe.splice(t,0,e):Fe.push(e)},Ne=function(e){void 0!==Fe[e]&&Fe.splice(e,1)},$e=function(){var e=K();e||Je(""),e=K();var t=le(),n=ae(),r=oe();H(t),H(n),N([e,t],j.loading),n.disabled=!0,r.disabled=!0,e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},ze=Object.freeze({isValidParameter:Ue,isDeprecatedParameter:De,argsToParams:U,adaptInputValidator:D,close:Ee,closePopup:Ee,closeModal:Ee,closeToast:Ee,isVisible:Pe,clickConfirm:Ve,clickCancel:Ae,getPopup:K,getTitle:ee,getContent:te,getImage:ne,getButtonsWrapper:se,getActions:le,getConfirmButton:ae,getCancelButton:oe,getFooter:ce,isLoading:me,mixin:t,queue:Re,getQueueStep:Me,insertQueueStep:Ge,deleteQueueStep:Ne,showLoading:$e,enableLoading:$e,fire:n});if("undefined"!=typeof window&&"function"!=typeof window.WeakMap){var He=0;window.Symbol=function(e){return"__"+e+"_"+Math.floor(1e9*Math.random())+"_"+ ++He+"__"},Symbol.iterator=Symbol("Symbol.iterator"),window.WeakMap=function(e,t,n){function r(){t(this,e,{value:Symbol("WeakMap")})}return r.prototype={delete:function(t){delete t[this[e]]},get:function(t){return t[this[e]]},has:function(t){return n.call(t,this[e])},set:function(n,r){t(n,this[e],{configurable:!0,value:r})}},r}(Symbol("WeakMap"),Object.defineProperty,{}.hasOwnProperty)}var We={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},qe={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.reject(t&&t.validationMessage?t.validationMessage:"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)$/.test(e)?Promise.resolve():Promise.reject(t&&t.validationMessage?t.validationMessage:"Invalid URL")}},Ye=function(e,t,n){var r=Z(),i=K();null!==t&&"function"==typeof t&&t(i),e?(N(i,j.show),N(r,j.fade),$(i,j.hide)):$(i,j.fade),H(i),r.style.overflowY="hidden",be&&!R(i,j.noanimation)?i.addEventListener(be,function e(){i.removeEventListener(be,e),r.style.overflowY="auto"}):r.style.overflowY="auto",N([document.documentElement,document.body,r],j.shown),pe()&&(ve(),Se()),Ie.previousActiveElement||(Ie.previousActiveElement=document.activeElement),null!==n&&"function"==typeof n&&setTimeout(function(){n(i)})},Xe=Object.freeze({hideLoading:r,disableLoading:r,getInput:i,enableButtons:a,disableButtons:o,enableConfirmButton:s,disableConfirmButton:l,enableInput:c,disableInput:u,showValidationError:d,resetValidationError:p,_main:m}),Ze=void 0;h.prototype.then=function(e,t){return We.promise.get(this).then(e,t)},h.prototype.catch=function(e){return We.promise.get(this).catch(e)},h.prototype.finally=function(e){return We.promise.get(this).finally(e)},b(h.prototype,Xe),b(h,ze),Object.keys(Xe).forEach(function(e){h[e]=function(){if(Ze){var t;return(t=Ze)[e].apply(t,arguments)}}}),h.DismissReason=B,h.noop=function(){},h.version="7.20.6";var Je=e(function(e){var t=function(t){function n(){return y(this,n),x(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return v(n,t),w(n,[{key:"_main",value:function(e){return _(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_main",this).call(this,b({},Le,e))}}],[{key:"setDefaults",value:function(t){if(V(je),!t||"object"!==(void 0===t?"undefined":g(t)))throw new TypeError("SweetAlert2: The argument for setDefaults() is required and has to be a object");Oe(t),Object.keys(t).forEach(function(n){e.isValidParameter(n)&&(Le[n]=t[n])})}},{key:"resetDefaults",value:function(){V(je),Le={}}}]),n}(e);return"undefined"!=typeof window&&"object"===g(window._swalDefaults)&&t.setDefaults(window._swalDefaults),t}(h));return Je.default=Je,Je}),"undefined"!=typeof window&&window.Sweetalert2&&(window.swal=window.sweetAlert=window.Swal=window.SweetAlert=window.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,"@-webkit-keyframes swal2-show {\n  0% {\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7); }\n  45% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05); }\n  80% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@keyframes swal2-show {\n  0% {\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7); }\n  45% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05); }\n  80% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-webkit-keyframes swal2-hide {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n    opacity: 0; } }\n\n@keyframes swal2-hide {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n    opacity: 0; } }\n\n@-webkit-keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: 1.0625em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: 2.1875em;\n    left: -.375em;\n    width: 3.125em; }\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em; }\n  100% {\n    top: 2.8125em;\n    left: .875em;\n    width: 1.5625em; } }\n\n@keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: 1.0625em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: 2.1875em;\n    left: -.375em;\n    width: 3.125em; }\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em; }\n  100% {\n    top: 2.8125em;\n    left: .875em;\n    width: 1.5625em; } }\n\n@-webkit-keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em; }\n  100% {\n    top: 2.375em;\n    right: .5em;\n    width: 2.9375em; } }\n\n@keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em; }\n  100% {\n    top: 2.375em;\n    right: .5em;\n    width: 2.9375em; } }\n\n@-webkit-keyframes swal2-rotate-success-circular-line {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  5% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  12% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n\n@keyframes swal2-rotate-success-circular-line {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  5% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  12% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n\n@-webkit-keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  50% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  80% {\n    margin-top: -.375em;\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15); }\n  100% {\n    margin-top: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; } }\n\n@keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  50% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  80% {\n    margin-top: -.375em;\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15); }\n  100% {\n    margin-top: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; } }\n\n@-webkit-keyframes swal2-animate-error-icon {\n  0% {\n    -webkit-transform: rotateX(100deg);\n            transform: rotateX(100deg);\n    opacity: 0; }\n  100% {\n    -webkit-transform: rotateX(0deg);\n            transform: rotateX(0deg);\n    opacity: 1; } }\n\n@keyframes swal2-animate-error-icon {\n  0% {\n    -webkit-transform: rotateX(100deg);\n            transform: rotateX(100deg);\n    opacity: 0; }\n  100% {\n    -webkit-transform: rotateX(0deg);\n            transform: rotateX(0deg);\n    opacity: 1; } }\n\nbody.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast {\n  flex-direction: column;\n  align-items: stretch; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-actions {\n    flex: 1;\n    align-self: stretch;\n    justify-content: flex-end;\n    height: 2.2em; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-loading {\n    justify-content: center; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-input {\n    height: 2em;\n    margin: .3125em auto;\n    font-size: 1em; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-validationerror {\n    font-size: 1em; }\n\nbody.swal2-toast-shown > .swal2-container {\n  position: fixed;\n  background-color: transparent; }\n  body.swal2-toast-shown > .swal2-container.swal2-shown {\n    background-color: transparent; }\n  body.swal2-toast-shown > .swal2-container.swal2-top {\n    top: 0;\n    right: auto;\n    bottom: auto;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-top-end, body.swal2-toast-shown > .swal2-container.swal2-top-right {\n    top: 0;\n    right: 0;\n    bottom: auto;\n    left: auto; }\n  body.swal2-toast-shown > .swal2-container.swal2-top-start, body.swal2-toast-shown > .swal2-container.swal2-top-left {\n    top: 0;\n    right: auto;\n    bottom: auto;\n    left: 0; }\n  body.swal2-toast-shown > .swal2-container.swal2-center-start, body.swal2-toast-shown > .swal2-container.swal2-center-left {\n    top: 50%;\n    right: auto;\n    bottom: auto;\n    left: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-center {\n    top: 50%;\n    right: auto;\n    bottom: auto;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-center-end, body.swal2-toast-shown > .swal2-container.swal2-center-right {\n    top: 50%;\n    right: 0;\n    bottom: auto;\n    left: auto;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom-start, body.swal2-toast-shown > .swal2-container.swal2-bottom-left {\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 0; }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom {\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom-end, body.swal2-toast-shown > .swal2-container.swal2-bottom-right {\n    top: auto;\n    right: 0;\n    bottom: 0;\n    left: auto; }\n\n.swal2-popup.swal2-toast {\n  flex-direction: row;\n  align-items: center;\n  width: auto;\n  padding: 0.625em;\n  box-shadow: 0 0 0.625em #d9d9d9;\n  overflow-y: hidden; }\n  .swal2-popup.swal2-toast .swal2-header {\n    flex-direction: row; }\n  .swal2-popup.swal2-toast .swal2-title {\n    justify-content: flex-start;\n    margin: 0 .6em;\n    font-size: 1em; }\n  .swal2-popup.swal2-toast .swal2-close {\n    position: initial; }\n  .swal2-popup.swal2-toast .swal2-content {\n    justify-content: flex-start;\n    font-size: 1em; }\n  .swal2-popup.swal2-toast .swal2-icon {\n    width: 2em;\n    min-width: 2em;\n    height: 2em;\n    margin: 0; }\n    .swal2-popup.swal2-toast .swal2-icon-text {\n      font-size: 2em;\n      font-weight: bold;\n      line-height: 1em; }\n    .swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring {\n      width: 2em;\n      height: 2em; }\n    .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'] {\n      top: .875em;\n      width: 1.375em; }\n      .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='left'] {\n        left: .3125em; }\n      .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='right'] {\n        right: .3125em; }\n  .swal2-popup.swal2-toast .swal2-actions {\n    height: auto;\n    margin: 0 .3125em; }\n  .swal2-popup.swal2-toast .swal2-styled {\n    margin: 0 .3125em;\n    padding: .3125em .625em;\n    font-size: 1em; }\n    .swal2-popup.swal2-toast .swal2-styled:focus {\n      box-shadow: 0 0 0 0.0625em #fff, 0 0 0 0.125em rgba(50, 100, 150, 0.4); }\n  .swal2-popup.swal2-toast .swal2-success {\n    border-color: #a5dc86; }\n    .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'] {\n      position: absolute;\n      width: 2em;\n      height: 2.8125em;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      border-radius: 50%; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'][class$='left'] {\n        top: -.25em;\n        left: -.9375em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 2em 2em;\n                transform-origin: 2em 2em;\n        border-radius: 4em 0 0 4em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'][class$='right'] {\n        top: -.25em;\n        left: .9375em;\n        -webkit-transform-origin: 0 2em;\n                transform-origin: 0 2em;\n        border-radius: 0 4em 4em 0; }\n    .swal2-popup.swal2-toast .swal2-success .swal2-success-ring {\n      width: 2em;\n      height: 2em; }\n    .swal2-popup.swal2-toast .swal2-success .swal2-success-fix {\n      top: 0;\n      left: .4375em;\n      width: .4375em;\n      height: 2.6875em; }\n    .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'] {\n      height: .3125em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'][class$='tip'] {\n        top: 1.125em;\n        left: .1875em;\n        width: .75em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'][class$='long'] {\n        top: .9375em;\n        right: .1875em;\n        width: 1.375em; }\n  .swal2-popup.swal2-toast.swal2-show {\n    -webkit-animation: showSweetToast .5s;\n            animation: showSweetToast .5s; }\n  .swal2-popup.swal2-toast.swal2-hide {\n    -webkit-animation: hideSweetToast .2s forwards;\n            animation: hideSweetToast .2s forwards; }\n  .swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip {\n    -webkit-animation: animate-toast-success-tip .75s;\n            animation: animate-toast-success-tip .75s; }\n  .swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long {\n    -webkit-animation: animate-toast-success-long .75s;\n            animation: animate-toast-success-long .75s; }\n\n@-webkit-keyframes showSweetToast {\n  0% {\n    -webkit-transform: translateY(-0.625em) rotateZ(2deg);\n            transform: translateY(-0.625em) rotateZ(2deg);\n    opacity: 0; }\n  33% {\n    -webkit-transform: translateY(0) rotateZ(-2deg);\n            transform: translateY(0) rotateZ(-2deg);\n    opacity: .5; }\n  66% {\n    -webkit-transform: translateY(0.3125em) rotateZ(2deg);\n            transform: translateY(0.3125em) rotateZ(2deg);\n    opacity: .7; }\n  100% {\n    -webkit-transform: translateY(0) rotateZ(0);\n            transform: translateY(0) rotateZ(0);\n    opacity: 1; } }\n\n@keyframes showSweetToast {\n  0% {\n    -webkit-transform: translateY(-0.625em) rotateZ(2deg);\n            transform: translateY(-0.625em) rotateZ(2deg);\n    opacity: 0; }\n  33% {\n    -webkit-transform: translateY(0) rotateZ(-2deg);\n            transform: translateY(0) rotateZ(-2deg);\n    opacity: .5; }\n  66% {\n    -webkit-transform: translateY(0.3125em) rotateZ(2deg);\n            transform: translateY(0.3125em) rotateZ(2deg);\n    opacity: .7; }\n  100% {\n    -webkit-transform: translateY(0) rotateZ(0);\n            transform: translateY(0) rotateZ(0);\n    opacity: 1; } }\n\n@-webkit-keyframes hideSweetToast {\n  0% {\n    opacity: 1; }\n  33% {\n    opacity: .5; }\n  100% {\n    -webkit-transform: rotateZ(1deg);\n            transform: rotateZ(1deg);\n    opacity: 0; } }\n\n@keyframes hideSweetToast {\n  0% {\n    opacity: 1; }\n  33% {\n    opacity: .5; }\n  100% {\n    -webkit-transform: rotateZ(1deg);\n            transform: rotateZ(1deg);\n    opacity: 0; } }\n\n@-webkit-keyframes animate-toast-success-tip {\n  0% {\n    top: .5625em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: .125em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: .625em;\n    left: -.25em;\n    width: 1.625em; }\n  84% {\n    top: 1.0625em;\n    left: .75em;\n    width: .5em; }\n  100% {\n    top: 1.125em;\n    left: .1875em;\n    width: .75em; } }\n\n@keyframes animate-toast-success-tip {\n  0% {\n    top: .5625em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: .125em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: .625em;\n    left: -.25em;\n    width: 1.625em; }\n  84% {\n    top: 1.0625em;\n    left: .75em;\n    width: .5em; }\n  100% {\n    top: 1.125em;\n    left: .1875em;\n    width: .75em; } }\n\n@-webkit-keyframes animate-toast-success-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0; }\n  65% {\n    top: 1.25em;\n    right: .9375em;\n    width: 0; }\n  84% {\n    top: .9375em;\n    right: 0;\n    width: 1.125em; }\n  100% {\n    top: .9375em;\n    right: .1875em;\n    width: 1.375em; } }\n\n@keyframes animate-toast-success-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0; }\n  65% {\n    top: 1.25em;\n    right: .9375em;\n    width: 0; }\n  84% {\n    top: .9375em;\n    right: 0;\n    width: 1.125em; }\n  100% {\n    top: .9375em;\n    right: .1875em;\n    width: 1.375em; } }\n\nhtml.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown),\nbody.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) {\n  height: auto;\n  overflow-y: hidden; }\n\nbody.swal2-no-backdrop .swal2-shown {\n  top: auto;\n  right: auto;\n  bottom: auto;\n  left: auto;\n  background-color: transparent; }\n  body.swal2-no-backdrop .swal2-shown > .swal2-modal {\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.4); }\n  body.swal2-no-backdrop .swal2-shown.swal2-top {\n    top: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-top-start, body.swal2-no-backdrop .swal2-shown.swal2-top-left {\n    top: 0;\n    left: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-top-end, body.swal2-no-backdrop .swal2-shown.swal2-top-right {\n    top: 0;\n    right: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-center {\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-center-start, body.swal2-no-backdrop .swal2-shown.swal2-center-left {\n    top: 50%;\n    left: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-center-end, body.swal2-no-backdrop .swal2-shown.swal2-center-right {\n    top: 50%;\n    right: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom {\n    bottom: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom-start, body.swal2-no-backdrop .swal2-shown.swal2-bottom-left {\n    bottom: 0;\n    left: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom-end, body.swal2-no-backdrop .swal2-shown.swal2-bottom-right {\n    right: 0;\n    bottom: 0; }\n\n.swal2-container {\n  display: flex;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  background-color: transparent;\n  z-index: 1060;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch; }\n  .swal2-container.swal2-top {\n    align-items: flex-start; }\n  .swal2-container.swal2-top-start, .swal2-container.swal2-top-left {\n    align-items: flex-start;\n    justify-content: flex-start; }\n  .swal2-container.swal2-top-end, .swal2-container.swal2-top-right {\n    align-items: flex-start;\n    justify-content: flex-end; }\n  .swal2-container.swal2-center {\n    align-items: center; }\n  .swal2-container.swal2-center-start, .swal2-container.swal2-center-left {\n    align-items: center;\n    justify-content: flex-start; }\n  .swal2-container.swal2-center-end, .swal2-container.swal2-center-right {\n    align-items: center;\n    justify-content: flex-end; }\n  .swal2-container.swal2-bottom {\n    align-items: flex-end; }\n  .swal2-container.swal2-bottom-start, .swal2-container.swal2-bottom-left {\n    align-items: flex-end;\n    justify-content: flex-start; }\n  .swal2-container.swal2-bottom-end, .swal2-container.swal2-bottom-right {\n    align-items: flex-end;\n    justify-content: flex-end; }\n  .swal2-container.swal2-grow-fullscreen > .swal2-modal {\n    display: flex !important;\n    flex: 1;\n    align-self: stretch;\n    justify-content: center; }\n  .swal2-container.swal2-grow-row > .swal2-modal {\n    display: flex !important;\n    flex: 1;\n    align-content: center;\n    justify-content: center; }\n  .swal2-container.swal2-grow-column {\n    flex: 1;\n    flex-direction: column; }\n    .swal2-container.swal2-grow-column.swal2-top, .swal2-container.swal2-grow-column.swal2-center, .swal2-container.swal2-grow-column.swal2-bottom {\n      align-items: center; }\n    .swal2-container.swal2-grow-column.swal2-top-start, .swal2-container.swal2-grow-column.swal2-center-start, .swal2-container.swal2-grow-column.swal2-bottom-start, .swal2-container.swal2-grow-column.swal2-top-left, .swal2-container.swal2-grow-column.swal2-center-left, .swal2-container.swal2-grow-column.swal2-bottom-left {\n      align-items: flex-start; }\n    .swal2-container.swal2-grow-column.swal2-top-end, .swal2-container.swal2-grow-column.swal2-center-end, .swal2-container.swal2-grow-column.swal2-bottom-end, .swal2-container.swal2-grow-column.swal2-top-right, .swal2-container.swal2-grow-column.swal2-center-right, .swal2-container.swal2-grow-column.swal2-bottom-right {\n      align-items: flex-end; }\n    .swal2-container.swal2-grow-column > .swal2-modal {\n      display: flex !important;\n      flex: 1;\n      align-content: center;\n      justify-content: center; }\n  .swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right) > .swal2-modal {\n    margin: auto; }\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n    .swal2-container .swal2-modal {\n      margin: 0 !important; } }\n  .swal2-container.swal2-fade {\n    transition: background-color .1s; }\n  .swal2-container.swal2-shown {\n    background-color: rgba(0, 0, 0, 0.4); }\n\n.swal2-popup {\n  display: none;\n  position: relative;\n  flex-direction: column;\n  justify-content: center;\n  width: 32em;\n  max-width: 100%;\n  padding: 1.25em;\n  border-radius: 0.3125em;\n  background: #fff;\n  font-family: inherit;\n  font-size: 1rem;\n  box-sizing: border-box; }\n  .swal2-popup:focus {\n    outline: none; }\n  .swal2-popup.swal2-loading {\n    overflow-y: hidden; }\n  .swal2-popup .swal2-header {\n    display: flex;\n    flex-direction: column;\n    align-items: center; }\n  .swal2-popup .swal2-title {\n    display: block;\n    position: relative;\n    max-width: 100%;\n    margin: 0 0 0.4em;\n    padding: 0;\n    color: #595959;\n    font-size: 1.875em;\n    font-weight: 600;\n    text-align: center;\n    text-transform: none;\n    word-wrap: break-word; }\n  .swal2-popup .swal2-actions {\n    align-items: center;\n    justify-content: center;\n    margin: 1.25em auto 0; }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled[disabled] {\n      opacity: .4; }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:hover {\n      background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)); }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:active {\n      background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)); }\n    .swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-confirm {\n      width: 2.5em;\n      height: 2.5em;\n      margin: .46875em;\n      padding: 0;\n      border: .25em solid transparent;\n      border-radius: 100%;\n      border-color: transparent;\n      background-color: transparent !important;\n      color: transparent;\n      cursor: default;\n      box-sizing: border-box;\n      -webkit-animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n              animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none; }\n    .swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-cancel {\n      margin-right: 30px;\n      margin-left: 30px; }\n    .swal2-popup .swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after {\n      display: inline-block;\n      width: 15px;\n      height: 15px;\n      margin-left: 5px;\n      border: 3px solid #999999;\n      border-radius: 50%;\n      border-right-color: transparent;\n      box-shadow: 1px 1px 1px #fff;\n      content: '';\n      -webkit-animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n              animation: swal2-rotate-loading 1.5s linear 0s infinite normal; }\n  .swal2-popup .swal2-styled {\n    margin: 0 .3125em;\n    padding: .625em 2em;\n    font-weight: 500;\n    box-shadow: none; }\n    .swal2-popup .swal2-styled:not([disabled]) {\n      cursor: pointer; }\n    .swal2-popup .swal2-styled.swal2-confirm {\n      border: 0;\n      border-radius: 0.25em;\n      background: initial;\n      background-color: #3085d6;\n      color: #fff;\n      font-size: 1.0625em; }\n    .swal2-popup .swal2-styled.swal2-cancel {\n      border: 0;\n      border-radius: 0.25em;\n      background: initial;\n      background-color: #aaa;\n      color: #fff;\n      font-size: 1.0625em; }\n    .swal2-popup .swal2-styled:focus {\n      outline: none;\n      box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(50, 100, 150, 0.4); }\n    .swal2-popup .swal2-styled::-moz-focus-inner {\n      border: 0; }\n  .swal2-popup .swal2-footer {\n    justify-content: center;\n    margin: 1.25em 0 0;\n    padding-top: 1em;\n    border-top: 1px solid #eee;\n    color: #545454;\n    font-size: 1em; }\n  .swal2-popup .swal2-image {\n    max-width: 100%;\n    margin: 1.25em auto; }\n  .swal2-popup .swal2-close {\n    position: absolute;\n    top: 0;\n    right: 0;\n    justify-content: center;\n    width: 1.2em;\n    height: 1.2em;\n    padding: 0;\n    transition: color 0.1s ease-out;\n    border: none;\n    border-radius: 0;\n    background: transparent;\n    color: #cccccc;\n    font-family: serif;\n    font-size: 2.5em;\n    line-height: 1.2;\n    cursor: pointer;\n    overflow: hidden; }\n    .swal2-popup .swal2-close:hover {\n      -webkit-transform: none;\n              transform: none;\n      color: #f27474; }\n  .swal2-popup > .swal2-input,\n  .swal2-popup > .swal2-file,\n  .swal2-popup > .swal2-textarea,\n  .swal2-popup > .swal2-select,\n  .swal2-popup > .swal2-radio,\n  .swal2-popup > .swal2-checkbox {\n    display: none; }\n  .swal2-popup .swal2-content {\n    justify-content: center;\n    margin: 0;\n    padding: 0;\n    color: #545454;\n    font-size: 1.125em;\n    font-weight: 300;\n    line-height: normal;\n    word-wrap: break-word; }\n  .swal2-popup #swal2-content {\n    text-align: center; }\n  .swal2-popup .swal2-input,\n  .swal2-popup .swal2-file,\n  .swal2-popup .swal2-textarea,\n  .swal2-popup .swal2-select,\n  .swal2-popup .swal2-radio,\n  .swal2-popup .swal2-checkbox {\n    margin: 1em auto; }\n  .swal2-popup .swal2-input,\n  .swal2-popup .swal2-file,\n  .swal2-popup .swal2-textarea {\n    width: 100%;\n    transition: border-color .3s, box-shadow .3s;\n    border: 1px solid #d9d9d9;\n    border-radius: 0.1875em;\n    font-size: 1.125em;\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06);\n    box-sizing: border-box; }\n    .swal2-popup .swal2-input.swal2-inputerror,\n    .swal2-popup .swal2-file.swal2-inputerror,\n    .swal2-popup .swal2-textarea.swal2-inputerror {\n      border-color: #f27474 !important;\n      box-shadow: 0 0 2px #f27474 !important; }\n    .swal2-popup .swal2-input:focus,\n    .swal2-popup .swal2-file:focus,\n    .swal2-popup .swal2-textarea:focus {\n      border: 1px solid #b4dbed;\n      outline: none;\n      box-shadow: 0 0 3px #c4e6f5; }\n    .swal2-popup .swal2-input::-webkit-input-placeholder,\n    .swal2-popup .swal2-file::-webkit-input-placeholder,\n    .swal2-popup .swal2-textarea::-webkit-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input:-ms-input-placeholder,\n    .swal2-popup .swal2-file:-ms-input-placeholder,\n    .swal2-popup .swal2-textarea:-ms-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input::-ms-input-placeholder,\n    .swal2-popup .swal2-file::-ms-input-placeholder,\n    .swal2-popup .swal2-textarea::-ms-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input::placeholder,\n    .swal2-popup .swal2-file::placeholder,\n    .swal2-popup .swal2-textarea::placeholder {\n      color: #cccccc; }\n  .swal2-popup .swal2-range input {\n    width: 80%; }\n  .swal2-popup .swal2-range output {\n    width: 20%;\n    font-weight: 600;\n    text-align: center; }\n  .swal2-popup .swal2-range input,\n  .swal2-popup .swal2-range output {\n    height: 2.625em;\n    margin: 1em auto;\n    padding: 0;\n    font-size: 1.125em;\n    line-height: 2.625em; }\n  .swal2-popup .swal2-input {\n    height: 2.625em;\n    padding: 0.75em; }\n    .swal2-popup .swal2-input[type='number'] {\n      max-width: 10em; }\n  .swal2-popup .swal2-file {\n    font-size: 1.125em; }\n  .swal2-popup .swal2-textarea {\n    height: 6.75em;\n    padding: 0.75em; }\n  .swal2-popup .swal2-select {\n    min-width: 50%;\n    max-width: 100%;\n    padding: .375em .625em;\n    color: #545454;\n    font-size: 1.125em; }\n  .swal2-popup .swal2-radio,\n  .swal2-popup .swal2-checkbox {\n    align-items: center;\n    justify-content: center; }\n    .swal2-popup .swal2-radio label,\n    .swal2-popup .swal2-checkbox label {\n      margin: 0 .6em;\n      font-size: 1.125em; }\n    .swal2-popup .swal2-radio input,\n    .swal2-popup .swal2-checkbox input {\n      margin: 0 .4em; }\n  .swal2-popup .swal2-validationerror {\n    display: none;\n    align-items: center;\n    justify-content: center;\n    padding: 0.625em;\n    background: #f0f0f0;\n    color: #666666;\n    font-size: 1em;\n    font-weight: 300;\n    overflow: hidden; }\n    .swal2-popup .swal2-validationerror::before {\n      display: inline-block;\n      width: 1.5em;\n      min-width: 1.5em;\n      height: 1.5em;\n      margin: 0 .625em;\n      border-radius: 50%;\n      background-color: #f27474;\n      color: #fff;\n      font-weight: 600;\n      line-height: 1.5em;\n      text-align: center;\n      content: '!';\n      zoom: normal; }\n\n@supports (-ms-accelerator: true) {\n  .swal2-range input {\n    width: 100% !important; }\n  .swal2-range output {\n    display: none; } }\n\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  .swal2-range input {\n    width: 100% !important; }\n  .swal2-range output {\n    display: none; } }\n\n@-moz-document url-prefix() {\n  .swal2-close:focus {\n    outline: 2px solid rgba(50, 100, 150, 0.4); } }\n\n.swal2-icon {\n  position: relative;\n  justify-content: center;\n  width: 5em;\n  height: 5em;\n  margin: 1.25em auto 1.875em;\n  border: .25em solid transparent;\n  border-radius: 50%;\n  line-height: 5em;\n  cursor: default;\n  box-sizing: content-box;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  zoom: normal; }\n  .swal2-icon-text {\n    font-size: 3.75em; }\n  .swal2-icon.swal2-error {\n    border-color: #f27474; }\n    .swal2-icon.swal2-error .swal2-x-mark {\n      position: relative;\n      flex-grow: 1; }\n    .swal2-icon.swal2-error [class^='swal2-x-mark-line'] {\n      display: block;\n      position: absolute;\n      top: 2.3125em;\n      width: 2.9375em;\n      height: .3125em;\n      border-radius: .125em;\n      background-color: #f27474; }\n      .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='left'] {\n        left: 1.0625em;\n        -webkit-transform: rotate(45deg);\n                transform: rotate(45deg); }\n      .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='right'] {\n        right: 1em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg); }\n  .swal2-icon.swal2-warning {\n    border-color: #facea8;\n    color: #f8bb86; }\n  .swal2-icon.swal2-info {\n    border-color: #9de0f6;\n    color: #3fc3ee; }\n  .swal2-icon.swal2-question {\n    border-color: #c9dae1;\n    color: #87adbd; }\n  .swal2-icon.swal2-success {\n    border-color: #a5dc86; }\n    .swal2-icon.swal2-success [class^='swal2-success-circular-line'] {\n      position: absolute;\n      width: 3.75em;\n      height: 7.5em;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      border-radius: 50%; }\n      .swal2-icon.swal2-success [class^='swal2-success-circular-line'][class$='left'] {\n        top: -.4375em;\n        left: -2.0635em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 3.75em 3.75em;\n                transform-origin: 3.75em 3.75em;\n        border-radius: 7.5em 0 0 7.5em; }\n      .swal2-icon.swal2-success [class^='swal2-success-circular-line'][class$='right'] {\n        top: -.6875em;\n        left: 1.875em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 0 3.75em;\n                transform-origin: 0 3.75em;\n        border-radius: 0 7.5em 7.5em 0; }\n    .swal2-icon.swal2-success .swal2-success-ring {\n      position: absolute;\n      top: -.25em;\n      left: -.25em;\n      width: 100%;\n      height: 100%;\n      border: 0.25em solid rgba(165, 220, 134, 0.3);\n      border-radius: 50%;\n      z-index: 2;\n      box-sizing: content-box; }\n    .swal2-icon.swal2-success .swal2-success-fix {\n      position: absolute;\n      top: .5em;\n      left: 1.625em;\n      width: .4375em;\n      height: 5.625em;\n      -webkit-transform: rotate(-45deg);\n              transform: rotate(-45deg);\n      z-index: 1; }\n    .swal2-icon.swal2-success [class^='swal2-success-line'] {\n      display: block;\n      position: absolute;\n      height: .3125em;\n      border-radius: .125em;\n      background-color: #a5dc86;\n      z-index: 2; }\n      .swal2-icon.swal2-success [class^='swal2-success-line'][class$='tip'] {\n        top: 2.875em;\n        left: .875em;\n        width: 1.5625em;\n        -webkit-transform: rotate(45deg);\n                transform: rotate(45deg); }\n      .swal2-icon.swal2-success [class^='swal2-success-line'][class$='long'] {\n        top: 2.375em;\n        right: .5em;\n        width: 2.9375em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg); }\n\n.swal2-progresssteps {\n  align-items: center;\n  margin: 0 0 1.25em;\n  padding: 0;\n  font-weight: 600; }\n  .swal2-progresssteps li {\n    display: inline-block;\n    position: relative; }\n  .swal2-progresssteps .swal2-progresscircle {\n    width: 2em;\n    height: 2em;\n    border-radius: 2em;\n    background: #3085d6;\n    color: #fff;\n    line-height: 2em;\n    text-align: center;\n    z-index: 20; }\n    .swal2-progresssteps .swal2-progresscircle:first-child {\n      margin-left: 0; }\n    .swal2-progresssteps .swal2-progresscircle:last-child {\n      margin-right: 0; }\n    .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep {\n      background: #3085d6; }\n      .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep ~ .swal2-progresscircle {\n        background: #add8e6; }\n      .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep ~ .swal2-progressline {\n        background: #add8e6; }\n  .swal2-progresssteps .swal2-progressline {\n    width: 2.5em;\n    height: .4em;\n    margin: 0 -1px;\n    background: #3085d6;\n    z-index: 10; }\n\n[class^='swal2'] {\n  -webkit-tap-highlight-color: transparent; }\n\n.swal2-show {\n  -webkit-animation: swal2-show 0.3s;\n          animation: swal2-show 0.3s; }\n  .swal2-show.swal2-noanimation {\n    -webkit-animation: none;\n            animation: none; }\n\n.swal2-hide {\n  -webkit-animation: swal2-hide 0.15s forwards;\n          animation: swal2-hide 0.15s forwards; }\n  .swal2-hide.swal2-noanimation {\n    -webkit-animation: none;\n            animation: none; }\n\n[dir='rtl'] .swal2-close {\n  right: auto;\n  left: 0; }\n\n.swal2-animate-success-icon .swal2-success-line-tip {\n  -webkit-animation: swal2-animate-success-line-tip 0.75s;\n          animation: swal2-animate-success-line-tip 0.75s; }\n\n.swal2-animate-success-icon .swal2-success-line-long {\n  -webkit-animation: swal2-animate-success-line-long 0.75s;\n          animation: swal2-animate-success-line-long 0.75s; }\n\n.swal2-animate-success-icon .swal2-success-circular-line-right {\n  -webkit-animation: swal2-rotate-success-circular-line 4.25s ease-in;\n          animation: swal2-rotate-success-circular-line 4.25s ease-in; }\n\n.swal2-animate-error-icon {\n  -webkit-animation: swal2-animate-error-icon 0.5s;\n          animation: swal2-animate-error-icon 0.5s; }\n  .swal2-animate-error-icon .swal2-x-mark {\n    -webkit-animation: swal2-animate-error-x-mark 0.5s;\n            animation: swal2-animate-error-x-mark 0.5s; }\n\n@-webkit-keyframes swal2-rotate-loading {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes swal2-rotate-loading {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }")},function(e,t,n){"use strict";function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.padLeft=function(e,t,n){return n>>=0,t=String(void 0!==t?t:" "),e.length>=n?e:(n-=t.length,n>t.length&&(t+=t.repeat(n/t.length)),t.slice(0,n)+e)},e}();t.StringHelper=i,t.escapeHtml=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(4),a=n(6),o=n(5),s=n(9).parser,l=function(){function e(){}return e.executeGameInitCode=function(e){var t=i.AbstractMachine.createNewMachineState(),n=null;try{n=this.compiler.parse(e)}catch(e){return void r.Logger.fatalSyntaxError("game init code has parse errors: "+e)}for(var a=0,o=n.game_def_stats;a<o.length;a++){var s=o[a];t=i.AbstractMachine.executeGameDefinitionStatement(s,t)}return t},e.getAllVarDefiningStatements=function(e,t){var n={globalVars:[],localVars:[],playerVars:[]},a=null,o=i.AbstractMachine.createNewMachineState();try{a=this.compiler.parse(e)}catch(e){return void r.Logger.fatalSyntaxError("game init code has parse errors: "+e)}for(var s=0,l=a.game_def_stats;s<l.length;s++){var c=l[s];if(o=i.AbstractMachine.executeGameDefinitionStatement(c,o),"game_vars"===c.type)for(var u=0,d=c.vars;u<d.length;u++){var p=d[u];n.globalVars.push(p)}if("players_def"===c.type)for(var f=0,m=c.vars;f<m.length;f++){var h=m[f];n.playerVars.push(h)}}var g={scopeLevel:0,localVars:[]},y=[g];n.localVars.push(g),this.getAllDefinitions(n,y,a.statements);for(var w,b=0;b<t.length;b++)for(var _=t[b],v=0;v<_.fieldShapes.length;v++){var x=_.fieldShapes[v];if(null!==x.cmdText){try{w=this.compiler.parse(x.cmdText)}catch(e){return void r.Logger.fatalSyntaxError("field "+x.id+" on tile "+_.guid+" has parse errors: "+e)}this.getAllDefinitions(n,y,w.statements)}}return n},e.getAllDefinitions=function(e,t,n){for(var r=t[t.length-1],i=0,a=n;i<a.length;i++){var o=a[i];"var_decl"===o.type?r.localVars.push(o):"begin_scope"===o.type?(r={scopeLevel:t.length,localVars:[]},t.push(r),e.localVars.push(r)):"end_scope"===o.type?r=t.pop():"if"===o.type?this.getAllDefinitions(e,t,o.trueUnits):"ifElse"===o.type&&(this.getAllDefinitions(e,t,o.trueUnits),this.getAllDefinitions(e,t,o.falseUnits))}},e.checkAllVarUsagesInStatement=function(e,t,n){switch(t.type){case"expression":this.checkAllVarUsagesInExpression(e,t,n);break;case"ifElse":for(var r=0,i=t.trueUnits;r<i.length;r++){var a=i[r];this.checkAllVarUsagesInStatement(e,a,n)}for(var s=0,l=t.falseUnits;s<l.length;s++){var a=l[s];this.checkAllVarUsagesInStatement(e,a,n)}break;case"if":for(var c=0,u=t.trueUnits;c<u.length;c++){var a=u[c];this.checkAllVarUsagesInStatement(e,a,n)}break;case"var_decl":e.localVars.push({scopLevel:e.currentScopeIndex,localVar:t}),this.checkAllVarUsagesInExpression(e,t.expr,n);break;case"sleep_func":this.checkAllVarUsagesInExpression(e,t.roundsExpr,n);break;case"move_func":this.checkAllVarUsagesInExpression(e,t.numStepsExpr,n);break;case"set_return_result":this.checkAllVarUsagesInExpression(e,t.expr,n);break;case"end_scope":e.currentScopeIndex--;break;case"begin_scope":e.currentScopeIndex++;break;case"limit_scope":e.isScopeLimit=!0;break;case"goto":case"control_goto":case"control_ifElse":case"end":case"start":case"force":case"log":case"rollback_func":break;default:o.notExhaustive(t)}},e.checkAllVarUsagesInExpression=function(e,t,n){var i=this;this.traverseTree(t,function(t){if("assignment"===t.type){var a=i.isGlobalOrLocalVarDefined(e,t.ident,n);a||r.Logger.fatal("var '"+t.ident+"' assignment is not defined in the current scope, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'"),i.checkAllVarUsagesInExpression(e,t.expr,n)}else if("player_var_assign"===t.type){var a=e.playerVars.find(function(e){return e.ident===t.ident});a||r.Logger.fatal("player var '"+t.ident+"' assignment is not defined in the current scope, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'"),i.checkAllVarUsagesInExpression(e,t.expr,n)}else if("ternary_expression"===t.type)t.disjunction||(i.checkAllVarUsagesInExpression(e,t.trueExpression,n),i.checkAllVarUsagesInExpression(e,t.falseExpression,n),i.checkAllVarUsagesInExpression(e,{type:"expression",right:{type:"ternary_expression",disjunction:t.condition,falseExpression:null,trueExpression:null,condition:null}},n));else if("primary_ident"===t.type)i.isGlobalOrLocalVarDefined(e,t.ident,n);else if("primary_player_var_ident"===t.type){var a=e.playerVars.find(function(e){return e.ident===t.ident});a||r.Logger.fatal("player var '"+t.ident+"' is used but not defined, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'")}else if("primary_increment"===t.type||"primary_decrement"===t.type){if(null!==t.player){var a=e.playerVars.find(function(e){return e.ident===t.ident});a||r.Logger.fatal("player var '"+t.ident+"' should be incremented but was not defined, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'")}i.isGlobalOrLocalVarDefined(e,t.ident,n)}})},e.isGlobalOrLocalVarDefined=function(e,t,n){var i=e.currentScopeIndex;if(!1!==e.isScopeLimit){var a=e.localVars.find(function(e){return e.scopLevel===i&&e.localVar.ident===t});return a||r.Logger.fatal("local var "+t+" was not defined, scope was limited, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'"),!0}for(;i>=0;){var a=e.localVars.find(function(e){return e.scopLevel===i&&e.localVar.ident===t});if(a)return!0;i--}return e.globalVars.find(function(e){return e.ident===t})||r.Logger.fatal("var "+t+" was not defined, checked all scopes, on field with id '"+n.fieldId+"', on tile '"+n.tileGuid+"'"),!0},e.traverseTree=function(e,t){var n=e.right;switch(n.type){case"assignment":case"player_var_assign":t(n);break;case"ternary_expression":if(t(n),null===n.disjunction)break;var r=n.disjunction;this.traverseDisjunction(r,t);break;default:o.notExhaustive(n)}},e.traverseDisjunction=function(e,t){if(null===e.left)return void this.traverseConjunction(e.right,t);this.traverseConjunction(e.right,t),this.traverseDisjunction(e.left,t)},e.traverseConjunction=function(e,t){if(null===e.left)return void this.traverseComparison(e.right,t);this.traverseComparison(e.right,t),this.traverseConjunction(e.left,t)},e.traverseComparison=function(e,t){if(null===e.left)return void this.traverseRelation(e.right,t);this.traverseRelation(e.right,t),this.traverseRelation(e.left,t)},e.traverseRelation=function(e,t){if(null===e.left)return void this.traverseSum(e.right,t);this.traverseSum(e.right,t),this.traverseSum(e.left,t)},e.traverseSum=function(e,t){if(null===e.left)return void this.traverseTerm(e.right,t);this.traverseTerm(e.right,t),this.traverseSum(e.left,t)},e.traverseTerm=function(e,t){if(null===e.left)return void this.traverseFactor(e.right,t);this.traverseFactor(e.right,t),this.traverseTerm(e.left,t)},e.traverseFactor=function(e,t){if(null===e.left)return void this.traversePrimary(e.right,t);this.traversePrimary(e.right,t),this.traverseFactor(e.left,t)},e.traversePrimary=function(e,t){t(e.primary)},e.compiler=new a.Compiler(s),e}();t.LangHelper=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.top=0]="top",e[e.center=1]="center",e[e.bottom=2]="bottom"}(t.VerticalAlign||(t.VerticalAlign={}));!function(e){e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right"}(t.HorizontalAlign||(t.HorizontalAlign={}));!function(e){e[e.topLeft=0]="topLeft",e[e.top=1]="top",e[e.topRight=2]="topRight",e[e.right=3]="right",e[e.botRight=4]="botRight",e[e.bot=5]="bot",e[e.botLeft=6]="botLeft",e[e.left=7]="left"}(t.DragHandlePos||(t.DragHandlePos={}));!function(e){e[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left"}(t.BorderPointOrientation||(t.BorderPointOrientation={}));!function(e){e[e.free=0]="free",e[e.smooth=1]="smooth",e[e.linear=2]="linear"}(t.CurveMode||(t.CurveMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.topToBottom=0]="topToBottom",e[e.bottomToTop=1]="bottomToTop",e[e.leftToRight=2]="leftToRight",e[e.rightToLeft=3]="rightToLeft"}(t.MajorLineDirection||(t.MajorLineDirection={}))},function(e,t,n){"use strict";function r(){return p++}function i(e){return p=e}function a(e,n){switch(void 0===e&&(e=t.initial),n.type){case f.ADD_fieldShape:return e.concat(s.__assign({},n.fieldShape));case f.REMOVE_fieldShape:return e.filter(function(e){return e.id!==n.fieldShapeId});case f.SET_fieldsArray:return n.fields.slice();case f.CLEAR_fieldShape_connectedLines:return e.map(function(e){return s.__assign({},e,{anchorPoints:e.anchorPoints.map(function(e){return s.__assign({},e,{connectedLineTuples:[]})})})});case f.SET_fieldText:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{text:n.text})});return r;case f.SET_fieldX:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{x:n.x})});return r;case f.SET_fieldY:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{y:n.y})});return r;case f.SET_fieldWidth:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{width:n.width})});return r;case f.SET_fieldHeight:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{height:n.height})});return r;case f.SET_fieldColor:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{color:n.color})});return r;case f.SET_fieldBgColor:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{bgColor:n.color})});return r;case f.SET_fieldVerticalTextAlign:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{verticalTextAlign:n.verticalAlign})});return r;case f.SET_fieldCmdText:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{cmdText:n.cmdText})});return r;case f.SET_fieldHorizontalTextAlign:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{horizontalTextAlign:n.horizontalAlign})});return r;case f.SET_fieldCornerRadius:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{cornerRadiusInPx:n.cornerRadiusInPx})});return r;case f.SET_fieldZIndex:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{zIndex:n.zIndex})});return r;case f.SET_fieldCreatedFromSymbolId:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{createdFromSymbolGuid:n.createdFromSymbolGuid})});return r;case f.SET_fieldPadding:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{padding:{top:n.paddingTop,right:n.paddingRight,bottom:n.paddingBottom,left:n.paddingLeft}})});return r;case f.SET_fieldBorderColor:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{borderColor:n.borderColor})});return r;case f.SET_fieldBorderSizeInPx:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{borderSizeInPx:n.borderSizeInPx})});return r;case f.SET_fieldAnchorPoints:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{anchorPoints:n.anchorPoints.map(function(e){return s.__assign({},e,{percentX:Math.max(0,Math.min(100,e.percentX)),percentY:Math.max(0,Math.min(100,e.percentY))})})})});return r;case f.SET_fieldFontName:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{fontName:n.fontName})});return r;case f.SET_fieldFontSizeInPx:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{fontSizeInPx:n.fontSizeInPx})});return r;case f.SET_field_isFontBold:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{isFontBold:n.isFontBold})});return r;case f.SET_field_isFontItalic:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{isFontItalic:n.isFontItalic})});return r;case f.SET_field_rotationInDegree:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{rotationInDegree:n.rotationInDegree})});return r;case f.SET_field_backgroundImgGuid:var r=c.replaceProperty(e,n.fieldId,function(e){return s.__assign({},e,{backgroundImgGuid:n.backgroundImgGuid})});return r;case f.RESET:return t.initial;default:return l.notExhaustive(n),e}}function o(){h++}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=n(5),c=n(34),u=n(11),d=n(10),p=0;t.getNextShapeId=r,t.__setNextShapeId=i,t.initial=[];var f;!function(e){e.SET_fieldsArray="fieldPropertyReducer_SET_fieldsArray",e.ADD_fieldShape="tileEditorReducer_ADD_fieldShape",e.REMOVE_fieldShape="tileEditorReducer_REMOVE_fieldShape",e.CLEAR_fieldShape_connectedLines="tileEditorReducer_CLEAR_fieldShape_connectedLines",e.SET_fieldText="fieldPropertyReducer_SET_fieldText",e.SET_fieldX="fieldPropertyReducer_SET_fieldXAction",e.SET_fieldY="fieldPropertyReducer_SET_fieldYAction",e.SET_fieldWidth="fieldPropertyReducer_SET_fieldWidthAction",e.SET_fieldHeight="fieldPropertyReducer_SET_fieldHeightAction",e.SET_fieldColor="fieldPropertyReducer_SET_fieldColorAction",e.SET_fieldBgColor="fieldPropertyReducer_SET_fieldBgColorAction",e.SET_fieldVerticalTextAlign="fieldPropertyReducer_SET_fieldVerticalTextAlign",e.SET_fieldHorizontalTextAlign="fieldPropertyReducer_SET_fieldHorizontalTextAlign",e.SET_fieldCmdText="fieldPropertyReducer_SET_fieldCmdText",e.SET_fieldCornerRadius="fieldPropertyReducer_SET_fieldCornerRadius",e.SET_field_isFontBold="fieldPropertyReducer_SET_field_isFontBold",e.SET_field_isFontItalic="fieldPropertyReducer_SET_field_isFontItalic",e.SET_fieldZIndex="fieldPropertyReducer_SET_fieldZIndex",e.SET_fieldAnchorPoints="fieldPropertyReducer_SET_fieldAnchorPoints",e.SET_fieldCreatedFromSymbolId="fieldPropertyReducer_SET_fieldCreatedFromSymbolId",e.SET_fieldPadding="fieldPropertyReducer_SET_fieldPadding",e.SET_field_rotationInDegree="fieldPropertyReducer_SET_field_rotationInDegree",e.SET_fieldBorderSizeInPx="fieldPropertyReducer_SET_fieldBorderSizeInPx",e.SET_fieldBorderColor="fieldPropertyReducer_SET_fieldBorderColor",e.SET_fieldFontName="fieldPropertyReducer_SET_fieldFontName",e.SET_fieldFontSizeInPx="fieldPropertyReducer_SET_fieldFontSizeInPx",e.SET_field_backgroundImgGuid="fieldPropertyReducer_SET_fieldBackgroundImgGuid",e.RESET="fieldPropertyReducer_RESET"}(f=t.ActionType||(t.ActionType={}));var m;!function(e){e.undo="field_shapesReducer_undo",e.redo="field_shapesReducer_redo"}(m=t.UndoFieldShapeType||(t.UndoFieldShapeType={}));var h=0;t.incFieldHistoryId=o,t.reducer=u.default(a,{limit:d.undoShapeLimit,undoType:m.undo,redoType:m.redo,clearHistoryType:d.clearTileEditorEditShapesType,filter:u.excludeAction([f.SET_fieldAnchorPoints]),groupBy:function(e,t){return e.type===f.SET_fieldX||e.type===f.SET_fieldY?f.SET_fieldX+f.SET_fieldY+h:e.type===f.SET_field_isFontItalic||e.type===f.SET_field_isFontBold||e.type===f.SET_fieldHorizontalTextAlign||e.type===f.SET_fieldVerticalTextAlign?null:e.type+h}})},function(e,t,n){"use strict";function r(e,t,n,r){return e.map(function(e){return e.id!==t?r?r(e):e:n(e)})}function i(e,t,n,r){return e.map(function(e){return e.guid!==t?r?r(e):e:n(e)})}function a(e){return new Promise(function(t){setTimeout(function(){t()},e)})}var o=this;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceProperty=r,t.replacePropertyByGuid=i,t.debounce=function(e,t,n){var r;return function(){var i=o,a=function(){r=null,n||e.apply(i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i)}},t.delay=a},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n=(0,g.newHistory)([],e,[]);return t&&(n._latestUnfiltered=null),n}function a(e){return e.past.length+1}function o(e,t,n,i){m.log("inserting",t),m.log("new free: ",n-a(e));var o=e.past,s=e._latestUnfiltered,l=n&&a(e)>=n,c=o.slice(l?1:0),u=null!=s?[].concat(r(c),[s]):c;return(0,g.newHistory)(u,t,[],i)}function s(e,t){if(t<0||t>=e.future.length)return e;var n=e.past,i=e.future,a=e._latestUnfiltered,o=[].concat(r(n),[a],r(i.slice(0,t))),s=i[t],l=i.slice(t+1);return(0,g.newHistory)(o,s,l)}function l(e,t){if(t<0||t>=e.past.length)return e;var n=e.past,i=e.future,a=e._latestUnfiltered,o=n.slice(0,t),s=[].concat(r(n.slice(t+1)),[a],r(i)),l=n[t];return(0,g.newHistory)(o,l,s)}function c(e,t){return t>0?s(e,t-1):t<0?l(e,e.past.length+t):e}function u(e,t){return t.indexOf(e)>-1?e:!e}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.set(t.debug);var n={initTypes:(0,g.parseActions)(t.initTypes,["@@redux-undo/INIT"]),limit:t.limit,filter:t.filter||function(){return!0},groupBy:t.groupBy||function(){return null},undoType:t.undoType||h.ActionTypes.UNDO,redoType:t.redoType||h.ActionTypes.REDO,jumpToPastType:t.jumpToPastType||h.ActionTypes.JUMP_TO_PAST,jumpToFutureType:t.jumpToFutureType||h.ActionTypes.JUMP_TO_FUTURE,jumpType:t.jumpType||h.ActionTypes.JUMP,clearHistoryType:Array.isArray(t.clearHistoryType)?t.clearHistoryType:[t.clearHistoryType||h.ActionTypes.CLEAR_HISTORY],neverSkipReducer:t.neverSkipReducer||!1,ignoreInitialState:t.ignoreInitialState||!1,syncFilter:t.syncFilter||!1},r=n.history;return function(){for(var t=arguments.length,a=Array(t>2?t-2:0),d=2;d<t;d++)a[d-2]=arguments[d];var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.start(y,f);var w=f;if(!r)if(m.log("history is uninitialized"),void 0===f){var b={type:h.ActionTypes.CLEAR_HISTORY},_=e.apply(void 0,[f,b].concat(a));w=i(_,n.ignoreInitialState),m.log("do not set initialState on probe actions")}else(0,g.isHistory)(f)?(w=r=n.ignoreInitialState?f:(0,g.newHistory)(f.past,f.present,f.future),m.log("initialHistory initialized: initialState is a history",r)):(w=r=i(f,n.ignoreInitialState),m.log("initialHistory initialized: initialState is not a history",r));var v=function(t){return n.neverSkipReducer?p({},t,{present:e.apply(void 0,[t.present,y].concat(a))}):t},x=void 0;switch(y.type){case void 0:return w;case n.undoType:return x=c(w,-1),m.log("perform undo"),m.end(x),v(x);case n.redoType:return x=c(w,1),m.log("perform redo"),m.end(x),v(x);case n.jumpToPastType:return x=l(w,y.index),m.log("perform jumpToPast to "+y.index),m.end(x),v(x);case n.jumpToFutureType:return x=s(w,y.index),m.log("perform jumpToFuture to "+y.index),m.end(x),v(x);case n.jumpType:return x=c(w,y.index),m.log("perform jump to "+y.index),m.end(x),v(x);case u(y.type,n.clearHistoryType):return x=i(w.present),m.log("perform clearHistory"),m.end(x),v(x);default:if(x=e.apply(void 0,[w.present,y].concat(a)),n.initTypes.some(function(e){return e===y.type}))return m.log("reset history due to init action"),m.end(r),r;if(w._latestUnfiltered===x)return w;var S="function"==typeof n.filter&&!n.filter(y,x,w),k=n.groupBy(y,x,w);if(S){var I=(0,g.newHistory)(w.past,x,w.future,w.group);return n.syncFilter||(I._latestUnfiltered=w._latestUnfiltered),m.log("filter ignored action, not storing it in past"),m.end(I),I}if(null!=k&&k===w.group){var T=(0,g.newHistory)(w.past,x,w.future,w.group);return m.log("groupBy grouped the action with the previous action"),m.end(T),T}return w=o(w,x,n.limit,k),m.log("inserted new state into history"),m.end(w),w}}}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=d;var f=n(36),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),h=n(12),g=n(13);e.exports=t.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){p={header:[],prev:[],action:[],next:[],msgs:[]}}function a(){var e=p,t=e.header,n=e.prev,i=e.next,a=e.action,o=e.msgs;if(console.group){var s,l,c,u,d;(s=console).groupCollapsed.apply(s,r(t)),(l=console).log.apply(l,r(n)),(c=console).log.apply(c,r(a)),(u=console).log.apply(u,r(i)),(d=console).log.apply(d,r(o)),console.groupEnd()}else{var f,m,h,g,y;(f=console).log.apply(f,r(t)),(m=console).log.apply(m,r(n)),(h=console).log.apply(h,r(a)),(g=console).log.apply(g,r(i)),(y=console).log.apply(y,r(o))}}function o(e,t,n){return["%c"+e,"color: "+t+"; font-weight: bold",n]}function s(e,t){i(),d&&(console.group?(p.header=["%credux-undo","font-style: italic","action",e.type],p.action=o("action",f.action,e),p.prev=o("prev history",f.prevState,t)):(p.header=["redux-undo action",e.type],p.action=["action",e],p.prev=["prev history",t]))}function l(e){d&&(console.group?p.next=o("next history",f.nextState,e):p.next=["next history",e],a())}function c(){if(d){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];p.msgs=p.msgs.concat([].concat(t,["\n"]))}}function u(e){d=e}Object.defineProperty(t,"__esModule",{value:!0});var d=void 0,p=void 0,f={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};t.set=u,t.start=s,t.end=l,t.log=c},function(e,t,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function i(e){return null!==e.match(t.guidRegex)}Object.defineProperty(t,"__esModule",{value:!0}),t.getGuid=r,t.guidRegex=/[\w]{8}-[\w]{4}-4[\w]{3}-[\w]{4}-[\w]{12}/i,t.isGuid=i}]);